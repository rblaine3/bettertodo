"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/langchain";
exports.ids = ["vendor-chunks/langchain"];
exports.modules = {

/***/ "(rsc)/./node_modules/langchain/dist/chains/api/api_chain.js":
/*!*************************************************************!*\
  !*** ./node_modules/langchain/dist/chains/api/api_chain.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   APIChain: () => (/* binding */ APIChain)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../base.js */ \"(rsc)/./node_modules/langchain/dist/chains/base.js\");\n/* harmony import */ var _llm_chain_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../llm_chain.js */ \"(rsc)/./node_modules/langchain/dist/chains/llm_chain.js\");\n/* harmony import */ var _prompts_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./prompts.js */ \"(rsc)/./node_modules/langchain/dist/chains/api/prompts.js\");\n\n\n\n/**\n * Class that extends BaseChain and represents a chain specifically\n * designed for making API requests and processing API responses.\n */ class APIChain extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseChain {\n    get inputKeys() {\n        return [\n            this.inputKey\n        ];\n    }\n    get outputKeys() {\n        return [\n            this.outputKey\n        ];\n    }\n    constructor(fields){\n        super(fields);\n        Object.defineProperty(this, \"apiAnswerChain\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"apiRequestChain\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"apiDocs\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"headers\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: {}\n        });\n        Object.defineProperty(this, \"inputKey\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: \"question\"\n        });\n        Object.defineProperty(this, \"outputKey\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: \"output\"\n        });\n        this.apiRequestChain = fields.apiRequestChain;\n        this.apiAnswerChain = fields.apiAnswerChain;\n        this.apiDocs = fields.apiDocs;\n        this.inputKey = fields.inputKey ?? this.inputKey;\n        this.outputKey = fields.outputKey ?? this.outputKey;\n        this.headers = fields.headers ?? this.headers;\n    }\n    /** @ignore */ async _call(values, runManager) {\n        const question = values[this.inputKey];\n        const api_url = await this.apiRequestChain.predict({\n            question,\n            api_docs: this.apiDocs\n        }, runManager?.getChild(\"request\"));\n        const res = await fetch(api_url, {\n            headers: this.headers\n        });\n        const api_response = await res.text();\n        const answer = await this.apiAnswerChain.predict({\n            question,\n            api_docs: this.apiDocs,\n            api_url,\n            api_response\n        }, runManager?.getChild(\"response\"));\n        return {\n            [this.outputKey]: answer\n        };\n    }\n    _chainType() {\n        return \"api_chain\";\n    }\n    static async deserialize(data) {\n        const { api_request_chain, api_answer_chain, api_docs } = data;\n        if (!api_request_chain) {\n            throw new Error(\"LLMChain must have api_request_chain\");\n        }\n        if (!api_answer_chain) {\n            throw new Error(\"LLMChain must have api_answer_chain\");\n        }\n        if (!api_docs) {\n            throw new Error(\"LLMChain must have api_docs\");\n        }\n        return new APIChain({\n            apiAnswerChain: await _llm_chain_js__WEBPACK_IMPORTED_MODULE_1__.LLMChain.deserialize(api_answer_chain),\n            apiRequestChain: await _llm_chain_js__WEBPACK_IMPORTED_MODULE_1__.LLMChain.deserialize(api_request_chain),\n            apiDocs: api_docs\n        });\n    }\n    serialize() {\n        return {\n            _type: this._chainType(),\n            api_answer_chain: this.apiAnswerChain.serialize(),\n            api_request_chain: this.apiRequestChain.serialize(),\n            api_docs: this.apiDocs\n        };\n    }\n    /**\n     * Static method to create a new APIChain from a BaseLanguageModel and API\n     * documentation.\n     * @param llm BaseLanguageModel instance.\n     * @param apiDocs API documentation.\n     * @param options Optional configuration options for the APIChain.\n     * @returns New APIChain instance.\n     */ static fromLLMAndAPIDocs(llm, apiDocs, options = {}) {\n        const { apiUrlPrompt = _prompts_js__WEBPACK_IMPORTED_MODULE_2__.API_URL_PROMPT_TEMPLATE, apiResponsePrompt = _prompts_js__WEBPACK_IMPORTED_MODULE_2__.API_RESPONSE_PROMPT_TEMPLATE } = options;\n        const apiRequestChain = new _llm_chain_js__WEBPACK_IMPORTED_MODULE_1__.LLMChain({\n            prompt: apiUrlPrompt,\n            llm\n        });\n        const apiAnswerChain = new _llm_chain_js__WEBPACK_IMPORTED_MODULE_1__.LLMChain({\n            prompt: apiResponsePrompt,\n            llm\n        });\n        return new this({\n            apiAnswerChain,\n            apiRequestChain,\n            apiDocs,\n            ...options\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvY2hhaW5zL2FwaS9hcGlfY2hhaW4uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUF1QztBQUNJO0FBQzJDO0FBQ3RGOzs7Q0FHQyxHQUNNLE1BQU1JLGlCQUFpQkosK0NBQVNBO0lBQ25DLElBQUlLLFlBQVk7UUFDWixPQUFPO1lBQUMsSUFBSSxDQUFDQyxRQUFRO1NBQUM7SUFDMUI7SUFDQSxJQUFJQyxhQUFhO1FBQ2IsT0FBTztZQUFDLElBQUksQ0FBQ0MsU0FBUztTQUFDO0lBQzNCO0lBQ0FDLFlBQVlDLE1BQU0sQ0FBRTtRQUNoQixLQUFLLENBQUNBO1FBQ05DLE9BQU9DLGNBQWMsQ0FBQyxJQUFJLEVBQUUsa0JBQWtCO1lBQzFDQyxZQUFZO1lBQ1pDLGNBQWM7WUFDZEMsVUFBVTtZQUNWQyxPQUFPLEtBQUs7UUFDaEI7UUFDQUwsT0FBT0MsY0FBYyxDQUFDLElBQUksRUFBRSxtQkFBbUI7WUFDM0NDLFlBQVk7WUFDWkMsY0FBYztZQUNkQyxVQUFVO1lBQ1ZDLE9BQU8sS0FBSztRQUNoQjtRQUNBTCxPQUFPQyxjQUFjLENBQUMsSUFBSSxFQUFFLFdBQVc7WUFDbkNDLFlBQVk7WUFDWkMsY0FBYztZQUNkQyxVQUFVO1lBQ1ZDLE9BQU8sS0FBSztRQUNoQjtRQUNBTCxPQUFPQyxjQUFjLENBQUMsSUFBSSxFQUFFLFdBQVc7WUFDbkNDLFlBQVk7WUFDWkMsY0FBYztZQUNkQyxVQUFVO1lBQ1ZDLE9BQU8sQ0FBQztRQUNaO1FBQ0FMLE9BQU9DLGNBQWMsQ0FBQyxJQUFJLEVBQUUsWUFBWTtZQUNwQ0MsWUFBWTtZQUNaQyxjQUFjO1lBQ2RDLFVBQVU7WUFDVkMsT0FBTztRQUNYO1FBQ0FMLE9BQU9DLGNBQWMsQ0FBQyxJQUFJLEVBQUUsYUFBYTtZQUNyQ0MsWUFBWTtZQUNaQyxjQUFjO1lBQ2RDLFVBQVU7WUFDVkMsT0FBTztRQUNYO1FBQ0EsSUFBSSxDQUFDQyxlQUFlLEdBQUdQLE9BQU9PLGVBQWU7UUFDN0MsSUFBSSxDQUFDQyxjQUFjLEdBQUdSLE9BQU9RLGNBQWM7UUFDM0MsSUFBSSxDQUFDQyxPQUFPLEdBQUdULE9BQU9TLE9BQU87UUFDN0IsSUFBSSxDQUFDYixRQUFRLEdBQUdJLE9BQU9KLFFBQVEsSUFBSSxJQUFJLENBQUNBLFFBQVE7UUFDaEQsSUFBSSxDQUFDRSxTQUFTLEdBQUdFLE9BQU9GLFNBQVMsSUFBSSxJQUFJLENBQUNBLFNBQVM7UUFDbkQsSUFBSSxDQUFDWSxPQUFPLEdBQUdWLE9BQU9VLE9BQU8sSUFBSSxJQUFJLENBQUNBLE9BQU87SUFDakQ7SUFDQSxZQUFZLEdBQ1osTUFBTUMsTUFBTUMsTUFBTSxFQUFFQyxVQUFVLEVBQUU7UUFDNUIsTUFBTUMsV0FBV0YsTUFBTSxDQUFDLElBQUksQ0FBQ2hCLFFBQVEsQ0FBQztRQUN0QyxNQUFNbUIsVUFBVSxNQUFNLElBQUksQ0FBQ1IsZUFBZSxDQUFDUyxPQUFPLENBQUM7WUFBRUY7WUFBVUcsVUFBVSxJQUFJLENBQUNSLE9BQU87UUFBQyxHQUFHSSxZQUFZSyxTQUFTO1FBQzlHLE1BQU1DLE1BQU0sTUFBTUMsTUFBTUwsU0FBUztZQUFFTCxTQUFTLElBQUksQ0FBQ0EsT0FBTztRQUFDO1FBQ3pELE1BQU1XLGVBQWUsTUFBTUYsSUFBSUcsSUFBSTtRQUNuQyxNQUFNQyxTQUFTLE1BQU0sSUFBSSxDQUFDZixjQUFjLENBQUNRLE9BQU8sQ0FBQztZQUFFRjtZQUFVRyxVQUFVLElBQUksQ0FBQ1IsT0FBTztZQUFFTTtZQUFTTTtRQUFhLEdBQUdSLFlBQVlLLFNBQVM7UUFDbkksT0FBTztZQUFFLENBQUMsSUFBSSxDQUFDcEIsU0FBUyxDQUFDLEVBQUV5QjtRQUFPO0lBQ3RDO0lBQ0FDLGFBQWE7UUFDVCxPQUFPO0lBQ1g7SUFDQSxhQUFhQyxZQUFZQyxJQUFJLEVBQUU7UUFDM0IsTUFBTSxFQUFFQyxpQkFBaUIsRUFBRUMsZ0JBQWdCLEVBQUVYLFFBQVEsRUFBRSxHQUFHUztRQUMxRCxJQUFJLENBQUNDLG1CQUFtQjtZQUNwQixNQUFNLElBQUlFLE1BQU07UUFDcEI7UUFDQSxJQUFJLENBQUNELGtCQUFrQjtZQUNuQixNQUFNLElBQUlDLE1BQU07UUFDcEI7UUFDQSxJQUFJLENBQUNaLFVBQVU7WUFDWCxNQUFNLElBQUlZLE1BQU07UUFDcEI7UUFDQSxPQUFPLElBQUluQyxTQUFTO1lBQ2hCYyxnQkFBZ0IsTUFBTWpCLG1EQUFRQSxDQUFDa0MsV0FBVyxDQUFDRztZQUMzQ3JCLGlCQUFpQixNQUFNaEIsbURBQVFBLENBQUNrQyxXQUFXLENBQUNFO1lBQzVDbEIsU0FBU1E7UUFDYjtJQUNKO0lBQ0FhLFlBQVk7UUFDUixPQUFPO1lBQ0hDLE9BQU8sSUFBSSxDQUFDUCxVQUFVO1lBQ3RCSSxrQkFBa0IsSUFBSSxDQUFDcEIsY0FBYyxDQUFDc0IsU0FBUztZQUMvQ0gsbUJBQW1CLElBQUksQ0FBQ3BCLGVBQWUsQ0FBQ3VCLFNBQVM7WUFDakRiLFVBQVUsSUFBSSxDQUFDUixPQUFPO1FBQzFCO0lBQ0o7SUFDQTs7Ozs7OztLQU9DLEdBQ0QsT0FBT3VCLGtCQUFrQkMsR0FBRyxFQUFFeEIsT0FBTyxFQUFFeUIsVUFBVSxDQUFDLENBQUMsRUFBRTtRQUNqRCxNQUFNLEVBQUVDLGVBQWUzQyxnRUFBdUIsRUFBRTRDLG9CQUFvQjNDLHFFQUE0QixFQUFHLEdBQUd5QztRQUN0RyxNQUFNM0Isa0JBQWtCLElBQUloQixtREFBUUEsQ0FBQztZQUFFOEMsUUFBUUY7WUFBY0Y7UUFBSTtRQUNqRSxNQUFNekIsaUJBQWlCLElBQUlqQixtREFBUUEsQ0FBQztZQUFFOEMsUUFBUUQ7WUFBbUJIO1FBQUk7UUFDckUsT0FBTyxJQUFJLElBQUksQ0FBQztZQUNaekI7WUFDQUQ7WUFDQUU7WUFDQSxHQUFHeUIsT0FBTztRQUNkO0lBQ0o7QUFDSiIsInNvdXJjZXMiOlsid2VicGFjazovL2JldHRlci10b2RvLy4vbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L2NoYWlucy9hcGkvYXBpX2NoYWluLmpzPzI1MDUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQmFzZUNoYWluIH0gZnJvbSBcIi4uL2Jhc2UuanNcIjtcbmltcG9ydCB7IExMTUNoYWluIH0gZnJvbSBcIi4uL2xsbV9jaGFpbi5qc1wiO1xuaW1wb3J0IHsgQVBJX1VSTF9QUk9NUFRfVEVNUExBVEUsIEFQSV9SRVNQT05TRV9QUk9NUFRfVEVNUExBVEUsIH0gZnJvbSBcIi4vcHJvbXB0cy5qc1wiO1xuLyoqXG4gKiBDbGFzcyB0aGF0IGV4dGVuZHMgQmFzZUNoYWluIGFuZCByZXByZXNlbnRzIGEgY2hhaW4gc3BlY2lmaWNhbGx5XG4gKiBkZXNpZ25lZCBmb3IgbWFraW5nIEFQSSByZXF1ZXN0cyBhbmQgcHJvY2Vzc2luZyBBUEkgcmVzcG9uc2VzLlxuICovXG5leHBvcnQgY2xhc3MgQVBJQ2hhaW4gZXh0ZW5kcyBCYXNlQ2hhaW4ge1xuICAgIGdldCBpbnB1dEtleXMoKSB7XG4gICAgICAgIHJldHVybiBbdGhpcy5pbnB1dEtleV07XG4gICAgfVxuICAgIGdldCBvdXRwdXRLZXlzKCkge1xuICAgICAgICByZXR1cm4gW3RoaXMub3V0cHV0S2V5XTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoZmllbGRzKSB7XG4gICAgICAgIHN1cGVyKGZpZWxkcyk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImFwaUFuc3dlckNoYWluXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImFwaVJlcXVlc3RDaGFpblwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJhcGlEb2NzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImhlYWRlcnNcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHt9XG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJpbnB1dEtleVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogXCJxdWVzdGlvblwiXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJvdXRwdXRLZXlcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFwib3V0cHV0XCJcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuYXBpUmVxdWVzdENoYWluID0gZmllbGRzLmFwaVJlcXVlc3RDaGFpbjtcbiAgICAgICAgdGhpcy5hcGlBbnN3ZXJDaGFpbiA9IGZpZWxkcy5hcGlBbnN3ZXJDaGFpbjtcbiAgICAgICAgdGhpcy5hcGlEb2NzID0gZmllbGRzLmFwaURvY3M7XG4gICAgICAgIHRoaXMuaW5wdXRLZXkgPSBmaWVsZHMuaW5wdXRLZXkgPz8gdGhpcy5pbnB1dEtleTtcbiAgICAgICAgdGhpcy5vdXRwdXRLZXkgPSBmaWVsZHMub3V0cHV0S2V5ID8/IHRoaXMub3V0cHV0S2V5O1xuICAgICAgICB0aGlzLmhlYWRlcnMgPSBmaWVsZHMuaGVhZGVycyA/PyB0aGlzLmhlYWRlcnM7XG4gICAgfVxuICAgIC8qKiBAaWdub3JlICovXG4gICAgYXN5bmMgX2NhbGwodmFsdWVzLCBydW5NYW5hZ2VyKSB7XG4gICAgICAgIGNvbnN0IHF1ZXN0aW9uID0gdmFsdWVzW3RoaXMuaW5wdXRLZXldO1xuICAgICAgICBjb25zdCBhcGlfdXJsID0gYXdhaXQgdGhpcy5hcGlSZXF1ZXN0Q2hhaW4ucHJlZGljdCh7IHF1ZXN0aW9uLCBhcGlfZG9jczogdGhpcy5hcGlEb2NzIH0sIHJ1bk1hbmFnZXI/LmdldENoaWxkKFwicmVxdWVzdFwiKSk7XG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGFwaV91cmwsIHsgaGVhZGVyczogdGhpcy5oZWFkZXJzIH0pO1xuICAgICAgICBjb25zdCBhcGlfcmVzcG9uc2UgPSBhd2FpdCByZXMudGV4dCgpO1xuICAgICAgICBjb25zdCBhbnN3ZXIgPSBhd2FpdCB0aGlzLmFwaUFuc3dlckNoYWluLnByZWRpY3QoeyBxdWVzdGlvbiwgYXBpX2RvY3M6IHRoaXMuYXBpRG9jcywgYXBpX3VybCwgYXBpX3Jlc3BvbnNlIH0sIHJ1bk1hbmFnZXI/LmdldENoaWxkKFwicmVzcG9uc2VcIikpO1xuICAgICAgICByZXR1cm4geyBbdGhpcy5vdXRwdXRLZXldOiBhbnN3ZXIgfTtcbiAgICB9XG4gICAgX2NoYWluVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiYXBpX2NoYWluXCI7XG4gICAgfVxuICAgIHN0YXRpYyBhc3luYyBkZXNlcmlhbGl6ZShkYXRhKSB7XG4gICAgICAgIGNvbnN0IHsgYXBpX3JlcXVlc3RfY2hhaW4sIGFwaV9hbnN3ZXJfY2hhaW4sIGFwaV9kb2NzIH0gPSBkYXRhO1xuICAgICAgICBpZiAoIWFwaV9yZXF1ZXN0X2NoYWluKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJMTE1DaGFpbiBtdXN0IGhhdmUgYXBpX3JlcXVlc3RfY2hhaW5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFhcGlfYW5zd2VyX2NoYWluKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJMTE1DaGFpbiBtdXN0IGhhdmUgYXBpX2Fuc3dlcl9jaGFpblwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWFwaV9kb2NzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJMTE1DaGFpbiBtdXN0IGhhdmUgYXBpX2RvY3NcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBBUElDaGFpbih7XG4gICAgICAgICAgICBhcGlBbnN3ZXJDaGFpbjogYXdhaXQgTExNQ2hhaW4uZGVzZXJpYWxpemUoYXBpX2Fuc3dlcl9jaGFpbiksXG4gICAgICAgICAgICBhcGlSZXF1ZXN0Q2hhaW46IGF3YWl0IExMTUNoYWluLmRlc2VyaWFsaXplKGFwaV9yZXF1ZXN0X2NoYWluKSxcbiAgICAgICAgICAgIGFwaURvY3M6IGFwaV9kb2NzLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2VyaWFsaXplKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgX3R5cGU6IHRoaXMuX2NoYWluVHlwZSgpLFxuICAgICAgICAgICAgYXBpX2Fuc3dlcl9jaGFpbjogdGhpcy5hcGlBbnN3ZXJDaGFpbi5zZXJpYWxpemUoKSxcbiAgICAgICAgICAgIGFwaV9yZXF1ZXN0X2NoYWluOiB0aGlzLmFwaVJlcXVlc3RDaGFpbi5zZXJpYWxpemUoKSxcbiAgICAgICAgICAgIGFwaV9kb2NzOiB0aGlzLmFwaURvY3MsXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0YXRpYyBtZXRob2QgdG8gY3JlYXRlIGEgbmV3IEFQSUNoYWluIGZyb20gYSBCYXNlTGFuZ3VhZ2VNb2RlbCBhbmQgQVBJXG4gICAgICogZG9jdW1lbnRhdGlvbi5cbiAgICAgKiBAcGFyYW0gbGxtIEJhc2VMYW5ndWFnZU1vZGVsIGluc3RhbmNlLlxuICAgICAqIEBwYXJhbSBhcGlEb2NzIEFQSSBkb2N1bWVudGF0aW9uLlxuICAgICAqIEBwYXJhbSBvcHRpb25zIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgdGhlIEFQSUNoYWluLlxuICAgICAqIEByZXR1cm5zIE5ldyBBUElDaGFpbiBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBzdGF0aWMgZnJvbUxMTUFuZEFQSURvY3MobGxtLCBhcGlEb2NzLCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgY29uc3QgeyBhcGlVcmxQcm9tcHQgPSBBUElfVVJMX1BST01QVF9URU1QTEFURSwgYXBpUmVzcG9uc2VQcm9tcHQgPSBBUElfUkVTUE9OU0VfUFJPTVBUX1RFTVBMQVRFLCB9ID0gb3B0aW9ucztcbiAgICAgICAgY29uc3QgYXBpUmVxdWVzdENoYWluID0gbmV3IExMTUNoYWluKHsgcHJvbXB0OiBhcGlVcmxQcm9tcHQsIGxsbSB9KTtcbiAgICAgICAgY29uc3QgYXBpQW5zd2VyQ2hhaW4gPSBuZXcgTExNQ2hhaW4oeyBwcm9tcHQ6IGFwaVJlc3BvbnNlUHJvbXB0LCBsbG0gfSk7XG4gICAgICAgIHJldHVybiBuZXcgdGhpcyh7XG4gICAgICAgICAgICBhcGlBbnN3ZXJDaGFpbixcbiAgICAgICAgICAgIGFwaVJlcXVlc3RDaGFpbixcbiAgICAgICAgICAgIGFwaURvY3MsXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICB9KTtcbiAgICB9XG59XG4iXSwibmFtZXMiOlsiQmFzZUNoYWluIiwiTExNQ2hhaW4iLCJBUElfVVJMX1BST01QVF9URU1QTEFURSIsIkFQSV9SRVNQT05TRV9QUk9NUFRfVEVNUExBVEUiLCJBUElDaGFpbiIsImlucHV0S2V5cyIsImlucHV0S2V5Iiwib3V0cHV0S2V5cyIsIm91dHB1dEtleSIsImNvbnN0cnVjdG9yIiwiZmllbGRzIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJ2YWx1ZSIsImFwaVJlcXVlc3RDaGFpbiIsImFwaUFuc3dlckNoYWluIiwiYXBpRG9jcyIsImhlYWRlcnMiLCJfY2FsbCIsInZhbHVlcyIsInJ1bk1hbmFnZXIiLCJxdWVzdGlvbiIsImFwaV91cmwiLCJwcmVkaWN0IiwiYXBpX2RvY3MiLCJnZXRDaGlsZCIsInJlcyIsImZldGNoIiwiYXBpX3Jlc3BvbnNlIiwidGV4dCIsImFuc3dlciIsIl9jaGFpblR5cGUiLCJkZXNlcmlhbGl6ZSIsImRhdGEiLCJhcGlfcmVxdWVzdF9jaGFpbiIsImFwaV9hbnN3ZXJfY2hhaW4iLCJFcnJvciIsInNlcmlhbGl6ZSIsIl90eXBlIiwiZnJvbUxMTUFuZEFQSURvY3MiLCJsbG0iLCJvcHRpb25zIiwiYXBpVXJsUHJvbXB0IiwiYXBpUmVzcG9uc2VQcm9tcHQiLCJwcm9tcHQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/langchain/dist/chains/api/api_chain.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/langchain/dist/chains/api/prompts.js":
/*!***********************************************************!*\
  !*** ./node_modules/langchain/dist/chains/api/prompts.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   API_RESPONSE_PROMPT_TEMPLATE: () => (/* binding */ API_RESPONSE_PROMPT_TEMPLATE),\n/* harmony export */   API_RESPONSE_RAW_PROMPT_TEMPLATE: () => (/* binding */ API_RESPONSE_RAW_PROMPT_TEMPLATE),\n/* harmony export */   API_URL_PROMPT_TEMPLATE: () => (/* binding */ API_URL_PROMPT_TEMPLATE),\n/* harmony export */   API_URL_RAW_PROMPT_TEMPLATE: () => (/* binding */ API_URL_RAW_PROMPT_TEMPLATE)\n/* harmony export */ });\n/* harmony import */ var _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @langchain/core/prompts */ \"(rsc)/./node_modules/@langchain/core/prompts.js\");\n/* eslint-disable spaced-comment */ \nconst API_URL_RAW_PROMPT_TEMPLATE = `You are given the below API Documentation:\n{api_docs}\nUsing this documentation, generate the full API url to call for answering the user question.\nYou should build the API url in order to get a response that is as short as possible, while still getting the necessary information to answer the question. Pay attention to deliberately exclude any unnecessary pieces of data in the API call.\n\nQuestion:{question}\nAPI url:`;\nconst API_URL_PROMPT_TEMPLATE = /* #__PURE__ */ new _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_0__.PromptTemplate({\n    inputVariables: [\n        \"api_docs\",\n        \"question\"\n    ],\n    template: API_URL_RAW_PROMPT_TEMPLATE\n});\nconst API_RESPONSE_RAW_PROMPT_TEMPLATE = `${API_URL_RAW_PROMPT_TEMPLATE} {api_url}\n\nHere is the response from the API:\n\n{api_response}\n\nSummarize this response to answer the original question.\n\nSummary:`;\nconst API_RESPONSE_PROMPT_TEMPLATE = /* #__PURE__ */ new _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_0__.PromptTemplate({\n    inputVariables: [\n        \"api_docs\",\n        \"question\",\n        \"api_url\",\n        \"api_response\"\n    ],\n    template: API_RESPONSE_RAW_PROMPT_TEMPLATE\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvY2hhaW5zL2FwaS9wcm9tcHRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUEsaUNBQWlDLEdBQ3dCO0FBQ2xELE1BQU1DLDhCQUE4QixDQUFDOzs7Ozs7UUFNcEMsQ0FBQyxDQUFDO0FBQ0gsTUFBTUMsMEJBQTBCLGFBQWEsR0FBRyxJQUFJRixtRUFBY0EsQ0FBQztJQUN0RUcsZ0JBQWdCO1FBQUM7UUFBWTtLQUFXO0lBQ3hDQyxVQUFVSDtBQUNkLEdBQUc7QUFDSSxNQUFNSSxtQ0FBbUMsQ0FBQyxFQUFFSiw0QkFBNEI7Ozs7Ozs7O1FBUXZFLENBQUMsQ0FBQztBQUNILE1BQU1LLCtCQUErQixhQUFhLEdBQUcsSUFBSU4sbUVBQWNBLENBQUM7SUFDM0VHLGdCQUFnQjtRQUFDO1FBQVk7UUFBWTtRQUFXO0tBQWU7SUFDbkVDLFVBQVVDO0FBQ2QsR0FBRyIsInNvdXJjZXMiOlsid2VicGFjazovL2JldHRlci10b2RvLy4vbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L2NoYWlucy9hcGkvcHJvbXB0cy5qcz85ZjE1Il0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIHNwYWNlZC1jb21tZW50ICovXG5pbXBvcnQgeyBQcm9tcHRUZW1wbGF0ZSB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvcHJvbXB0c1wiO1xuZXhwb3J0IGNvbnN0IEFQSV9VUkxfUkFXX1BST01QVF9URU1QTEFURSA9IGBZb3UgYXJlIGdpdmVuIHRoZSBiZWxvdyBBUEkgRG9jdW1lbnRhdGlvbjpcbnthcGlfZG9jc31cblVzaW5nIHRoaXMgZG9jdW1lbnRhdGlvbiwgZ2VuZXJhdGUgdGhlIGZ1bGwgQVBJIHVybCB0byBjYWxsIGZvciBhbnN3ZXJpbmcgdGhlIHVzZXIgcXVlc3Rpb24uXG5Zb3Ugc2hvdWxkIGJ1aWxkIHRoZSBBUEkgdXJsIGluIG9yZGVyIHRvIGdldCBhIHJlc3BvbnNlIHRoYXQgaXMgYXMgc2hvcnQgYXMgcG9zc2libGUsIHdoaWxlIHN0aWxsIGdldHRpbmcgdGhlIG5lY2Vzc2FyeSBpbmZvcm1hdGlvbiB0byBhbnN3ZXIgdGhlIHF1ZXN0aW9uLiBQYXkgYXR0ZW50aW9uIHRvIGRlbGliZXJhdGVseSBleGNsdWRlIGFueSB1bm5lY2Vzc2FyeSBwaWVjZXMgb2YgZGF0YSBpbiB0aGUgQVBJIGNhbGwuXG5cblF1ZXN0aW9uOntxdWVzdGlvbn1cbkFQSSB1cmw6YDtcbmV4cG9ydCBjb25zdCBBUElfVVJMX1BST01QVF9URU1QTEFURSA9IC8qICNfX1BVUkVfXyAqLyBuZXcgUHJvbXB0VGVtcGxhdGUoe1xuICAgIGlucHV0VmFyaWFibGVzOiBbXCJhcGlfZG9jc1wiLCBcInF1ZXN0aW9uXCJdLFxuICAgIHRlbXBsYXRlOiBBUElfVVJMX1JBV19QUk9NUFRfVEVNUExBVEUsXG59KTtcbmV4cG9ydCBjb25zdCBBUElfUkVTUE9OU0VfUkFXX1BST01QVF9URU1QTEFURSA9IGAke0FQSV9VUkxfUkFXX1BST01QVF9URU1QTEFURX0ge2FwaV91cmx9XG5cbkhlcmUgaXMgdGhlIHJlc3BvbnNlIGZyb20gdGhlIEFQSTpcblxue2FwaV9yZXNwb25zZX1cblxuU3VtbWFyaXplIHRoaXMgcmVzcG9uc2UgdG8gYW5zd2VyIHRoZSBvcmlnaW5hbCBxdWVzdGlvbi5cblxuU3VtbWFyeTpgO1xuZXhwb3J0IGNvbnN0IEFQSV9SRVNQT05TRV9QUk9NUFRfVEVNUExBVEUgPSAvKiAjX19QVVJFX18gKi8gbmV3IFByb21wdFRlbXBsYXRlKHtcbiAgICBpbnB1dFZhcmlhYmxlczogW1wiYXBpX2RvY3NcIiwgXCJxdWVzdGlvblwiLCBcImFwaV91cmxcIiwgXCJhcGlfcmVzcG9uc2VcIl0sXG4gICAgdGVtcGxhdGU6IEFQSV9SRVNQT05TRV9SQVdfUFJPTVBUX1RFTVBMQVRFLFxufSk7XG4iXSwibmFtZXMiOlsiUHJvbXB0VGVtcGxhdGUiLCJBUElfVVJMX1JBV19QUk9NUFRfVEVNUExBVEUiLCJBUElfVVJMX1BST01QVF9URU1QTEFURSIsImlucHV0VmFyaWFibGVzIiwidGVtcGxhdGUiLCJBUElfUkVTUE9OU0VfUkFXX1BST01QVF9URU1QTEFURSIsIkFQSV9SRVNQT05TRV9QUk9NUFRfVEVNUExBVEUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/langchain/dist/chains/api/prompts.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/langchain/dist/chains/base.js":
/*!****************************************************!*\
  !*** ./node_modules/langchain/dist/chains/base.js ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseChain: () => (/* binding */ BaseChain)\n/* harmony export */ });\n/* harmony import */ var _langchain_core_outputs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @langchain/core/outputs */ \"(rsc)/./node_modules/@langchain/core/outputs.js\");\n/* harmony import */ var _langchain_core_callbacks_manager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @langchain/core/callbacks/manager */ \"(rsc)/./node_modules/@langchain/core/callbacks/manager.js\");\n/* harmony import */ var _langchain_core_runnables__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @langchain/core/runnables */ \"(rsc)/./node_modules/@langchain/core/runnables.js\");\n/* harmony import */ var _langchain_core_language_models_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @langchain/core/language_models/base */ \"(rsc)/./node_modules/@langchain/core/language_models/base.js\");\n\n\n\n\n/**\n * Base interface that all chains must implement.\n */ class BaseChain extends _langchain_core_language_models_base__WEBPACK_IMPORTED_MODULE_3__.BaseLangChain {\n    get lc_namespace() {\n        return [\n            \"langchain\",\n            \"chains\",\n            this._chainType()\n        ];\n    }\n    constructor(fields, /** @deprecated */ verbose, /** @deprecated */ callbacks){\n        if (arguments.length === 1 && typeof fields === \"object\" && !(\"saveContext\" in fields)) {\n            // fields is not a BaseMemory\n            const { memory, callbackManager, ...rest } = fields;\n            super({\n                ...rest,\n                callbacks: callbackManager ?? rest.callbacks\n            });\n            this.memory = memory;\n        } else {\n            // fields is a BaseMemory\n            super({\n                verbose,\n                callbacks\n            });\n            this.memory = fields;\n        }\n    }\n    /** @ignore */ _selectMemoryInputs(values) {\n        const valuesForMemory = {\n            ...values\n        };\n        if (\"signal\" in valuesForMemory) {\n            delete valuesForMemory.signal;\n        }\n        if (\"timeout\" in valuesForMemory) {\n            delete valuesForMemory.timeout;\n        }\n        return valuesForMemory;\n    }\n    /**\n     * Invoke the chain with the provided input and returns the output.\n     * @param input Input values for the chain run.\n     * @param config Optional configuration for the Runnable.\n     * @returns Promise that resolves with the output of the chain run.\n     */ async invoke(input, options) {\n        const config = (0,_langchain_core_runnables__WEBPACK_IMPORTED_MODULE_2__.ensureConfig)(options);\n        const fullValues = await this._formatValues(input);\n        const callbackManager_ = await _langchain_core_callbacks_manager__WEBPACK_IMPORTED_MODULE_1__.CallbackManager.configure(config?.callbacks, this.callbacks, config?.tags, this.tags, config?.metadata, this.metadata, {\n            verbose: this.verbose\n        });\n        const runManager = await callbackManager_?.handleChainStart(this.toJSON(), fullValues, undefined, undefined, undefined, undefined, config?.runName);\n        let outputValues;\n        try {\n            outputValues = await (fullValues.signal ? Promise.race([\n                this._call(fullValues, runManager, config),\n                new Promise((_, reject)=>{\n                    fullValues.signal?.addEventListener(\"abort\", ()=>{\n                        reject(new Error(\"AbortError\"));\n                    });\n                })\n            ]) : this._call(fullValues, runManager, config));\n        } catch (e) {\n            await runManager?.handleChainError(e);\n            throw e;\n        }\n        if (!(this.memory == null)) {\n            await this.memory.saveContext(this._selectMemoryInputs(input), outputValues);\n        }\n        await runManager?.handleChainEnd(outputValues);\n        // add the runManager's currentRunId to the outputValues\n        Object.defineProperty(outputValues, _langchain_core_outputs__WEBPACK_IMPORTED_MODULE_0__.RUN_KEY, {\n            value: runManager ? {\n                runId: runManager?.runId\n            } : undefined,\n            configurable: true\n        });\n        return outputValues;\n    }\n    _validateOutputs(outputs) {\n        const missingKeys = this.outputKeys.filter((k)=>!(k in outputs));\n        if (missingKeys.length) {\n            throw new Error(`Missing output keys: ${missingKeys.join(\", \")} from chain ${this._chainType()}`);\n        }\n    }\n    async prepOutputs(inputs, outputs, returnOnlyOutputs = false) {\n        this._validateOutputs(outputs);\n        if (this.memory) {\n            await this.memory.saveContext(inputs, outputs);\n        }\n        if (returnOnlyOutputs) {\n            return outputs;\n        }\n        return {\n            ...inputs,\n            ...outputs\n        };\n    }\n    /**\n     * Return a json-like object representing this chain.\n     */ serialize() {\n        throw new Error(\"Method not implemented.\");\n    }\n    /** @deprecated Use .invoke() instead. Will be removed in 0.2.0. */ async run(// eslint-disable-next-line @typescript-eslint/no-explicit-any\n    input, config) {\n        const inputKeys = this.inputKeys.filter((k)=>!this.memory?.memoryKeys.includes(k) ?? true);\n        const isKeylessInput = inputKeys.length <= 1;\n        if (!isKeylessInput) {\n            throw new Error(`Chain ${this._chainType()} expects multiple inputs, cannot use 'run' `);\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const values = inputKeys.length ? {\n            [inputKeys[0]]: input\n        } : {};\n        const returnValues = await this.call(values, config);\n        const keys = Object.keys(returnValues);\n        if (keys.length === 1) {\n            return returnValues[keys[0]];\n        }\n        throw new Error(\"return values have multiple keys, `run` only supported when one key currently\");\n    }\n    async _formatValues(values) {\n        const fullValues = {\n            ...values\n        };\n        if (fullValues.timeout && !fullValues.signal) {\n            fullValues.signal = AbortSignal.timeout(fullValues.timeout);\n            delete fullValues.timeout;\n        }\n        if (!(this.memory == null)) {\n            const newValues = await this.memory.loadMemoryVariables(this._selectMemoryInputs(values));\n            for (const [key, value] of Object.entries(newValues)){\n                fullValues[key] = value;\n            }\n        }\n        return fullValues;\n    }\n    /**\n     * @deprecated Use .invoke() instead. Will be removed in 0.2.0.\n     *\n     * Run the core logic of this chain and add to output if desired.\n     *\n     * Wraps _call and handles memory.\n     */ async call(values, config, /** @deprecated */ tags) {\n        const parsedConfig = {\n            tags,\n            ...(0,_langchain_core_callbacks_manager__WEBPACK_IMPORTED_MODULE_1__.parseCallbackConfigArg)(config)\n        };\n        return this.invoke(values, parsedConfig);\n    }\n    /**\n     * @deprecated Use .batch() instead. Will be removed in 0.2.0.\n     *\n     * Call the chain on all inputs in the list\n     */ async apply(inputs, config) {\n        return Promise.all(inputs.map(async (i, idx)=>this.call(i, config?.[idx])));\n    }\n    /**\n     * Load a chain from a json-like object describing it.\n     */ static async deserialize(data, values = {}) {\n        switch(data._type){\n            case \"llm_chain\":\n                {\n                    const { LLMChain } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./llm_chain.js */ \"(rsc)/./node_modules/langchain/dist/chains/llm_chain.js\"));\n                    return LLMChain.deserialize(data);\n                }\n            case \"sequential_chain\":\n                {\n                    const { SequentialChain } = await __webpack_require__.e(/*! import() */ \"vendor-chunks/langchain\").then(__webpack_require__.bind(__webpack_require__, /*! ./sequential_chain.js */ \"(rsc)/./node_modules/langchain/dist/chains/sequential_chain.js\"));\n                    return SequentialChain.deserialize(data);\n                }\n            case \"simple_sequential_chain\":\n                {\n                    const { SimpleSequentialChain } = await __webpack_require__.e(/*! import() */ \"vendor-chunks/langchain\").then(__webpack_require__.bind(__webpack_require__, /*! ./sequential_chain.js */ \"(rsc)/./node_modules/langchain/dist/chains/sequential_chain.js\"));\n                    return SimpleSequentialChain.deserialize(data);\n                }\n            case \"stuff_documents_chain\":\n                {\n                    const { StuffDocumentsChain } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./combine_docs_chain.js */ \"(rsc)/./node_modules/langchain/dist/chains/combine_docs_chain.js\"));\n                    return StuffDocumentsChain.deserialize(data);\n                }\n            case \"map_reduce_documents_chain\":\n                {\n                    const { MapReduceDocumentsChain } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./combine_docs_chain.js */ \"(rsc)/./node_modules/langchain/dist/chains/combine_docs_chain.js\"));\n                    return MapReduceDocumentsChain.deserialize(data);\n                }\n            case \"refine_documents_chain\":\n                {\n                    const { RefineDocumentsChain } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./combine_docs_chain.js */ \"(rsc)/./node_modules/langchain/dist/chains/combine_docs_chain.js\"));\n                    return RefineDocumentsChain.deserialize(data);\n                }\n            case \"vector_db_qa\":\n                {\n                    const { VectorDBQAChain } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./vector_db_qa.js */ \"(rsc)/./node_modules/langchain/dist/chains/vector_db_qa.js\"));\n                    return VectorDBQAChain.deserialize(data, values);\n                }\n            case \"api_chain\":\n                {\n                    const { APIChain } = await __webpack_require__.e(/*! import() */ \"vendor-chunks/langchain\").then(__webpack_require__.bind(__webpack_require__, /*! ./api/api_chain.js */ \"(rsc)/./node_modules/langchain/dist/chains/api/api_chain.js\"));\n                    return APIChain.deserialize(data);\n                }\n            default:\n                throw new Error(`Invalid prompt type in config: ${data._type}`);\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvY2hhaW5zL2Jhc2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBa0Q7QUFDMkM7QUFDcEM7QUFDYTtBQUN0RTs7Q0FFQyxHQUNNLE1BQU1LLGtCQUFrQkQsK0VBQWFBO0lBQ3hDLElBQUlFLGVBQWU7UUFDZixPQUFPO1lBQUM7WUFBYTtZQUFVLElBQUksQ0FBQ0MsVUFBVTtTQUFHO0lBQ3JEO0lBQ0FDLFlBQVlDLE1BQU0sRUFDbEIsZ0JBQWdCLEdBQ2hCQyxPQUFPLEVBQ1AsZ0JBQWdCLEdBQ2hCQyxTQUFTLENBQUU7UUFDUCxJQUFJQyxVQUFVQyxNQUFNLEtBQUssS0FDckIsT0FBT0osV0FBVyxZQUNsQixDQUFFLGtCQUFpQkEsTUFBSyxHQUFJO1lBQzVCLDZCQUE2QjtZQUM3QixNQUFNLEVBQUVLLE1BQU0sRUFBRUMsZUFBZSxFQUFFLEdBQUdDLE1BQU0sR0FBR1A7WUFDN0MsS0FBSyxDQUFDO2dCQUFFLEdBQUdPLElBQUk7Z0JBQUVMLFdBQVdJLG1CQUFtQkMsS0FBS0wsU0FBUztZQUFDO1lBQzlELElBQUksQ0FBQ0csTUFBTSxHQUFHQTtRQUNsQixPQUNLO1lBQ0QseUJBQXlCO1lBQ3pCLEtBQUssQ0FBQztnQkFBRUo7Z0JBQVNDO1lBQVU7WUFDM0IsSUFBSSxDQUFDRyxNQUFNLEdBQUdMO1FBQ2xCO0lBQ0o7SUFDQSxZQUFZLEdBQ1pRLG9CQUFvQkMsTUFBTSxFQUFFO1FBQ3hCLE1BQU1DLGtCQUFrQjtZQUFFLEdBQUdELE1BQU07UUFBQztRQUNwQyxJQUFJLFlBQVlDLGlCQUFpQjtZQUM3QixPQUFPQSxnQkFBZ0JDLE1BQU07UUFDakM7UUFDQSxJQUFJLGFBQWFELGlCQUFpQjtZQUM5QixPQUFPQSxnQkFBZ0JFLE9BQU87UUFDbEM7UUFDQSxPQUFPRjtJQUNYO0lBQ0E7Ozs7O0tBS0MsR0FDRCxNQUFNRyxPQUFPQyxLQUFLLEVBQUVDLE9BQU8sRUFBRTtRQUN6QixNQUFNQyxTQUFTdEIs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R0FBRyxNQUFNLHVMQUFpQztvQkFDeEUsT0FBT0EscUJBQXFCUixXQUFXLENBQUNDO2dCQUM1QztZQUNBLEtBQUs7Z0JBQWdCO29CQUNqQixNQUFNLEVBQUVRLGVBQWUsRUFBRSxHQUFHLE1BQU0sMktBQTJCO29CQUM3RCxPQUFPQSxnQkFBZ0JULFdBQVcsQ0FBQ0MsTUFBTW5FO2dCQUM3QztZQUNBLEtBQUs7Z0JBQWE7b0JBQ2QsTUFBTSxFQUFFNEUsUUFBUSxFQUFFLEdBQUcsTUFBTSw2TUFBNEI7b0JBQ3ZELE9BQU9BLFNBQVNWLFdBQVcsQ0FBQ0M7Z0JBQ2hDO1lBQ0E7Z0JBQ0ksTUFBTSxJQUFJekMsTUFBTSxDQUFDLCtCQUErQixFQUFFeUMsS0FBS0MsS0FBSyxDQUFDLENBQUM7UUFDdEU7SUFDSjtBQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmV0dGVyLXRvZG8vLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvY2hhaW5zL2Jhc2UuanM/NzA2MyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSVU5fS0VZIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS9vdXRwdXRzXCI7XG5pbXBvcnQgeyBDYWxsYmFja01hbmFnZXIsIHBhcnNlQ2FsbGJhY2tDb25maWdBcmcsIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS9jYWxsYmFja3MvbWFuYWdlclwiO1xuaW1wb3J0IHsgZW5zdXJlQ29uZmlnIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS9ydW5uYWJsZXNcIjtcbmltcG9ydCB7IEJhc2VMYW5nQ2hhaW4sIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS9sYW5ndWFnZV9tb2RlbHMvYmFzZVwiO1xuLyoqXG4gKiBCYXNlIGludGVyZmFjZSB0aGF0IGFsbCBjaGFpbnMgbXVzdCBpbXBsZW1lbnQuXG4gKi9cbmV4cG9ydCBjbGFzcyBCYXNlQ2hhaW4gZXh0ZW5kcyBCYXNlTGFuZ0NoYWluIHtcbiAgICBnZXQgbGNfbmFtZXNwYWNlKCkge1xuICAgICAgICByZXR1cm4gW1wibGFuZ2NoYWluXCIsIFwiY2hhaW5zXCIsIHRoaXMuX2NoYWluVHlwZSgpXTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoZmllbGRzLCBcbiAgICAvKiogQGRlcHJlY2F0ZWQgKi9cbiAgICB2ZXJib3NlLCBcbiAgICAvKiogQGRlcHJlY2F0ZWQgKi9cbiAgICBjYWxsYmFja3MpIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEgJiZcbiAgICAgICAgICAgIHR5cGVvZiBmaWVsZHMgPT09IFwib2JqZWN0XCIgJiZcbiAgICAgICAgICAgICEoXCJzYXZlQ29udGV4dFwiIGluIGZpZWxkcykpIHtcbiAgICAgICAgICAgIC8vIGZpZWxkcyBpcyBub3QgYSBCYXNlTWVtb3J5XG4gICAgICAgICAgICBjb25zdCB7IG1lbW9yeSwgY2FsbGJhY2tNYW5hZ2VyLCAuLi5yZXN0IH0gPSBmaWVsZHM7XG4gICAgICAgICAgICBzdXBlcih7IC4uLnJlc3QsIGNhbGxiYWNrczogY2FsbGJhY2tNYW5hZ2VyID8/IHJlc3QuY2FsbGJhY2tzIH0pO1xuICAgICAgICAgICAgdGhpcy5tZW1vcnkgPSBtZW1vcnk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBmaWVsZHMgaXMgYSBCYXNlTWVtb3J5XG4gICAgICAgICAgICBzdXBlcih7IHZlcmJvc2UsIGNhbGxiYWNrcyB9KTtcbiAgICAgICAgICAgIHRoaXMubWVtb3J5ID0gZmllbGRzO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKiBAaWdub3JlICovXG4gICAgX3NlbGVjdE1lbW9yeUlucHV0cyh2YWx1ZXMpIHtcbiAgICAgICAgY29uc3QgdmFsdWVzRm9yTWVtb3J5ID0geyAuLi52YWx1ZXMgfTtcbiAgICAgICAgaWYgKFwic2lnbmFsXCIgaW4gdmFsdWVzRm9yTWVtb3J5KSB7XG4gICAgICAgICAgICBkZWxldGUgdmFsdWVzRm9yTWVtb3J5LnNpZ25hbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoXCJ0aW1lb3V0XCIgaW4gdmFsdWVzRm9yTWVtb3J5KSB7XG4gICAgICAgICAgICBkZWxldGUgdmFsdWVzRm9yTWVtb3J5LnRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlc0Zvck1lbW9yeTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW52b2tlIHRoZSBjaGFpbiB3aXRoIHRoZSBwcm92aWRlZCBpbnB1dCBhbmQgcmV0dXJucyB0aGUgb3V0cHV0LlxuICAgICAqIEBwYXJhbSBpbnB1dCBJbnB1dCB2YWx1ZXMgZm9yIHRoZSBjaGFpbiBydW4uXG4gICAgICogQHBhcmFtIGNvbmZpZyBPcHRpb25hbCBjb25maWd1cmF0aW9uIGZvciB0aGUgUnVubmFibGUuXG4gICAgICogQHJldHVybnMgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggdGhlIG91dHB1dCBvZiB0aGUgY2hhaW4gcnVuLlxuICAgICAqL1xuICAgIGFzeW5jIGludm9rZShpbnB1dCwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBjb25maWcgPSBlbnN1cmVDb25maWcob3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IGZ1bGxWYWx1ZXMgPSBhd2FpdCB0aGlzLl9mb3JtYXRWYWx1ZXMoaW5wdXQpO1xuICAgICAgICBjb25zdCBjYWxsYmFja01hbmFnZXJfID0gYXdhaXQgQ2FsbGJhY2tNYW5hZ2VyLmNvbmZpZ3VyZShjb25maWc/LmNhbGxiYWNrcywgdGhpcy5jYWxsYmFja3MsIGNvbmZpZz8udGFncywgdGhpcy50YWdzLCBjb25maWc/Lm1ldGFkYXRhLCB0aGlzLm1ldGFkYXRhLCB7IHZlcmJvc2U6IHRoaXMudmVyYm9zZSB9KTtcbiAgICAgICAgY29uc3QgcnVuTWFuYWdlciA9IGF3YWl0IGNhbGxiYWNrTWFuYWdlcl8/LmhhbmRsZUNoYWluU3RhcnQodGhpcy50b0pTT04oKSwgZnVsbFZhbHVlcywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBjb25maWc/LnJ1bk5hbWUpO1xuICAgICAgICBsZXQgb3V0cHV0VmFsdWVzO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgb3V0cHV0VmFsdWVzID0gYXdhaXQgKGZ1bGxWYWx1ZXMuc2lnbmFsXG4gICAgICAgICAgICAgICAgPyBQcm9taXNlLnJhY2UoW1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYWxsKGZ1bGxWYWx1ZXMsIHJ1bk1hbmFnZXIsIGNvbmZpZyksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKChfLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGxWYWx1ZXMuc2lnbmFsPy5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoXCJBYm9ydEVycm9yXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgIDogdGhpcy5fY2FsbChmdWxsVmFsdWVzLCBydW5NYW5hZ2VyLCBjb25maWcpKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgYXdhaXQgcnVuTWFuYWdlcj8uaGFuZGxlQ2hhaW5FcnJvcihlKTtcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEodGhpcy5tZW1vcnkgPT0gbnVsbCkpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMubWVtb3J5LnNhdmVDb250ZXh0KHRoaXMuX3NlbGVjdE1lbW9yeUlucHV0cyhpbnB1dCksIG91dHB1dFZhbHVlcyk7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgcnVuTWFuYWdlcj8uaGFuZGxlQ2hhaW5FbmQob3V0cHV0VmFsdWVzKTtcbiAgICAgICAgLy8gYWRkIHRoZSBydW5NYW5hZ2VyJ3MgY3VycmVudFJ1bklkIHRvIHRoZSBvdXRwdXRWYWx1ZXNcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG91dHB1dFZhbHVlcywgUlVOX0tFWSwge1xuICAgICAgICAgICAgdmFsdWU6IHJ1bk1hbmFnZXIgPyB7IHJ1bklkOiBydW5NYW5hZ2VyPy5ydW5JZCB9IDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG91dHB1dFZhbHVlcztcbiAgICB9XG4gICAgX3ZhbGlkYXRlT3V0cHV0cyhvdXRwdXRzKSB7XG4gICAgICAgIGNvbnN0IG1pc3NpbmdLZXlzID0gdGhpcy5vdXRwdXRLZXlzLmZpbHRlcigoaykgPT4gIShrIGluIG91dHB1dHMpKTtcbiAgICAgICAgaWYgKG1pc3NpbmdLZXlzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBNaXNzaW5nIG91dHB1dCBrZXlzOiAke21pc3NpbmdLZXlzLmpvaW4oXCIsIFwiKX0gZnJvbSBjaGFpbiAke3RoaXMuX2NoYWluVHlwZSgpfWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIHByZXBPdXRwdXRzKGlucHV0cywgb3V0cHV0cywgcmV0dXJuT25seU91dHB1dHMgPSBmYWxzZSkge1xuICAgICAgICB0aGlzLl92YWxpZGF0ZU91dHB1dHMob3V0cHV0cyk7XG4gICAgICAgIGlmICh0aGlzLm1lbW9yeSkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5tZW1vcnkuc2F2ZUNvbnRleHQoaW5wdXRzLCBvdXRwdXRzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmV0dXJuT25seU91dHB1dHMpIHtcbiAgICAgICAgICAgIHJldHVybiBvdXRwdXRzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IC4uLmlucHV0cywgLi4ub3V0cHV0cyB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYSBqc29uLWxpa2Ugb2JqZWN0IHJlcHJlc2VudGluZyB0aGlzIGNoYWluLlxuICAgICAqL1xuICAgIHNlcmlhbGl6ZSgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XG4gICAgfVxuICAgIC8qKiBAZGVwcmVjYXRlZCBVc2UgLmludm9rZSgpIGluc3RlYWQuIFdpbGwgYmUgcmVtb3ZlZCBpbiAwLjIuMC4gKi9cbiAgICBhc3luYyBydW4oXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBpbnB1dCwgY29uZmlnKSB7XG4gICAgICAgIGNvbnN0IGlucHV0S2V5cyA9IHRoaXMuaW5wdXRLZXlzLmZpbHRlcigoaykgPT4gIXRoaXMubWVtb3J5Py5tZW1vcnlLZXlzLmluY2x1ZGVzKGspID8/IHRydWUpO1xuICAgICAgICBjb25zdCBpc0tleWxlc3NJbnB1dCA9IGlucHV0S2V5cy5sZW5ndGggPD0gMTtcbiAgICAgICAgaWYgKCFpc0tleWxlc3NJbnB1dCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDaGFpbiAke3RoaXMuX2NoYWluVHlwZSgpfSBleHBlY3RzIG11bHRpcGxlIGlucHV0cywgY2Fubm90IHVzZSAncnVuJyBgKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICBjb25zdCB2YWx1ZXMgPSBpbnB1dEtleXMubGVuZ3RoID8geyBbaW5wdXRLZXlzWzBdXTogaW5wdXQgfSA6IHt9O1xuICAgICAgICBjb25zdCByZXR1cm5WYWx1ZXMgPSBhd2FpdCB0aGlzLmNhbGwodmFsdWVzLCBjb25maWcpO1xuICAgICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMocmV0dXJuVmFsdWVzKTtcbiAgICAgICAgaWYgKGtleXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gcmV0dXJuVmFsdWVzW2tleXNbMF1dO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcInJldHVybiB2YWx1ZXMgaGF2ZSBtdWx0aXBsZSBrZXlzLCBgcnVuYCBvbmx5IHN1cHBvcnRlZCB3aGVuIG9uZSBrZXkgY3VycmVudGx5XCIpO1xuICAgIH1cbiAgICBhc3luYyBfZm9ybWF0VmFsdWVzKHZhbHVlcykge1xuICAgICAgICBjb25zdCBmdWxsVmFsdWVzID0geyAuLi52YWx1ZXMgfTtcbiAgICAgICAgaWYgKGZ1bGxWYWx1ZXMudGltZW91dCAmJiAhZnVsbFZhbHVlcy5zaWduYWwpIHtcbiAgICAgICAgICAgIGZ1bGxWYWx1ZXMuc2lnbmFsID0gQWJvcnRTaWduYWwudGltZW91dChmdWxsVmFsdWVzLnRpbWVvdXQpO1xuICAgICAgICAgICAgZGVsZXRlIGZ1bGxWYWx1ZXMudGltZW91dDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoISh0aGlzLm1lbW9yeSA9PSBudWxsKSkge1xuICAgICAgICAgICAgY29uc3QgbmV3VmFsdWVzID0gYXdhaXQgdGhpcy5tZW1vcnkubG9hZE1lbW9yeVZhcmlhYmxlcyh0aGlzLl9zZWxlY3RNZW1vcnlJbnB1dHModmFsdWVzKSk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhuZXdWYWx1ZXMpKSB7XG4gICAgICAgICAgICAgICAgZnVsbFZhbHVlc1trZXldID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZ1bGxWYWx1ZXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIFVzZSAuaW52b2tlKCkgaW5zdGVhZC4gV2lsbCBiZSByZW1vdmVkIGluIDAuMi4wLlxuICAgICAqXG4gICAgICogUnVuIHRoZSBjb3JlIGxvZ2ljIG9mIHRoaXMgY2hhaW4gYW5kIGFkZCB0byBvdXRwdXQgaWYgZGVzaXJlZC5cbiAgICAgKlxuICAgICAqIFdyYXBzIF9jYWxsIGFuZCBoYW5kbGVzIG1lbW9yeS5cbiAgICAgKi9cbiAgICBhc3luYyBjYWxsKHZhbHVlcywgY29uZmlnLCBcbiAgICAvKiogQGRlcHJlY2F0ZWQgKi9cbiAgICB0YWdzKSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZENvbmZpZyA9IHsgdGFncywgLi4ucGFyc2VDYWxsYmFja0NvbmZpZ0FyZyhjb25maWcpIH07XG4gICAgICAgIHJldHVybiB0aGlzLmludm9rZSh2YWx1ZXMsIHBhcnNlZENvbmZpZyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIFVzZSAuYmF0Y2goKSBpbnN0ZWFkLiBXaWxsIGJlIHJlbW92ZWQgaW4gMC4yLjAuXG4gICAgICpcbiAgICAgKiBDYWxsIHRoZSBjaGFpbiBvbiBhbGwgaW5wdXRzIGluIHRoZSBsaXN0XG4gICAgICovXG4gICAgYXN5bmMgYXBwbHkoaW5wdXRzLCBjb25maWcpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGlucHV0cy5tYXAoYXN5bmMgKGksIGlkeCkgPT4gdGhpcy5jYWxsKGksIGNvbmZpZz8uW2lkeF0pKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExvYWQgYSBjaGFpbiBmcm9tIGEganNvbi1saWtlIG9iamVjdCBkZXNjcmliaW5nIGl0LlxuICAgICAqL1xuICAgIHN0YXRpYyBhc3luYyBkZXNlcmlhbGl6ZShkYXRhLCB2YWx1ZXMgPSB7fSkge1xuICAgICAgICBzd2l0Y2ggKGRhdGEuX3R5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJsbG1fY2hhaW5cIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgTExNQ2hhaW4gfSA9IGF3YWl0IGltcG9ydChcIi4vbGxtX2NoYWluLmpzXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBMTE1DaGFpbi5kZXNlcmlhbGl6ZShkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJzZXF1ZW50aWFsX2NoYWluXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IFNlcXVlbnRpYWxDaGFpbiB9ID0gYXdhaXQgaW1wb3J0KFwiLi9zZXF1ZW50aWFsX2NoYWluLmpzXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBTZXF1ZW50aWFsQ2hhaW4uZGVzZXJpYWxpemUoZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwic2ltcGxlX3NlcXVlbnRpYWxfY2hhaW5cIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgU2ltcGxlU2VxdWVudGlhbENoYWluIH0gPSBhd2FpdCBpbXBvcnQoXCIuL3NlcXVlbnRpYWxfY2hhaW4uanNcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFNpbXBsZVNlcXVlbnRpYWxDaGFpbi5kZXNlcmlhbGl6ZShkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJzdHVmZl9kb2N1bWVudHNfY2hhaW5cIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgU3R1ZmZEb2N1bWVudHNDaGFpbiB9ID0gYXdhaXQgaW1wb3J0KFwiLi9jb21iaW5lX2RvY3NfY2hhaW4uanNcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFN0dWZmRG9jdW1lbnRzQ2hhaW4uZGVzZXJpYWxpemUoZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwibWFwX3JlZHVjZV9kb2N1bWVudHNfY2hhaW5cIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgTWFwUmVkdWNlRG9jdW1lbnRzQ2hhaW4gfSA9IGF3YWl0IGltcG9ydChcIi4vY29tYmluZV9kb2NzX2NoYWluLmpzXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBNYXBSZWR1Y2VEb2N1bWVudHNDaGFpbi5kZXNlcmlhbGl6ZShkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJyZWZpbmVfZG9jdW1lbnRzX2NoYWluXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IFJlZmluZURvY3VtZW50c0NoYWluIH0gPSBhd2FpdCBpbXBvcnQoXCIuL2NvbWJpbmVfZG9jc19jaGFpbi5qc1wiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUmVmaW5lRG9jdW1lbnRzQ2hhaW4uZGVzZXJpYWxpemUoZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidmVjdG9yX2RiX3FhXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IFZlY3RvckRCUUFDaGFpbiB9ID0gYXdhaXQgaW1wb3J0KFwiLi92ZWN0b3JfZGJfcWEuanNcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFZlY3RvckRCUUFDaGFpbi5kZXNlcmlhbGl6ZShkYXRhLCB2YWx1ZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImFwaV9jaGFpblwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBBUElDaGFpbiB9ID0gYXdhaXQgaW1wb3J0KFwiLi9hcGkvYXBpX2NoYWluLmpzXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBBUElDaGFpbi5kZXNlcmlhbGl6ZShkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHByb21wdCB0eXBlIGluIGNvbmZpZzogJHtkYXRhLl90eXBlfWApO1xuICAgICAgICB9XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbIlJVTl9LRVkiLCJDYWxsYmFja01hbmFnZXIiLCJwYXJzZUNhbGxiYWNrQ29uZmlnQXJnIiwiZW5zdXJlQ29uZmlnIiwiQmFzZUxhbmdDaGFpbiIsIkJhc2VDaGFpbiIsImxjX25hbWVzcGFjZSIsIl9jaGFpblR5cGUiLCJjb25zdHJ1Y3RvciIsImZpZWxkcyIsInZlcmJvc2UiLCJjYWxsYmFja3MiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJtZW1vcnkiLCJjYWxsYmFja01hbmFnZXIiLCJyZXN0IiwiX3NlbGVjdE1lbW9yeUlucHV0cyIsInZhbHVlcyIsInZhbHVlc0Zvck1lbW9yeSIsInNpZ25hbCIsInRpbWVvdXQiLCJpbnZva2UiLCJpbnB1dCIsIm9wdGlvbnMiLCJjb25maWciLCJmdWxsVmFsdWVzIiwiX2Zvcm1hdFZhbHVlcyIsImNhbGxiYWNrTWFuYWdlcl8iLCJjb25maWd1cmUiLCJ0YWdzIiwibWV0YWRhdGEiLCJydW5NYW5hZ2VyIiwiaGFuZGxlQ2hhaW5TdGFydCIsInRvSlNPTiIsInVuZGVmaW5lZCIsInJ1bk5hbWUiLCJvdXRwdXRWYWx1ZXMiLCJQcm9taXNlIiwicmFjZSIsIl9jYWxsIiwiXyIsInJlamVjdCIsImFkZEV2ZW50TGlzdGVuZXIiLCJFcnJvciIsImUiLCJoYW5kbGVDaGFpbkVycm9yIiwic2F2ZUNvbnRleHQiLCJoYW5kbGVDaGFpbkVuZCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwidmFsdWUiLCJydW5JZCIsImNvbmZpZ3VyYWJsZSIsIl92YWxpZGF0ZU91dHB1dHMiLCJvdXRwdXRzIiwibWlzc2luZ0tleXMiLCJvdXRwdXRLZXlzIiwiZmlsdGVyIiwiayIsImpvaW4iLCJwcmVwT3V0cHV0cyIsImlucHV0cyIsInJldHVybk9ubHlPdXRwdXRzIiwic2VyaWFsaXplIiwicnVuIiwiaW5wdXRLZXlzIiwibWVtb3J5S2V5cyIsImluY2x1ZGVzIiwiaXNLZXlsZXNzSW5wdXQiLCJyZXR1cm5WYWx1ZXMiLCJjYWxsIiwia2V5cyIsIkFib3J0U2lnbmFsIiwibmV3VmFsdWVzIiwibG9hZE1lbW9yeVZhcmlhYmxlcyIsImtleSIsImVudHJpZXMiLCJwYXJzZWRDb25maWciLCJhcHBseSIsImFsbCIsIm1hcCIsImkiLCJpZHgiLCJkZXNlcmlhbGl6ZSIsImRhdGEiLCJfdHlwZSIsIkxMTUNoYWluIiwiU2VxdWVudGlhbENoYWluIiwiU2ltcGxlU2VxdWVudGlhbENoYWluIiwiU3R1ZmZEb2N1bWVudHNDaGFpbiIsIk1hcFJlZHVjZURvY3VtZW50c0NoYWluIiwiUmVmaW5lRG9jdW1lbnRzQ2hhaW4iLCJWZWN0b3JEQlFBQ2hhaW4iLCJBUElDaGFpbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/langchain/dist/chains/base.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/langchain/dist/chains/combine_docs_chain.js":
/*!******************************************************************!*\
  !*** ./node_modules/langchain/dist/chains/combine_docs_chain.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MapReduceDocumentsChain: () => (/* binding */ MapReduceDocumentsChain),\n/* harmony export */   RefineDocumentsChain: () => (/* binding */ RefineDocumentsChain),\n/* harmony export */   StuffDocumentsChain: () => (/* binding */ StuffDocumentsChain)\n/* harmony export */ });\n/* harmony import */ var _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @langchain/core/prompts */ \"(rsc)/./node_modules/@langchain/core/prompts.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base.js */ \"(rsc)/./node_modules/langchain/dist/chains/base.js\");\n/* harmony import */ var _llm_chain_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./llm_chain.js */ \"(rsc)/./node_modules/langchain/dist/chains/llm_chain.js\");\n\n\n\n/**\n * Chain that combines documents by stuffing into context.\n * @augments BaseChain\n * @augments StuffDocumentsChainInput\n */ class StuffDocumentsChain extends _base_js__WEBPACK_IMPORTED_MODULE_1__.BaseChain {\n    static lc_name() {\n        return \"StuffDocumentsChain\";\n    }\n    get inputKeys() {\n        return [\n            this.inputKey,\n            ...this.llmChain.inputKeys\n        ].filter((key)=>key !== this.documentVariableName);\n    }\n    get outputKeys() {\n        return this.llmChain.outputKeys;\n    }\n    constructor(fields){\n        super(fields);\n        Object.defineProperty(this, \"llmChain\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"inputKey\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: \"input_documents\"\n        });\n        Object.defineProperty(this, \"documentVariableName\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: \"context\"\n        });\n        this.llmChain = fields.llmChain;\n        this.documentVariableName = fields.documentVariableName ?? this.documentVariableName;\n        this.inputKey = fields.inputKey ?? this.inputKey;\n    }\n    /** @ignore */ _prepInputs(values) {\n        if (!(this.inputKey in values)) {\n            throw new Error(`Document key ${this.inputKey} not found.`);\n        }\n        const { [this.inputKey]: docs, ...rest } = values;\n        const texts = docs.map(({ pageContent })=>pageContent);\n        const text = texts.join(\"\\n\\n\");\n        return {\n            ...rest,\n            [this.documentVariableName]: text\n        };\n    }\n    /** @ignore */ async _call(values, runManager) {\n        const result = await this.llmChain.call(this._prepInputs(values), runManager?.getChild(\"combine_documents\"));\n        return result;\n    }\n    _chainType() {\n        return \"stuff_documents_chain\";\n    }\n    static async deserialize(data) {\n        if (!data.llm_chain) {\n            throw new Error(\"Missing llm_chain\");\n        }\n        return new StuffDocumentsChain({\n            llmChain: await _llm_chain_js__WEBPACK_IMPORTED_MODULE_2__.LLMChain.deserialize(data.llm_chain)\n        });\n    }\n    serialize() {\n        return {\n            _type: this._chainType(),\n            llm_chain: this.llmChain.serialize()\n        };\n    }\n}\n/**\n * Combine documents by mapping a chain over them, then combining results.\n * @augments BaseChain\n * @augments StuffDocumentsChainInput\n */ class MapReduceDocumentsChain extends _base_js__WEBPACK_IMPORTED_MODULE_1__.BaseChain {\n    static lc_name() {\n        return \"MapReduceDocumentsChain\";\n    }\n    get inputKeys() {\n        return [\n            this.inputKey,\n            ...this.combineDocumentChain.inputKeys\n        ];\n    }\n    get outputKeys() {\n        return this.combineDocumentChain.outputKeys;\n    }\n    constructor(fields){\n        super(fields);\n        Object.defineProperty(this, \"llmChain\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"inputKey\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: \"input_documents\"\n        });\n        Object.defineProperty(this, \"documentVariableName\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: \"context\"\n        });\n        Object.defineProperty(this, \"returnIntermediateSteps\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: false\n        });\n        Object.defineProperty(this, \"maxTokens\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 3000\n        });\n        Object.defineProperty(this, \"maxIterations\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 10\n        });\n        Object.defineProperty(this, \"ensureMapStep\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: false\n        });\n        Object.defineProperty(this, \"combineDocumentChain\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.llmChain = fields.llmChain;\n        this.combineDocumentChain = fields.combineDocumentChain;\n        this.documentVariableName = fields.documentVariableName ?? this.documentVariableName;\n        this.ensureMapStep = fields.ensureMapStep ?? this.ensureMapStep;\n        this.inputKey = fields.inputKey ?? this.inputKey;\n        this.maxTokens = fields.maxTokens ?? this.maxTokens;\n        this.maxIterations = fields.maxIterations ?? this.maxIterations;\n        this.returnIntermediateSteps = fields.returnIntermediateSteps ?? false;\n    }\n    /** @ignore */ async _call(values, runManager) {\n        if (!(this.inputKey in values)) {\n            throw new Error(`Document key ${this.inputKey} not found.`);\n        }\n        const { [this.inputKey]: docs, ...rest } = values;\n        let currentDocs = docs;\n        let intermediateSteps = [];\n        // For each iteration, we'll use the `llmChain` to get a new result\n        for(let i = 0; i < this.maxIterations; i += 1){\n            const inputs = currentDocs.map((d)=>({\n                    [this.documentVariableName]: d.pageContent,\n                    ...rest\n                }));\n            const canSkipMapStep = i !== 0 || !this.ensureMapStep;\n            if (canSkipMapStep) {\n                // Calculate the total tokens required in the input\n                const formatted = await this.combineDocumentChain.llmChain.prompt.format(this.combineDocumentChain._prepInputs({\n                    [this.combineDocumentChain.inputKey]: currentDocs,\n                    ...rest\n                }));\n                const length = await this.combineDocumentChain.llmChain._getNumTokens(formatted);\n                const withinTokenLimit = length < this.maxTokens;\n                // If we can skip the map step, and we're within the token limit, we don't\n                // need to run the map step, so just break out of the loop.\n                if (withinTokenLimit) {\n                    break;\n                }\n            }\n            const results = await this.llmChain.apply(inputs, // If we have a runManager, then we need to create a child for each input\n            // so that we can track the progress of each input.\n            runManager ? Array.from({\n                length: inputs.length\n            }, (_, i)=>runManager.getChild(`map_${i + 1}`)) : undefined);\n            const { outputKey } = this.llmChain;\n            // If the flag is set, then concat that to the intermediate steps\n            if (this.returnIntermediateSteps) {\n                intermediateSteps = intermediateSteps.concat(results.map((r)=>r[outputKey]));\n            }\n            currentDocs = results.map((r)=>({\n                    pageContent: r[outputKey],\n                    metadata: {}\n                }));\n        }\n        // Now, with the final result of all the inputs from the `llmChain`, we can\n        // run the `combineDocumentChain` over them.\n        const newInputs = {\n            [this.combineDocumentChain.inputKey]: currentDocs,\n            ...rest\n        };\n        const result = await this.combineDocumentChain.call(newInputs, runManager?.getChild(\"combine_documents\"));\n        // Return the intermediate steps results if the flag is set\n        if (this.returnIntermediateSteps) {\n            return {\n                ...result,\n                intermediateSteps\n            };\n        }\n        return result;\n    }\n    _chainType() {\n        return \"map_reduce_documents_chain\";\n    }\n    static async deserialize(data) {\n        if (!data.llm_chain) {\n            throw new Error(\"Missing llm_chain\");\n        }\n        if (!data.combine_document_chain) {\n            throw new Error(\"Missing combine_document_chain\");\n        }\n        return new MapReduceDocumentsChain({\n            llmChain: await _llm_chain_js__WEBPACK_IMPORTED_MODULE_2__.LLMChain.deserialize(data.llm_chain),\n            combineDocumentChain: await StuffDocumentsChain.deserialize(data.combine_document_chain)\n        });\n    }\n    serialize() {\n        return {\n            _type: this._chainType(),\n            llm_chain: this.llmChain.serialize(),\n            combine_document_chain: this.combineDocumentChain.serialize()\n        };\n    }\n}\n/**\n * Combine documents by doing a first pass and then refining on more documents.\n * @augments BaseChain\n * @augments RefineDocumentsChainInput\n */ class RefineDocumentsChain extends _base_js__WEBPACK_IMPORTED_MODULE_1__.BaseChain {\n    static lc_name() {\n        return \"RefineDocumentsChain\";\n    }\n    get defaultDocumentPrompt() {\n        return new _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_0__.PromptTemplate({\n            inputVariables: [\n                \"page_content\"\n            ],\n            template: \"{page_content}\"\n        });\n    }\n    get inputKeys() {\n        return [\n            ...new Set([\n                this.inputKey,\n                ...this.llmChain.inputKeys,\n                ...this.refineLLMChain.inputKeys\n            ])\n        ].filter((key)=>key !== this.documentVariableName && key !== this.initialResponseName);\n    }\n    get outputKeys() {\n        return [\n            this.outputKey\n        ];\n    }\n    constructor(fields){\n        super(fields);\n        Object.defineProperty(this, \"llmChain\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"inputKey\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: \"input_documents\"\n        });\n        Object.defineProperty(this, \"outputKey\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: \"output_text\"\n        });\n        Object.defineProperty(this, \"documentVariableName\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: \"context\"\n        });\n        Object.defineProperty(this, \"initialResponseName\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: \"existing_answer\"\n        });\n        Object.defineProperty(this, \"refineLLMChain\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"documentPrompt\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: this.defaultDocumentPrompt\n        });\n        this.llmChain = fields.llmChain;\n        this.refineLLMChain = fields.refineLLMChain;\n        this.documentVariableName = fields.documentVariableName ?? this.documentVariableName;\n        this.inputKey = fields.inputKey ?? this.inputKey;\n        this.outputKey = fields.outputKey ?? this.outputKey;\n        this.documentPrompt = fields.documentPrompt ?? this.documentPrompt;\n        this.initialResponseName = fields.initialResponseName ?? this.initialResponseName;\n    }\n    /** @ignore */ async _constructInitialInputs(doc, rest) {\n        const baseInfo = {\n            page_content: doc.pageContent,\n            ...doc.metadata\n        };\n        const documentInfo = {};\n        this.documentPrompt.inputVariables.forEach((value)=>{\n            documentInfo[value] = baseInfo[value];\n        });\n        const baseInputs = {\n            [this.documentVariableName]: await this.documentPrompt.format({\n                ...documentInfo\n            })\n        };\n        const inputs = {\n            ...baseInputs,\n            ...rest\n        };\n        return inputs;\n    }\n    /** @ignore */ async _constructRefineInputs(doc, res) {\n        const baseInfo = {\n            page_content: doc.pageContent,\n            ...doc.metadata\n        };\n        const documentInfo = {};\n        this.documentPrompt.inputVariables.forEach((value)=>{\n            documentInfo[value] = baseInfo[value];\n        });\n        const baseInputs = {\n            [this.documentVariableName]: await this.documentPrompt.format({\n                ...documentInfo\n            })\n        };\n        const inputs = {\n            [this.initialResponseName]: res,\n            ...baseInputs\n        };\n        return inputs;\n    }\n    /** @ignore */ async _call(values, runManager) {\n        if (!(this.inputKey in values)) {\n            throw new Error(`Document key ${this.inputKey} not found.`);\n        }\n        const { [this.inputKey]: docs, ...rest } = values;\n        const currentDocs = docs;\n        const initialInputs = await this._constructInitialInputs(currentDocs[0], rest);\n        let res = await this.llmChain.predict({\n            ...initialInputs\n        }, runManager?.getChild(\"answer\"));\n        const refineSteps = [\n            res\n        ];\n        for(let i = 1; i < currentDocs.length; i += 1){\n            const refineInputs = await this._constructRefineInputs(currentDocs[i], res);\n            const inputs = {\n                ...refineInputs,\n                ...rest\n            };\n            res = await this.refineLLMChain.predict({\n                ...inputs\n            }, runManager?.getChild(\"refine\"));\n            refineSteps.push(res);\n        }\n        return {\n            [this.outputKey]: res\n        };\n    }\n    _chainType() {\n        return \"refine_documents_chain\";\n    }\n    static async deserialize(data) {\n        const SerializedLLMChain = data.llm_chain;\n        if (!SerializedLLMChain) {\n            throw new Error(\"Missing llm_chain\");\n        }\n        const SerializedRefineDocumentChain = data.refine_llm_chain;\n        if (!SerializedRefineDocumentChain) {\n            throw new Error(\"Missing refine_llm_chain\");\n        }\n        return new RefineDocumentsChain({\n            llmChain: await _llm_chain_js__WEBPACK_IMPORTED_MODULE_2__.LLMChain.deserialize(SerializedLLMChain),\n            refineLLMChain: await _llm_chain_js__WEBPACK_IMPORTED_MODULE_2__.LLMChain.deserialize(SerializedRefineDocumentChain)\n        });\n    }\n    serialize() {\n        return {\n            _type: this._chainType(),\n            llm_chain: this.llmChain.serialize(),\n            refine_llm_chain: this.refineLLMChain.serialize()\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvY2hhaW5zL2NvbWJpbmVfZG9jc19jaGFpbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBeUQ7QUFDbkI7QUFDSTtBQUMxQzs7OztDQUlDLEdBQ00sTUFBTUcsNEJBQTRCRiwrQ0FBU0E7SUFDOUMsT0FBT0csVUFBVTtRQUNiLE9BQU87SUFDWDtJQUNBLElBQUlDLFlBQVk7UUFDWixPQUFPO1lBQUMsSUFBSSxDQUFDQyxRQUFRO2VBQUssSUFBSSxDQUFDQyxRQUFRLENBQUNGLFNBQVM7U0FBQyxDQUFDRyxNQUFNLENBQUMsQ0FBQ0MsTUFBUUEsUUFBUSxJQUFJLENBQUNDLG9CQUFvQjtJQUN4RztJQUNBLElBQUlDLGFBQWE7UUFDYixPQUFPLElBQUksQ0FBQ0osUUFBUSxDQUFDSSxVQUFVO0lBQ25DO0lBQ0FDLFlBQVlDLE1BQU0sQ0FBRTtRQUNoQixLQUFLLENBQUNBO1FBQ05DLE9BQU9DLGNBQWMsQ0FBQyxJQUFJLEVBQUUsWUFBWTtZQUNwQ0MsWUFBWTtZQUNaQyxjQUFjO1lBQ2RDLFVBQVU7WUFDVkMsT0FBTyxLQUFLO1FBQ2hCO1FBQ0FMLE9BQU9DLGNBQWMsQ0FBQyxJQUFJLEVBQUUsWUFBWTtZQUNwQ0MsWUFBWTtZQUNaQyxjQUFjO1lBQ2RDLFVBQVU7WUFDVkMsT0FBTztRQUNYO1FBQ0FMLE9BQU9DLGNBQWMsQ0FBQyxJQUFJLEVBQUUsd0JBQXdCO1lBQ2hEQyxZQUFZO1lBQ1pDLGNBQWM7WUFDZEMsVUFBVTtZQUNWQyxPQUFPO1FBQ1g7UUFDQSxJQUFJLENBQUNaLFFBQVEsR0FBR00sT0FBT04sUUFBUTtRQUMvQixJQUFJLENBQUNHLG9CQUFvQixHQUNyQkcsT0FBT0gsb0JBQW9CLElBQUksSUFBSSxDQUFDQSxvQkFBb0I7UUFDNUQsSUFBSSxDQUFDSixRQUFRLEdBQUdPLE9BQU9QLFFBQVEsSUFBSSxJQUFJLENBQUNBLFFBQVE7SUFDcEQ7SUFDQSxZQUFZLEdBQ1pjLFlBQVlDLE1B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QU8sSUFBSWlELHFCQUFxQjtZQUM1QmhFLFVBQVUsTUFBTUwsbURBQVFBLENBQUNrQyxXQUFXLENBQUN5RDtZQUNyQ2pCLGdCQUFnQixNQUFNMUUsbURBQVFBLENBQUNrQyxXQUFXLENBQUMwRDtRQUMvQztJQUNKO0lBQ0F2RCxZQUFZO1FBQ1IsT0FBTztZQUNIQyxPQUFPLElBQUksQ0FBQ0wsVUFBVTtZQUN0QkcsV0FBVyxJQUFJLENBQUMvQixRQUFRLENBQUNnQyxTQUFTO1lBQ2xDd0Qsa0JBQWtCLElBQUksQ0FBQ25CLGNBQWMsQ0FBQ3JDLFNBQVM7UUFDbkQ7SUFDSjtBQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmV0dGVyLXRvZG8vLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvY2hhaW5zL2NvbWJpbmVfZG9jc19jaGFpbi5qcz9jYzdmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFByb21wdFRlbXBsYXRlIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS9wcm9tcHRzXCI7XG5pbXBvcnQgeyBCYXNlQ2hhaW4gfSBmcm9tIFwiLi9iYXNlLmpzXCI7XG5pbXBvcnQgeyBMTE1DaGFpbiB9IGZyb20gXCIuL2xsbV9jaGFpbi5qc1wiO1xuLyoqXG4gKiBDaGFpbiB0aGF0IGNvbWJpbmVzIGRvY3VtZW50cyBieSBzdHVmZmluZyBpbnRvIGNvbnRleHQuXG4gKiBAYXVnbWVudHMgQmFzZUNoYWluXG4gKiBAYXVnbWVudHMgU3R1ZmZEb2N1bWVudHNDaGFpbklucHV0XG4gKi9cbmV4cG9ydCBjbGFzcyBTdHVmZkRvY3VtZW50c0NoYWluIGV4dGVuZHMgQmFzZUNoYWluIHtcbiAgICBzdGF0aWMgbGNfbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiU3R1ZmZEb2N1bWVudHNDaGFpblwiO1xuICAgIH1cbiAgICBnZXQgaW5wdXRLZXlzKCkge1xuICAgICAgICByZXR1cm4gW3RoaXMuaW5wdXRLZXksIC4uLnRoaXMubGxtQ2hhaW4uaW5wdXRLZXlzXS5maWx0ZXIoKGtleSkgPT4ga2V5ICE9PSB0aGlzLmRvY3VtZW50VmFyaWFibGVOYW1lKTtcbiAgICB9XG4gICAgZ2V0IG91dHB1dEtleXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxsbUNoYWluLm91dHB1dEtleXM7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGZpZWxkcykge1xuICAgICAgICBzdXBlcihmaWVsZHMpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsbG1DaGFpblwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJpbnB1dEtleVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogXCJpbnB1dF9kb2N1bWVudHNcIlxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZG9jdW1lbnRWYXJpYWJsZU5hbWVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFwiY29udGV4dFwiXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmxsbUNoYWluID0gZmllbGRzLmxsbUNoYWluO1xuICAgICAgICB0aGlzLmRvY3VtZW50VmFyaWFibGVOYW1lID1cbiAgICAgICAgICAgIGZpZWxkcy5kb2N1bWVudFZhcmlhYmxlTmFtZSA/PyB0aGlzLmRvY3VtZW50VmFyaWFibGVOYW1lO1xuICAgICAgICB0aGlzLmlucHV0S2V5ID0gZmllbGRzLmlucHV0S2V5ID8/IHRoaXMuaW5wdXRLZXk7XG4gICAgfVxuICAgIC8qKiBAaWdub3JlICovXG4gICAgX3ByZXBJbnB1dHModmFsdWVzKSB7XG4gICAgICAgIGlmICghKHRoaXMuaW5wdXRLZXkgaW4gdmFsdWVzKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBEb2N1bWVudCBrZXkgJHt0aGlzLmlucHV0S2V5fSBub3QgZm91bmQuYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBbdGhpcy5pbnB1dEtleV06IGRvY3MsIC4uLnJlc3QgfSA9IHZhbHVlcztcbiAgICAgICAgY29uc3QgdGV4dHMgPSBkb2NzLm1hcCgoeyBwYWdlQ29udGVudCB9KSA9PiBwYWdlQ29udGVudCk7XG4gICAgICAgIGNvbnN0IHRleHQgPSB0ZXh0cy5qb2luKFwiXFxuXFxuXCIpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4ucmVzdCxcbiAgICAgICAgICAgIFt0aGlzLmRvY3VtZW50VmFyaWFibGVOYW1lXTogdGV4dCxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqIEBpZ25vcmUgKi9cbiAgICBhc3luYyBfY2FsbCh2YWx1ZXMsIHJ1bk1hbmFnZXIpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5sbG1DaGFpbi5jYWxsKHRoaXMuX3ByZXBJbnB1dHModmFsdWVzKSwgcnVuTWFuYWdlcj8uZ2V0Q2hpbGQoXCJjb21iaW5lX2RvY3VtZW50c1wiKSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIF9jaGFpblR5cGUoKSB7XG4gICAgICAgIHJldHVybiBcInN0dWZmX2RvY3VtZW50c19jaGFpblwiO1xuICAgIH1cbiAgICBzdGF0aWMgYXN5bmMgZGVzZXJpYWxpemUoZGF0YSkge1xuICAgICAgICBpZiAoIWRhdGEubGxtX2NoYWluKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIGxsbV9jaGFpblwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFN0dWZmRG9jdW1lbnRzQ2hhaW4oe1xuICAgICAgICAgICAgbGxtQ2hhaW46IGF3YWl0IExMTUNoYWluLmRlc2VyaWFsaXplKGRhdGEubGxtX2NoYWluKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHNlcmlhbGl6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIF90eXBlOiB0aGlzLl9jaGFpblR5cGUoKSxcbiAgICAgICAgICAgIGxsbV9jaGFpbjogdGhpcy5sbG1DaGFpbi5zZXJpYWxpemUoKSxcbiAgICAgICAgfTtcbiAgICB9XG59XG4vKipcbiAqIENvbWJpbmUgZG9jdW1lbnRzIGJ5IG1hcHBpbmcgYSBjaGFpbiBvdmVyIHRoZW0sIHRoZW4gY29tYmluaW5nIHJlc3VsdHMuXG4gKiBAYXVnbWVudHMgQmFzZUNoYWluXG4gKiBAYXVnbWVudHMgU3R1ZmZEb2N1bWVudHNDaGFpbklucHV0XG4gKi9cbmV4cG9ydCBjbGFzcyBNYXBSZWR1Y2VEb2N1bWVudHNDaGFpbiBleHRlbmRzIEJhc2VDaGFpbiB7XG4gICAgc3RhdGljIGxjX25hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIk1hcFJlZHVjZURvY3VtZW50c0NoYWluXCI7XG4gICAgfVxuICAgIGdldCBpbnB1dEtleXMoKSB7XG4gICAgICAgIHJldHVybiBbdGhpcy5pbnB1dEtleSwgLi4udGhpcy5jb21iaW5lRG9jdW1lbnRDaGFpbi5pbnB1dEtleXNdO1xuICAgIH1cbiAgICBnZXQgb3V0cHV0S2V5cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tYmluZURvY3VtZW50Q2hhaW4ub3V0cHV0S2V5cztcbiAgICB9XG4gICAgY29uc3RydWN0b3IoZmllbGRzKSB7XG4gICAgICAgIHN1cGVyKGZpZWxkcyk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxsbUNoYWluXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImlucHV0S2V5XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBcImlucHV0X2RvY3VtZW50c1wiXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJkb2N1bWVudFZhcmlhYmxlTmFtZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogXCJjb250ZXh0XCJcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJldHVybkludGVybWVkaWF0ZVN0ZXBzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibWF4VG9rZW5zXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiAzMDAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtYXhJdGVyYXRpb25zXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiAxMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZW5zdXJlTWFwU3RlcFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNvbWJpbmVEb2N1bWVudENoYWluXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubGxtQ2hhaW4gPSBmaWVsZHMubGxtQ2hhaW47XG4gICAgICAgIHRoaXMuY29tYmluZURvY3VtZW50Q2hhaW4gPSBmaWVsZHMuY29tYmluZURvY3VtZW50Q2hhaW47XG4gICAgICAgIHRoaXMuZG9jdW1lbnRWYXJpYWJsZU5hbWUgPVxuICAgICAgICAgICAgZmllbGRzLmRvY3VtZW50VmFyaWFibGVOYW1lID8/IHRoaXMuZG9jdW1lbnRWYXJpYWJsZU5hbWU7XG4gICAgICAgIHRoaXMuZW5zdXJlTWFwU3RlcCA9IGZpZWxkcy5lbnN1cmVNYXBTdGVwID8/IHRoaXMuZW5zdXJlTWFwU3RlcDtcbiAgICAgICAgdGhpcy5pbnB1dEtleSA9IGZpZWxkcy5pbnB1dEtleSA/PyB0aGlzLmlucHV0S2V5O1xuICAgICAgICB0aGlzLm1heFRva2VucyA9IGZpZWxkcy5tYXhUb2tlbnMgPz8gdGhpcy5tYXhUb2tlbnM7XG4gICAgICAgIHRoaXMubWF4SXRlcmF0aW9ucyA9IGZpZWxkcy5tYXhJdGVyYXRpb25zID8/IHRoaXMubWF4SXRlcmF0aW9ucztcbiAgICAgICAgdGhpcy5yZXR1cm5JbnRlcm1lZGlhdGVTdGVwcyA9IGZpZWxkcy5yZXR1cm5JbnRlcm1lZGlhdGVTdGVwcyA/PyBmYWxzZTtcbiAgICB9XG4gICAgLyoqIEBpZ25vcmUgKi9cbiAgICBhc3luYyBfY2FsbCh2YWx1ZXMsIHJ1bk1hbmFnZXIpIHtcbiAgICAgICAgaWYgKCEodGhpcy5pbnB1dEtleSBpbiB2YWx1ZXMpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYERvY3VtZW50IGtleSAke3RoaXMuaW5wdXRLZXl9IG5vdCBmb3VuZC5gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IFt0aGlzLmlucHV0S2V5XTogZG9jcywgLi4ucmVzdCB9ID0gdmFsdWVzO1xuICAgICAgICBsZXQgY3VycmVudERvY3MgPSBkb2NzO1xuICAgICAgICBsZXQgaW50ZXJtZWRpYXRlU3RlcHMgPSBbXTtcbiAgICAgICAgLy8gRm9yIGVhY2ggaXRlcmF0aW9uLCB3ZSdsbCB1c2UgdGhlIGBsbG1DaGFpbmAgdG8gZ2V0IGEgbmV3IHJlc3VsdFxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubWF4SXRlcmF0aW9uczsgaSArPSAxKSB7XG4gICAgICAgICAgICBjb25zdCBpbnB1dHMgPSBjdXJyZW50RG9jcy5tYXAoKGQpID0+ICh7XG4gICAgICAgICAgICAgICAgW3RoaXMuZG9jdW1lbnRWYXJpYWJsZU5hbWVdOiBkLnBhZ2VDb250ZW50LFxuICAgICAgICAgICAgICAgIC4uLnJlc3QsXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICBjb25zdCBjYW5Ta2lwTWFwU3RlcCA9IGkgIT09IDAgfHwgIXRoaXMuZW5zdXJlTWFwU3RlcDtcbiAgICAgICAgICAgIGlmIChjYW5Ta2lwTWFwU3RlcCkge1xuICAgICAgICAgICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgdG90YWwgdG9rZW5zIHJlcXVpcmVkIGluIHRoZSBpbnB1dFxuICAgICAgICAgICAgICAgIGNvbnN0IGZvcm1hdHRlZCA9IGF3YWl0IHRoaXMuY29tYmluZURvY3VtZW50Q2hhaW4ubGxtQ2hhaW4ucHJvbXB0LmZvcm1hdCh0aGlzLmNvbWJpbmVEb2N1bWVudENoYWluLl9wcmVwSW5wdXRzKHtcbiAgICAgICAgICAgICAgICAgICAgW3RoaXMuY29tYmluZURvY3VtZW50Q2hhaW4uaW5wdXRLZXldOiBjdXJyZW50RG9jcyxcbiAgICAgICAgICAgICAgICAgICAgLi4ucmVzdCxcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgY29uc3QgbGVuZ3RoID0gYXdhaXQgdGhpcy5jb21iaW5lRG9jdW1lbnRDaGFpbi5sbG1DaGFpbi5fZ2V0TnVtVG9rZW5zKGZvcm1hdHRlZCk7XG4gICAgICAgICAgICAgICAgY29uc3Qgd2l0aGluVG9rZW5MaW1pdCA9IGxlbmd0aCA8IHRoaXMubWF4VG9rZW5zO1xuICAgICAgICAgICAgICAgIC8vIElmIHdlIGNhbiBza2lwIHRoZSBtYXAgc3RlcCwgYW5kIHdlJ3JlIHdpdGhpbiB0aGUgdG9rZW4gbGltaXQsIHdlIGRvbid0XG4gICAgICAgICAgICAgICAgLy8gbmVlZCB0byBydW4gdGhlIG1hcCBzdGVwLCBzbyBqdXN0IGJyZWFrIG91dCBvZiB0aGUgbG9vcC5cbiAgICAgICAgICAgICAgICBpZiAod2l0aGluVG9rZW5MaW1pdCkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgdGhpcy5sbG1DaGFpbi5hcHBseShpbnB1dHMsIFxuICAgICAgICAgICAgLy8gSWYgd2UgaGF2ZSBhIHJ1bk1hbmFnZXIsIHRoZW4gd2UgbmVlZCB0byBjcmVhdGUgYSBjaGlsZCBmb3IgZWFjaCBpbnB1dFxuICAgICAgICAgICAgLy8gc28gdGhhdCB3ZSBjYW4gdHJhY2sgdGhlIHByb2dyZXNzIG9mIGVhY2ggaW5wdXQuXG4gICAgICAgICAgICBydW5NYW5hZ2VyXG4gICAgICAgICAgICAgICAgPyBBcnJheS5mcm9tKHsgbGVuZ3RoOiBpbnB1dHMubGVuZ3RoIH0sIChfLCBpKSA9PiBydW5NYW5hZ2VyLmdldENoaWxkKGBtYXBfJHtpICsgMX1gKSlcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCk7XG4gICAgICAgICAgICBjb25zdCB7IG91dHB1dEtleSB9ID0gdGhpcy5sbG1DaGFpbjtcbiAgICAgICAgICAgIC8vIElmIHRoZSBmbGFnIGlzIHNldCwgdGhlbiBjb25jYXQgdGhhdCB0byB0aGUgaW50ZXJtZWRpYXRlIHN0ZXBzXG4gICAgICAgICAgICBpZiAodGhpcy5yZXR1cm5JbnRlcm1lZGlhdGVTdGVwcykge1xuICAgICAgICAgICAgICAgIGludGVybWVkaWF0ZVN0ZXBzID0gaW50ZXJtZWRpYXRlU3RlcHMuY29uY2F0KHJlc3VsdHMubWFwKChyKSA9PiByW291dHB1dEtleV0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1cnJlbnREb2NzID0gcmVzdWx0cy5tYXAoKHIpID0+ICh7XG4gICAgICAgICAgICAgICAgcGFnZUNvbnRlbnQ6IHJbb3V0cHV0S2V5XSxcbiAgICAgICAgICAgICAgICBtZXRhZGF0YToge30sXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gTm93LCB3aXRoIHRoZSBmaW5hbCByZXN1bHQgb2YgYWxsIHRoZSBpbnB1dHMgZnJvbSB0aGUgYGxsbUNoYWluYCwgd2UgY2FuXG4gICAgICAgIC8vIHJ1biB0aGUgYGNvbWJpbmVEb2N1bWVudENoYWluYCBvdmVyIHRoZW0uXG4gICAgICAgIGNvbnN0IG5ld0lucHV0cyA9IHtcbiAgICAgICAgICAgIFt0aGlzLmNvbWJpbmVEb2N1bWVudENoYWluLmlucHV0S2V5XTogY3VycmVudERvY3MsXG4gICAgICAgICAgICAuLi5yZXN0LFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmNvbWJpbmVEb2N1bWVudENoYWluLmNhbGwobmV3SW5wdXRzLCBydW5NYW5hZ2VyPy5nZXRDaGlsZChcImNvbWJpbmVfZG9jdW1lbnRzXCIpKTtcbiAgICAgICAgLy8gUmV0dXJuIHRoZSBpbnRlcm1lZGlhdGUgc3RlcHMgcmVzdWx0cyBpZiB0aGUgZmxhZyBpcyBzZXRcbiAgICAgICAgaWYgKHRoaXMucmV0dXJuSW50ZXJtZWRpYXRlU3RlcHMpIHtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3VsdCwgaW50ZXJtZWRpYXRlU3RlcHMgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBfY2hhaW5UeXBlKCkge1xuICAgICAgICByZXR1cm4gXCJtYXBfcmVkdWNlX2RvY3VtZW50c19jaGFpblwiO1xuICAgIH1cbiAgICBzdGF0aWMgYXN5bmMgZGVzZXJpYWxpemUoZGF0YSkge1xuICAgICAgICBpZiAoIWRhdGEubGxtX2NoYWluKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIGxsbV9jaGFpblwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWRhdGEuY29tYmluZV9kb2N1bWVudF9jaGFpbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBjb21iaW5lX2RvY3VtZW50X2NoYWluXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgTWFwUmVkdWNlRG9jdW1lbnRzQ2hhaW4oe1xuICAgICAgICAgICAgbGxtQ2hhaW46IGF3YWl0IExMTUNoYWluLmRlc2VyaWFsaXplKGRhdGEubGxtX2NoYWluKSxcbiAgICAgICAgICAgIGNvbWJpbmVEb2N1bWVudENoYWluOiBhd2FpdCBTdHVmZkRvY3VtZW50c0NoYWluLmRlc2VyaWFsaXplKGRhdGEuY29tYmluZV9kb2N1bWVudF9jaGFpbiksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzZXJpYWxpemUoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBfdHlwZTogdGhpcy5fY2hhaW5UeXBlKCksXG4gICAgICAgICAgICBsbG1fY2hhaW46IHRoaXMubGxtQ2hhaW4uc2VyaWFsaXplKCksXG4gICAgICAgICAgICBjb21iaW5lX2RvY3VtZW50X2NoYWluOiB0aGlzLmNvbWJpbmVEb2N1bWVudENoYWluLnNlcmlhbGl6ZSgpLFxuICAgICAgICB9O1xuICAgIH1cbn1cbi8qKlxuICogQ29tYmluZSBkb2N1bWVudHMgYnkgZG9pbmcgYSBmaXJzdCBwYXNzIGFuZCB0aGVuIHJlZmluaW5nIG9uIG1vcmUgZG9jdW1lbnRzLlxuICogQGF1Z21lbnRzIEJhc2VDaGFpblxuICogQGF1Z21lbnRzIFJlZmluZURvY3VtZW50c0NoYWluSW5wdXRcbiAqL1xuZXhwb3J0IGNsYXNzIFJlZmluZURvY3VtZW50c0NoYWluIGV4dGVuZHMgQmFzZUNoYWluIHtcbiAgICBzdGF0aWMgbGNfbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiUmVmaW5lRG9jdW1lbnRzQ2hhaW5cIjtcbiAgICB9XG4gICAgZ2V0IGRlZmF1bHREb2N1bWVudFByb21wdCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9tcHRUZW1wbGF0ZSh7XG4gICAgICAgICAgICBpbnB1dFZhcmlhYmxlczogW1wicGFnZV9jb250ZW50XCJdLFxuICAgICAgICAgICAgdGVtcGxhdGU6IFwie3BhZ2VfY29udGVudH1cIixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldCBpbnB1dEtleXMoKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAuLi5uZXcgU2V0KFtcbiAgICAgICAgICAgICAgICB0aGlzLmlucHV0S2V5LFxuICAgICAgICAgICAgICAgIC4uLnRoaXMubGxtQ2hhaW4uaW5wdXRLZXlzLFxuICAgICAgICAgICAgICAgIC4uLnRoaXMucmVmaW5lTExNQ2hhaW4uaW5wdXRLZXlzLFxuICAgICAgICAgICAgXSksXG4gICAgICAgIF0uZmlsdGVyKChrZXkpID0+IGtleSAhPT0gdGhpcy5kb2N1bWVudFZhcmlhYmxlTmFtZSAmJiBrZXkgIT09IHRoaXMuaW5pdGlhbFJlc3BvbnNlTmFtZSk7XG4gICAgfVxuICAgIGdldCBvdXRwdXRLZXlzKCkge1xuICAgICAgICByZXR1cm4gW3RoaXMub3V0cHV0S2V5XTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoZmllbGRzKSB7XG4gICAgICAgIHN1cGVyKGZpZWxkcyk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxsbUNoYWluXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImlucHV0S2V5XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBcImlucHV0X2RvY3VtZW50c1wiXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJvdXRwdXRLZXlcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFwib3V0cHV0X3RleHRcIlxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZG9jdW1lbnRWYXJpYWJsZU5hbWVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFwiY29udGV4dFwiXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJpbml0aWFsUmVzcG9uc2VOYW1lXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBcImV4aXN0aW5nX2Fuc3dlclwiXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJyZWZpbmVMTE1DaGFpblwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJkb2N1bWVudFByb21wdFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5kZWZhdWx0RG9jdW1lbnRQcm9tcHRcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubGxtQ2hhaW4gPSBmaWVsZHMubGxtQ2hhaW47XG4gICAgICAgIHRoaXMucmVmaW5lTExNQ2hhaW4gPSBmaWVsZHMucmVmaW5lTExNQ2hhaW47XG4gICAgICAgIHRoaXMuZG9jdW1lbnRWYXJpYWJsZU5hbWUgPVxuICAgICAgICAgICAgZmllbGRzLmRvY3VtZW50VmFyaWFibGVOYW1lID8/IHRoaXMuZG9jdW1lbnRWYXJpYWJsZU5hbWU7XG4gICAgICAgIHRoaXMuaW5wdXRLZXkgPSBmaWVsZHMuaW5wdXRLZXkgPz8gdGhpcy5pbnB1dEtleTtcbiAgICAgICAgdGhpcy5vdXRwdXRLZXkgPSBmaWVsZHMub3V0cHV0S2V5ID8/IHRoaXMub3V0cHV0S2V5O1xuICAgICAgICB0aGlzLmRvY3VtZW50UHJvbXB0ID0gZmllbGRzLmRvY3VtZW50UHJvbXB0ID8/IHRoaXMuZG9jdW1lbnRQcm9tcHQ7XG4gICAgICAgIHRoaXMuaW5pdGlhbFJlc3BvbnNlTmFtZSA9XG4gICAgICAgICAgICBmaWVsZHMuaW5pdGlhbFJlc3BvbnNlTmFtZSA/PyB0aGlzLmluaXRpYWxSZXNwb25zZU5hbWU7XG4gICAgfVxuICAgIC8qKiBAaWdub3JlICovXG4gICAgYXN5bmMgX2NvbnN0cnVjdEluaXRpYWxJbnB1dHMoZG9jLCByZXN0KSB7XG4gICAgICAgIGNvbnN0IGJhc2VJbmZvID0ge1xuICAgICAgICAgICAgcGFnZV9jb250ZW50OiBkb2MucGFnZUNvbnRlbnQsXG4gICAgICAgICAgICAuLi5kb2MubWV0YWRhdGEsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGRvY3VtZW50SW5mbyA9IHt9O1xuICAgICAgICB0aGlzLmRvY3VtZW50UHJvbXB0LmlucHV0VmFyaWFibGVzLmZvckVhY2goKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICBkb2N1bWVudEluZm9bdmFsdWVdID0gYmFzZUluZm9bdmFsdWVdO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgYmFzZUlucHV0cyA9IHtcbiAgICAgICAgICAgIFt0aGlzLmRvY3VtZW50VmFyaWFibGVOYW1lXTogYXdhaXQgdGhpcy5kb2N1bWVudFByb21wdC5mb3JtYXQoe1xuICAgICAgICAgICAgICAgIC4uLmRvY3VtZW50SW5mbyxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBpbnB1dHMgPSB7IC4uLmJhc2VJbnB1dHMsIC4uLnJlc3QgfTtcbiAgICAgICAgcmV0dXJuIGlucHV0cztcbiAgICB9XG4gICAgLyoqIEBpZ25vcmUgKi9cbiAgICBhc3luYyBfY29uc3RydWN0UmVmaW5lSW5wdXRzKGRvYywgcmVzKSB7XG4gICAgICAgIGNvbnN0IGJhc2VJbmZvID0ge1xuICAgICAgICAgICAgcGFnZV9jb250ZW50OiBkb2MucGFnZUNvbnRlbnQsXG4gICAgICAgICAgICAuLi5kb2MubWV0YWRhdGEsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGRvY3VtZW50SW5mbyA9IHt9O1xuICAgICAgICB0aGlzLmRvY3VtZW50UHJvbXB0LmlucHV0VmFyaWFibGVzLmZvckVhY2goKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICBkb2N1bWVudEluZm9bdmFsdWVdID0gYmFzZUluZm9bdmFsdWVdO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgYmFzZUlucHV0cyA9IHtcbiAgICAgICAgICAgIFt0aGlzLmRvY3VtZW50VmFyaWFibGVOYW1lXTogYXdhaXQgdGhpcy5kb2N1bWVudFByb21wdC5mb3JtYXQoe1xuICAgICAgICAgICAgICAgIC4uLmRvY3VtZW50SW5mbyxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBpbnB1dHMgPSB7IFt0aGlzLmluaXRpYWxSZXNwb25zZU5hbWVdOiByZXMsIC4uLmJhc2VJbnB1dHMgfTtcbiAgICAgICAgcmV0dXJuIGlucHV0cztcbiAgICB9XG4gICAgLyoqIEBpZ25vcmUgKi9cbiAgICBhc3luYyBfY2FsbCh2YWx1ZXMsIHJ1bk1hbmFnZXIpIHtcbiAgICAgICAgaWYgKCEodGhpcy5pbnB1dEtleSBpbiB2YWx1ZXMpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYERvY3VtZW50IGtleSAke3RoaXMuaW5wdXRLZXl9IG5vdCBmb3VuZC5gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IFt0aGlzLmlucHV0S2V5XTogZG9jcywgLi4ucmVzdCB9ID0gdmFsdWVzO1xuICAgICAgICBjb25zdCBjdXJyZW50RG9jcyA9IGRvY3M7XG4gICAgICAgIGNvbnN0IGluaXRpYWxJbnB1dHMgPSBhd2FpdCB0aGlzLl9jb25zdHJ1Y3RJbml0aWFsSW5wdXRzKGN1cnJlbnREb2NzWzBdLCByZXN0KTtcbiAgICAgICAgbGV0IHJlcyA9IGF3YWl0IHRoaXMubGxtQ2hhaW4ucHJlZGljdCh7IC4uLmluaXRpYWxJbnB1dHMgfSwgcnVuTWFuYWdlcj8uZ2V0Q2hpbGQoXCJhbnN3ZXJcIikpO1xuICAgICAgICBjb25zdCByZWZpbmVTdGVwcyA9IFtyZXNdO1xuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IGN1cnJlbnREb2NzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICBjb25zdCByZWZpbmVJbnB1dHMgPSBhd2FpdCB0aGlzLl9jb25zdHJ1Y3RSZWZpbmVJbnB1dHMoY3VycmVudERvY3NbaV0sIHJlcyk7XG4gICAgICAgICAgICBjb25zdCBpbnB1dHMgPSB7IC4uLnJlZmluZUlucHV0cywgLi4ucmVzdCB9O1xuICAgICAgICAgICAgcmVzID0gYXdhaXQgdGhpcy5yZWZpbmVMTE1DaGFpbi5wcmVkaWN0KHsgLi4uaW5wdXRzIH0sIHJ1bk1hbmFnZXI/LmdldENoaWxkKFwicmVmaW5lXCIpKTtcbiAgICAgICAgICAgIHJlZmluZVN0ZXBzLnB1c2gocmVzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBbdGhpcy5vdXRwdXRLZXldOiByZXMgfTtcbiAgICB9XG4gICAgX2NoYWluVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFwicmVmaW5lX2RvY3VtZW50c19jaGFpblwiO1xuICAgIH1cbiAgICBzdGF0aWMgYXN5bmMgZGVzZXJpYWxpemUoZGF0YSkge1xuICAgICAgICBjb25zdCBTZXJpYWxpemVkTExNQ2hhaW4gPSBkYXRhLmxsbV9jaGFpbjtcbiAgICAgICAgaWYgKCFTZXJpYWxpemVkTExNQ2hhaW4pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgbGxtX2NoYWluXCIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IFNlcmlhbGl6ZWRSZWZpbmVEb2N1bWVudENoYWluID0gZGF0YS5yZWZpbmVfbGxtX2NoYWluO1xuICAgICAgICBpZiAoIVNlcmlhbGl6ZWRSZWZpbmVEb2N1bWVudENoYWluKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIHJlZmluZV9sbG1fY2hhaW5cIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBSZWZpbmVEb2N1bWVudHNDaGFpbih7XG4gICAgICAgICAgICBsbG1DaGFpbjogYXdhaXQgTExNQ2hhaW4uZGVzZXJpYWxpemUoU2VyaWFsaXplZExMTUNoYWluKSxcbiAgICAgICAgICAgIHJlZmluZUxMTUNoYWluOiBhd2FpdCBMTE1DaGFpbi5kZXNlcmlhbGl6ZShTZXJpYWxpemVkUmVmaW5lRG9jdW1lbnRDaGFpbiksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzZXJpYWxpemUoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBfdHlwZTogdGhpcy5fY2hhaW5UeXBlKCksXG4gICAgICAgICAgICBsbG1fY2hhaW46IHRoaXMubGxtQ2hhaW4uc2VyaWFsaXplKCksXG4gICAgICAgICAgICByZWZpbmVfbGxtX2NoYWluOiB0aGlzLnJlZmluZUxMTUNoYWluLnNlcmlhbGl6ZSgpLFxuICAgICAgICB9O1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6WyJQcm9tcHRUZW1wbGF0ZSIsIkJhc2VDaGFpbiIsIkxMTUNoYWluIiwiU3R1ZmZEb2N1bWVudHNDaGFpbiIsImxjX25hbWUiLCJpbnB1dEtleXMiLCJpbnB1dEtleSIsImxsbUNoYWluIiwiZmlsdGVyIiwia2V5IiwiZG9jdW1lbnRWYXJpYWJsZU5hbWUiLCJvdXRwdXRLZXlzIiwiY29uc3RydWN0b3IiLCJmaWVsZHMiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsInZhbHVlIiwiX3ByZXBJbnB1dHMiLCJ2YWx1ZXMiLCJFcnJvciIsImRvY3MiLCJyZXN0IiwidGV4dHMiLCJtYXAiLCJwYWdlQ29udGVudCIsInRleHQiLCJqb2luIiwiX2NhbGwiLCJydW5NYW5hZ2VyIiwicmVzdWx0IiwiY2FsbCIsImdldENoaWxkIiwiX2NoYWluVHlwZSIsImRlc2VyaWFsaXplIiwiZGF0YSIsImxsbV9jaGFpbiIsInNlcmlhbGl6ZSIsIl90eXBlIiwiTWFwUmVkdWNlRG9jdW1lbnRzQ2hhaW4iLCJjb21iaW5lRG9jdW1lbnRDaGFpbiIsImVuc3VyZU1hcFN0ZXAiLCJtYXhUb2tlbnMiLCJtYXhJdGVyYXRpb25zIiwicmV0dXJuSW50ZXJtZWRpYXRlU3RlcHMiLCJjdXJyZW50RG9jcyIsImludGVybWVkaWF0ZVN0ZXBzIiwiaSIsImlucHV0cyIsImQiLCJjYW5Ta2lwTWFwU3RlcCIsImZvcm1hdHRlZCIsInByb21wdCIsImZvcm1hdCIsImxlbmd0aCIsIl9nZXROdW1Ub2tlbnMiLCJ3aXRoaW5Ub2tlbkxpbWl0IiwicmVzdWx0cyIsImFwcGx5IiwiQXJyYXkiLCJmcm9tIiwiXyIsInVuZGVmaW5lZCIsIm91dHB1dEtleSIsImNvbmNhdCIsInIiLCJtZXRhZGF0YSIsIm5ld0lucHV0cyIsImNvbWJpbmVfZG9jdW1lbnRfY2hhaW4iLCJSZWZpbmVEb2N1bWVudHNDaGFpbiIsImRlZmF1bHREb2N1bWVudFByb21wdCIsImlucHV0VmFyaWFibGVzIiwidGVtcGxhdGUiLCJTZXQiLCJyZWZpbmVMTE1DaGFpbiIsImluaXRpYWxSZXNwb25zZU5hbWUiLCJkb2N1bWVudFByb21wdCIsIl9jb25zdHJ1Y3RJbml0aWFsSW5wdXRzIiwiZG9jIiwiYmFzZUluZm8iLCJwYWdlX2NvbnRlbnQiLCJkb2N1bWVudEluZm8iLCJmb3JFYWNoIiwiYmFzZUlucHV0cyIsIl9jb25zdHJ1Y3RSZWZpbmVJbnB1dHMiLCJyZXMiLCJpbml0aWFsSW5wdXRzIiwicHJlZGljdCIsInJlZmluZVN0ZXBzIiwicmVmaW5lSW5wdXRzIiwicHVzaCIsIlNlcmlhbGl6ZWRMTE1DaGFpbiIsIlNlcmlhbGl6ZWRSZWZpbmVEb2N1bWVudENoYWluIiwicmVmaW5lX2xsbV9jaGFpbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/langchain/dist/chains/combine_docs_chain.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/langchain/dist/chains/llm_chain.js":
/*!*********************************************************!*\
  !*** ./node_modules/langchain/dist/chains/llm_chain.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LLMChain: () => (/* binding */ LLMChain)\n/* harmony export */ });\n/* harmony import */ var _langchain_core_language_models_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @langchain/core/language_models/base */ \"(rsc)/./node_modules/@langchain/core/language_models/base.js\");\n/* harmony import */ var _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @langchain/core/prompts */ \"(rsc)/./node_modules/@langchain/core/prompts.js\");\n/* harmony import */ var _langchain_core_runnables__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @langchain/core/runnables */ \"(rsc)/./node_modules/@langchain/core/runnables.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./base.js */ \"(rsc)/./node_modules/langchain/dist/chains/base.js\");\n/* harmony import */ var _output_parsers_noop_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../output_parsers/noop.js */ \"(rsc)/./node_modules/langchain/dist/output_parsers/noop.js\");\n\n\n\n\n\nfunction isBaseLanguageModel(llmLike) {\n    return typeof llmLike._llmType === \"function\";\n}\nfunction _getLanguageModel(llmLike) {\n    if (isBaseLanguageModel(llmLike)) {\n        return llmLike;\n    } else if (\"bound\" in llmLike && _langchain_core_runnables__WEBPACK_IMPORTED_MODULE_2__.Runnable.isRunnable(llmLike.bound)) {\n        return _getLanguageModel(llmLike.bound);\n    } else if (\"runnable\" in llmLike && \"fallbacks\" in llmLike && _langchain_core_runnables__WEBPACK_IMPORTED_MODULE_2__.Runnable.isRunnable(llmLike.runnable)) {\n        return _getLanguageModel(llmLike.runnable);\n    } else if (\"default\" in llmLike && _langchain_core_runnables__WEBPACK_IMPORTED_MODULE_2__.Runnable.isRunnable(llmLike.default)) {\n        return _getLanguageModel(llmLike.default);\n    } else {\n        throw new Error(\"Unable to extract BaseLanguageModel from llmLike object.\");\n    }\n}\n/**\n * @deprecated This class will be removed in 1.0.0. Use the LangChain Expression Language (LCEL) instead.\n * See the example below for how to use LCEL with the LLMChain class:\n *\n * Chain to run queries against LLMs.\n *\n * @example\n * ```ts\n * import { ChatPromptTemplate } from \"@langchain/core/prompts\";\n * import { ChatOpenAI } from \"@langchain/openai\";\n *\n * const prompt = ChatPromptTemplate.fromTemplate(\"Tell me a {adjective} joke\");\n * const llm = new ChatOpenAI();\n * const chain = prompt.pipe(llm);\n *\n * const response = await chain.invoke({ adjective: \"funny\" });\n * ```\n */ class LLMChain extends _base_js__WEBPACK_IMPORTED_MODULE_3__.BaseChain {\n    static lc_name() {\n        return \"LLMChain\";\n    }\n    get inputKeys() {\n        return this.prompt.inputVariables;\n    }\n    get outputKeys() {\n        return [\n            this.outputKey\n        ];\n    }\n    constructor(fields){\n        super(fields);\n        Object.defineProperty(this, \"lc_serializable\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: true\n        });\n        Object.defineProperty(this, \"prompt\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"llm\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"llmKwargs\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"outputKey\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: \"text\"\n        });\n        Object.defineProperty(this, \"outputParser\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.prompt = fields.prompt;\n        this.llm = fields.llm;\n        this.llmKwargs = fields.llmKwargs;\n        this.outputKey = fields.outputKey ?? this.outputKey;\n        this.outputParser = fields.outputParser ?? new _output_parsers_noop_js__WEBPACK_IMPORTED_MODULE_4__.NoOpOutputParser();\n        if (this.prompt.outputParser) {\n            if (fields.outputParser) {\n                throw new Error(\"Cannot set both outputParser and prompt.outputParser\");\n            }\n            this.outputParser = this.prompt.outputParser;\n        }\n    }\n    getCallKeys() {\n        const callKeys = \"callKeys\" in this.llm ? this.llm.callKeys : [];\n        return callKeys;\n    }\n    /** @ignore */ _selectMemoryInputs(values) {\n        const valuesForMemory = super._selectMemoryInputs(values);\n        const callKeys = this.getCallKeys();\n        for (const key of callKeys){\n            if (key in values) {\n                delete valuesForMemory[key];\n            }\n        }\n        return valuesForMemory;\n    }\n    /** @ignore */ async _getFinalOutput(generations, promptValue, runManager) {\n        let finalCompletion;\n        if (this.outputParser) {\n            finalCompletion = await this.outputParser.parseResultWithPrompt(generations, promptValue, runManager?.getChild());\n        } else {\n            finalCompletion = generations[0].text;\n        }\n        return finalCompletion;\n    }\n    /**\n     * Run the core logic of this chain and add to output if desired.\n     *\n     * Wraps _call and handles memory.\n     */ call(values, config) {\n        return super.call(values, config);\n    }\n    /** @ignore */ async _call(values, runManager) {\n        const valuesForPrompt = {\n            ...values\n        };\n        const valuesForLLM = {\n            ...this.llmKwargs\n        };\n        const callKeys = this.getCallKeys();\n        for (const key of callKeys){\n            if (key in values) {\n                if (valuesForLLM) {\n                    valuesForLLM[key] = values[key];\n                    delete valuesForPrompt[key];\n                }\n            }\n        }\n        const promptValue = await this.prompt.formatPromptValue(valuesForPrompt);\n        if (\"generatePrompt\" in this.llm) {\n            const { generations } = await this.llm.generatePrompt([\n                promptValue\n            ], valuesForLLM, runManager?.getChild());\n            return {\n                [this.outputKey]: await this._getFinalOutput(generations[0], promptValue, runManager)\n            };\n        }\n        const modelWithParser = this.outputParser ? this.llm.pipe(this.outputParser) : this.llm;\n        const response = await modelWithParser.invoke(promptValue, runManager?.getChild());\n        return {\n            [this.outputKey]: response\n        };\n    }\n    /**\n     * Format prompt with values and pass to LLM\n     *\n     * @param values - keys to pass to prompt template\n     * @param callbackManager - CallbackManager to use\n     * @returns Completion from LLM.\n     *\n     * @example\n     * ```ts\n     * llm.predict({ adjective: \"funny\" })\n     * ```\n     */ async predict(values, callbackManager) {\n        const output = await this.call(values, callbackManager);\n        return output[this.outputKey];\n    }\n    _chainType() {\n        return \"llm\";\n    }\n    static async deserialize(data) {\n        const { llm, prompt } = data;\n        if (!llm) {\n            throw new Error(\"LLMChain must have llm\");\n        }\n        if (!prompt) {\n            throw new Error(\"LLMChain must have prompt\");\n        }\n        return new LLMChain({\n            llm: await _langchain_core_language_models_base__WEBPACK_IMPORTED_MODULE_0__.BaseLanguageModel.deserialize(llm),\n            prompt: await _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_1__.BasePromptTemplate.deserialize(prompt)\n        });\n    }\n    /** @deprecated */ serialize() {\n        const serialize = \"serialize\" in this.llm ? this.llm.serialize() : undefined;\n        return {\n            _type: `${this._chainType()}_chain`,\n            llm: serialize,\n            prompt: this.prompt.serialize()\n        };\n    }\n    _getNumTokens(text) {\n        return _getLanguageModel(this.llm).getNumTokens(text);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvY2hhaW5zL2xsbV9jaGFpbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBMEU7QUFDYjtBQUNSO0FBQ2Y7QUFDdUI7QUFDN0QsU0FBU0ssb0JBQW9CQyxPQUFPO0lBQ2hDLE9BQU8sT0FBT0EsUUFBUUMsUUFBUSxLQUFLO0FBQ3ZDO0FBQ0EsU0FBU0Msa0JBQWtCRixPQUFPO0lBQzlCLElBQUlELG9CQUFvQkMsVUFBVTtRQUM5QixPQUFPQTtJQUNYLE9BQ0ssSUFBSSxXQUFXQSxXQUFXSiwrREFBUUEsQ0FBQ08sVUFBVSxDQUFDSCxRQUFRSSxLQUFLLEdBQUc7UUFDL0QsT0FBT0Ysa0JBQWtCRixRQUFRSSxLQUFLO0lBQzFDLE9BQ0ssSUFBSSxjQUFjSixXQUNuQixlQUFlQSxXQUNmSiwrREFBUUEsQ0FBQ08sVUFBVSxDQUFDSCxRQUFRSyxRQUFRLEdBQUc7UUFDdkMsT0FBT0gsa0JBQWtCRixRQUFRSyxRQUFRO0lBQzdDLE9BQ0ssSUFBSSxhQUFhTCxXQUFXSiwrREFBUUEsQ0FBQ08sVUFBVSxDQUFDSCxRQUFRTSxPQUFPLEdBQUc7UUFDbkUsT0FBT0osa0JBQWtCRixRQUFRTSxPQUFPO0lBQzVDLE9BQ0s7UUFDRCxNQUFNLElBQUlDLE1BQU07SUFDcEI7QUFDSjtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7OztDQWlCQyxHQUNNLE1BQU1DLGlCQUFpQlgsK0NBQVNBO0lBQ25DLE9BQU9ZLFVBQVU7UUFDYixPQUFPO0lBQ1g7SUFDQSxJQUFJQyxZQUFZO1FBQ1osT0FBTyxJQUFJLENBQUNDLE1BQU0sQ0FBQ0MsY0FBYztJQUNyQztJQUNBLElBQUlDLGFBQWE7UUFDYixPQUFPO1lBQUMsSUFBSSxDQUFDQyxTQUFTO1NBQUM7SUFDM0I7SUFDQUMsWUFBWUMsTUFBTSxDQUFFO1FBQ2hCLEtBQUssQ0FBQ0E7UUFDTkMsT0FBT0MsY0FBYyxDQUFDLElBQUksRUFBRSxtQkFBbUI7WUFDM0NDLFlBQVk7WUFDWkMs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SztZQUNOLE1BQU0sSUFBSWhCLE1BQU07UUFDcEI7UUFDQSxJQUFJLENBQUNJLFFBQVE7WUFDVCxNQUFNLElBQUlKLE1BQU07UUFDcEI7UUFDQSxPQUFPLElBQUlDLFNBQVM7WUFDaEJlLEtBQUssTUFBTTdCLG1GQUFpQkEsQ0FBQzZELFdBQVcsQ0FBQ2hDO1lBQ3pDWixRQUFRLE1BQU1oQix1RUFBa0JBLENBQUM0RCxXQUFXLENBQUM1QztRQUNqRDtJQUNKO0lBQ0EsZ0JBQWdCLEdBQ2hCOEMsWUFBWTtRQUNSLE1BQU1BLFlBQVksZUFBZSxJQUFJLENBQUNsQyxHQUFHLEdBQUcsSUFBSSxDQUFDQSxHQUFHLENBQUNrQyxTQUFTLEtBQUtDO1FBQ25FLE9BQU87WUFDSEMsT0FBTyxDQUFDLEVBQUUsSUFBSSxDQUFDTCxVQUFVLEdBQUcsTUFBTSxDQUFDO1lBQ25DL0IsS0FBS2tDO1lBQ0w5QyxRQUFRLElBQUksQ0FBQ0EsTUFBTSxDQUFDOEMsU0FBUztRQUNqQztJQUNKO0lBQ0FHLGNBQWNyQixJQUFJLEVBQUU7UUFDaEIsT0FBT3JDLGtCQUFrQixJQUFJLENBQUNxQixHQUFHLEVBQUVzQyxZQUFZLENBQUN0QjtJQUNwRDtBQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmV0dGVyLXRvZG8vLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvY2hhaW5zL2xsbV9jaGFpbi5qcz9lNjVkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJhc2VMYW5ndWFnZU1vZGVsLCB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvbGFuZ3VhZ2VfbW9kZWxzL2Jhc2VcIjtcbmltcG9ydCB7IEJhc2VQcm9tcHRUZW1wbGF0ZSB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvcHJvbXB0c1wiO1xuaW1wb3J0IHsgUnVubmFibGUgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL3J1bm5hYmxlc1wiO1xuaW1wb3J0IHsgQmFzZUNoYWluIH0gZnJvbSBcIi4vYmFzZS5qc1wiO1xuaW1wb3J0IHsgTm9PcE91dHB1dFBhcnNlciB9IGZyb20gXCIuLi9vdXRwdXRfcGFyc2Vycy9ub29wLmpzXCI7XG5mdW5jdGlvbiBpc0Jhc2VMYW5ndWFnZU1vZGVsKGxsbUxpa2UpIHtcbiAgICByZXR1cm4gdHlwZW9mIGxsbUxpa2UuX2xsbVR5cGUgPT09IFwiZnVuY3Rpb25cIjtcbn1cbmZ1bmN0aW9uIF9nZXRMYW5ndWFnZU1vZGVsKGxsbUxpa2UpIHtcbiAgICBpZiAoaXNCYXNlTGFuZ3VhZ2VNb2RlbChsbG1MaWtlKSkge1xuICAgICAgICByZXR1cm4gbGxtTGlrZTtcbiAgICB9XG4gICAgZWxzZSBpZiAoXCJib3VuZFwiIGluIGxsbUxpa2UgJiYgUnVubmFibGUuaXNSdW5uYWJsZShsbG1MaWtlLmJvdW5kKSkge1xuICAgICAgICByZXR1cm4gX2dldExhbmd1YWdlTW9kZWwobGxtTGlrZS5ib3VuZCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKFwicnVubmFibGVcIiBpbiBsbG1MaWtlICYmXG4gICAgICAgIFwiZmFsbGJhY2tzXCIgaW4gbGxtTGlrZSAmJlxuICAgICAgICBSdW5uYWJsZS5pc1J1bm5hYmxlKGxsbUxpa2UucnVubmFibGUpKSB7XG4gICAgICAgIHJldHVybiBfZ2V0TGFuZ3VhZ2VNb2RlbChsbG1MaWtlLnJ1bm5hYmxlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoXCJkZWZhdWx0XCIgaW4gbGxtTGlrZSAmJiBSdW5uYWJsZS5pc1J1bm5hYmxlKGxsbUxpa2UuZGVmYXVsdCkpIHtcbiAgICAgICAgcmV0dXJuIF9nZXRMYW5ndWFnZU1vZGVsKGxsbUxpa2UuZGVmYXVsdCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gZXh0cmFjdCBCYXNlTGFuZ3VhZ2VNb2RlbCBmcm9tIGxsbUxpa2Ugb2JqZWN0LlwiKTtcbiAgICB9XG59XG4vKipcbiAqIEBkZXByZWNhdGVkIFRoaXMgY2xhc3Mgd2lsbCBiZSByZW1vdmVkIGluIDEuMC4wLiBVc2UgdGhlIExhbmdDaGFpbiBFeHByZXNzaW9uIExhbmd1YWdlIChMQ0VMKSBpbnN0ZWFkLlxuICogU2VlIHRoZSBleGFtcGxlIGJlbG93IGZvciBob3cgdG8gdXNlIExDRUwgd2l0aCB0aGUgTExNQ2hhaW4gY2xhc3M6XG4gKlxuICogQ2hhaW4gdG8gcnVuIHF1ZXJpZXMgYWdhaW5zdCBMTE1zLlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgQ2hhdFByb21wdFRlbXBsYXRlIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS9wcm9tcHRzXCI7XG4gKiBpbXBvcnQgeyBDaGF0T3BlbkFJIH0gZnJvbSBcIkBsYW5nY2hhaW4vb3BlbmFpXCI7XG4gKlxuICogY29uc3QgcHJvbXB0ID0gQ2hhdFByb21wdFRlbXBsYXRlLmZyb21UZW1wbGF0ZShcIlRlbGwgbWUgYSB7YWRqZWN0aXZlfSBqb2tlXCIpO1xuICogY29uc3QgbGxtID0gbmV3IENoYXRPcGVuQUkoKTtcbiAqIGNvbnN0IGNoYWluID0gcHJvbXB0LnBpcGUobGxtKTtcbiAqXG4gKiBjb25zdCByZXNwb25zZSA9IGF3YWl0IGNoYWluLmludm9rZSh7IGFkamVjdGl2ZTogXCJmdW5ueVwiIH0pO1xuICogYGBgXG4gKi9cbmV4cG9ydCBjbGFzcyBMTE1DaGFpbiBleHRlbmRzIEJhc2VDaGFpbiB7XG4gICAgc3RhdGljIGxjX25hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIkxMTUNoYWluXCI7XG4gICAgfVxuICAgIGdldCBpbnB1dEtleXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb21wdC5pbnB1dFZhcmlhYmxlcztcbiAgICB9XG4gICAgZ2V0IG91dHB1dEtleXMoKSB7XG4gICAgICAgIHJldHVybiBbdGhpcy5vdXRwdXRLZXldO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihmaWVsZHMpIHtcbiAgICAgICAgc3VwZXIoZmllbGRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfc2VyaWFsaXphYmxlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJwcm9tcHRcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGxtXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxsbUt3YXJnc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJvdXRwdXRLZXlcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFwidGV4dFwiXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJvdXRwdXRQYXJzZXJcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5wcm9tcHQgPSBmaWVsZHMucHJvbXB0O1xuICAgICAgICB0aGlzLmxsbSA9IGZpZWxkcy5sbG07XG4gICAgICAgIHRoaXMubGxtS3dhcmdzID0gZmllbGRzLmxsbUt3YXJncztcbiAgICAgICAgdGhpcy5vdXRwdXRLZXkgPSBmaWVsZHMub3V0cHV0S2V5ID8/IHRoaXMub3V0cHV0S2V5O1xuICAgICAgICB0aGlzLm91dHB1dFBhcnNlciA9XG4gICAgICAgICAgICBmaWVsZHMub3V0cHV0UGFyc2VyID8/IG5ldyBOb09wT3V0cHV0UGFyc2VyKCk7XG4gICAgICAgIGlmICh0aGlzLnByb21wdC5vdXRwdXRQYXJzZXIpIHtcbiAgICAgICAgICAgIGlmIChmaWVsZHMub3V0cHV0UGFyc2VyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHNldCBib3RoIG91dHB1dFBhcnNlciBhbmQgcHJvbXB0Lm91dHB1dFBhcnNlclwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMub3V0cHV0UGFyc2VyID0gdGhpcy5wcm9tcHQub3V0cHV0UGFyc2VyO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldENhbGxLZXlzKCkge1xuICAgICAgICBjb25zdCBjYWxsS2V5cyA9IFwiY2FsbEtleXNcIiBpbiB0aGlzLmxsbSA/IHRoaXMubGxtLmNhbGxLZXlzIDogW107XG4gICAgICAgIHJldHVybiBjYWxsS2V5cztcbiAgICB9XG4gICAgLyoqIEBpZ25vcmUgKi9cbiAgICBfc2VsZWN0TWVtb3J5SW5wdXRzKHZhbHVlcykge1xuICAgICAgICBjb25zdCB2YWx1ZXNGb3JNZW1vcnkgPSBzdXBlci5fc2VsZWN0TWVtb3J5SW5wdXRzKHZhbHVlcyk7XG4gICAgICAgIGNvbnN0IGNhbGxLZXlzID0gdGhpcy5nZXRDYWxsS2V5cygpO1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBjYWxsS2V5cykge1xuICAgICAgICAgICAgaWYgKGtleSBpbiB2YWx1ZXMpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgdmFsdWVzRm9yTWVtb3J5W2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlc0Zvck1lbW9yeTtcbiAgICB9XG4gICAgLyoqIEBpZ25vcmUgKi9cbiAgICBhc3luYyBfZ2V0RmluYWxPdXRwdXQoZ2VuZXJhdGlvbnMsIHByb21wdFZhbHVlLCBydW5NYW5hZ2VyKSB7XG4gICAgICAgIGxldCBmaW5hbENvbXBsZXRpb247XG4gICAgICAgIGlmICh0aGlzLm91dHB1dFBhcnNlcikge1xuICAgICAgICAgICAgZmluYWxDb21wbGV0aW9uID0gYXdhaXQgdGhpcy5vdXRwdXRQYXJzZXIucGFyc2VSZXN1bHRXaXRoUHJvbXB0KGdlbmVyYXRpb25zLCBwcm9tcHRWYWx1ZSwgcnVuTWFuYWdlcj8uZ2V0Q2hpbGQoKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmaW5hbENvbXBsZXRpb24gPSBnZW5lcmF0aW9uc1swXS50ZXh0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmaW5hbENvbXBsZXRpb247XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJ1biB0aGUgY29yZSBsb2dpYyBvZiB0aGlzIGNoYWluIGFuZCBhZGQgdG8gb3V0cHV0IGlmIGRlc2lyZWQuXG4gICAgICpcbiAgICAgKiBXcmFwcyBfY2FsbCBhbmQgaGFuZGxlcyBtZW1vcnkuXG4gICAgICovXG4gICAgY2FsbCh2YWx1ZXMsIGNvbmZpZykge1xuICAgICAgICByZXR1cm4gc3VwZXIuY2FsbCh2YWx1ZXMsIGNvbmZpZyk7XG4gICAgfVxuICAgIC8qKiBAaWdub3JlICovXG4gICAgYXN5bmMgX2NhbGwodmFsdWVzLCBydW5NYW5hZ2VyKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlc0ZvclByb21wdCA9IHsgLi4udmFsdWVzIH07XG4gICAgICAgIGNvbnN0IHZhbHVlc0ZvckxMTSA9IHtcbiAgICAgICAgICAgIC4uLnRoaXMubGxtS3dhcmdzLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBjYWxsS2V5cyA9IHRoaXMuZ2V0Q2FsbEtleXMoKTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgY2FsbEtleXMpIHtcbiAgICAgICAgICAgIGlmIChrZXkgaW4gdmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlc0ZvckxMTSkge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZXNGb3JMTE1ba2V5XSA9XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXNba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHZhbHVlc0ZvclByb21wdFtrZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwcm9tcHRWYWx1ZSA9IGF3YWl0IHRoaXMucHJvbXB0LmZvcm1hdFByb21wdFZhbHVlKHZhbHVlc0ZvclByb21wdCk7XG4gICAgICAgIGlmIChcImdlbmVyYXRlUHJvbXB0XCIgaW4gdGhpcy5sbG0pIHtcbiAgICAgICAgICAgIGNvbnN0IHsgZ2VuZXJhdGlvbnMgfSA9IGF3YWl0IHRoaXMubGxtLmdlbmVyYXRlUHJvbXB0KFtwcm9tcHRWYWx1ZV0sIHZhbHVlc0ZvckxMTSwgcnVuTWFuYWdlcj8uZ2V0Q2hpbGQoKSk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIFt0aGlzLm91dHB1dEtleV06IGF3YWl0IHRoaXMuX2dldEZpbmFsT3V0cHV0KGdlbmVyYXRpb25zWzBdLCBwcm9tcHRWYWx1ZSwgcnVuTWFuYWdlciksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1vZGVsV2l0aFBhcnNlciA9IHRoaXMub3V0cHV0UGFyc2VyXG4gICAgICAgICAgICA/IHRoaXMubGxtLnBpcGUodGhpcy5vdXRwdXRQYXJzZXIpXG4gICAgICAgICAgICA6IHRoaXMubGxtO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IG1vZGVsV2l0aFBhcnNlci5pbnZva2UocHJvbXB0VmFsdWUsIHJ1bk1hbmFnZXI/LmdldENoaWxkKCkpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgW3RoaXMub3V0cHV0S2V5XTogcmVzcG9uc2UsXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZvcm1hdCBwcm9tcHQgd2l0aCB2YWx1ZXMgYW5kIHBhc3MgdG8gTExNXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdmFsdWVzIC0ga2V5cyB0byBwYXNzIHRvIHByb21wdCB0ZW1wbGF0ZVxuICAgICAqIEBwYXJhbSBjYWxsYmFja01hbmFnZXIgLSBDYWxsYmFja01hbmFnZXIgdG8gdXNlXG4gICAgICogQHJldHVybnMgQ29tcGxldGlvbiBmcm9tIExMTS5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgdHNcbiAgICAgKiBsbG0ucHJlZGljdCh7IGFkamVjdGl2ZTogXCJmdW5ueVwiIH0pXG4gICAgICogYGBgXG4gICAgICovXG4gICAgYXN5bmMgcHJlZGljdCh2YWx1ZXMsIGNhbGxiYWNrTWFuYWdlcikge1xuICAgICAgICBjb25zdCBvdXRwdXQgPSBhd2FpdCB0aGlzLmNhbGwodmFsdWVzLCBjYWxsYmFja01hbmFnZXIpO1xuICAgICAgICByZXR1cm4gb3V0cHV0W3RoaXMub3V0cHV0S2V5XTtcbiAgICB9XG4gICAgX2NoYWluVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFwibGxtXCI7XG4gICAgfVxuICAgIHN0YXRpYyBhc3luYyBkZXNlcmlhbGl6ZShkYXRhKSB7XG4gICAgICAgIGNvbnN0IHsgbGxtLCBwcm9tcHQgfSA9IGRhdGE7XG4gICAgICAgIGlmICghbGxtKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJMTE1DaGFpbiBtdXN0IGhhdmUgbGxtXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcHJvbXB0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJMTE1DaGFpbiBtdXN0IGhhdmUgcHJvbXB0XCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgTExNQ2hhaW4oe1xuICAgICAgICAgICAgbGxtOiBhd2FpdCBCYXNlTGFuZ3VhZ2VNb2RlbC5kZXNlcmlhbGl6ZShsbG0pLFxuICAgICAgICAgICAgcHJvbXB0OiBhd2FpdCBCYXNlUHJvbXB0VGVtcGxhdGUuZGVzZXJpYWxpemUocHJvbXB0KSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKiBAZGVwcmVjYXRlZCAqL1xuICAgIHNlcmlhbGl6ZSgpIHtcbiAgICAgICAgY29uc3Qgc2VyaWFsaXplID0gXCJzZXJpYWxpemVcIiBpbiB0aGlzLmxsbSA/IHRoaXMubGxtLnNlcmlhbGl6ZSgpIDogdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgX3R5cGU6IGAke3RoaXMuX2NoYWluVHlwZSgpfV9jaGFpbmAsXG4gICAgICAgICAgICBsbG06IHNlcmlhbGl6ZSxcbiAgICAgICAgICAgIHByb21wdDogdGhpcy5wcm9tcHQuc2VyaWFsaXplKCksXG4gICAgICAgIH07XG4gICAgfVxuICAgIF9nZXROdW1Ub2tlbnModGV4dCkge1xuICAgICAgICByZXR1cm4gX2dldExhbmd1YWdlTW9kZWwodGhpcy5sbG0pLmdldE51bVRva2Vucyh0ZXh0KTtcbiAgICB9XG59XG4iXSwibmFtZXMiOlsiQmFzZUxhbmd1YWdlTW9kZWwiLCJCYXNlUHJvbXB0VGVtcGxhdGUiLCJSdW5uYWJsZSIsIkJhc2VDaGFpbiIsIk5vT3BPdXRwdXRQYXJzZXIiLCJpc0Jhc2VMYW5ndWFnZU1vZGVsIiwibGxtTGlrZSIsIl9sbG1UeXBlIiwiX2dldExhbmd1YWdlTW9kZWwiLCJpc1J1bm5hYmxlIiwiYm91bmQiLCJydW5uYWJsZSIsImRlZmF1bHQiLCJFcnJvciIsIkxMTUNoYWluIiwibGNfbmFtZSIsImlucHV0S2V5cyIsInByb21wdCIsImlucHV0VmFyaWFibGVzIiwib3V0cHV0S2V5cyIsIm91dHB1dEtleSIsImNvbnN0cnVjdG9yIiwiZmllbGRzIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJ2YWx1ZSIsImxsbSIsImxsbUt3YXJncyIsIm91dHB1dFBhcnNlciIsImdldENhbGxLZXlzIiwiY2FsbEtleXMiLCJfc2VsZWN0TWVtb3J5SW5wdXRzIiwidmFsdWVzIiwidmFsdWVzRm9yTWVtb3J5Iiwia2V5IiwiX2dldEZpbmFsT3V0cHV0IiwiZ2VuZXJhdGlvbnMiLCJwcm9tcHRWYWx1ZSIsInJ1bk1hbmFnZXIiLCJmaW5hbENvbXBsZXRpb24iLCJwYXJzZVJlc3VsdFdpdGhQcm9tcHQiLCJnZXRDaGlsZCIsInRleHQiLCJjYWxsIiwiY29uZmlnIiwiX2NhbGwiLCJ2YWx1ZXNGb3JQcm9tcHQiLCJ2YWx1ZXNGb3JMTE0iLCJmb3JtYXRQcm9tcHRWYWx1ZSIsImdlbmVyYXRlUHJvbXB0IiwibW9kZWxXaXRoUGFyc2VyIiwicGlwZSIsInJlc3BvbnNlIiwiaW52b2tlIiwicHJlZGljdCIsImNhbGxiYWNrTWFuYWdlciIsIm91dHB1dCIsIl9jaGFpblR5cGUiLCJkZXNlcmlhbGl6ZSIsImRhdGEiLCJzZXJpYWxpemUiLCJ1bmRlZmluZWQiLCJfdHlwZSIsIl9nZXROdW1Ub2tlbnMiLCJnZXROdW1Ub2tlbnMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/langchain/dist/chains/llm_chain.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/langchain/dist/chains/question_answering/load.js":
/*!***********************************************************************!*\
  !*** ./node_modules/langchain/dist/chains/question_answering/load.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   loadQAChain: () => (/* binding */ loadQAChain),\n/* harmony export */   loadQAMapReduceChain: () => (/* binding */ loadQAMapReduceChain),\n/* harmony export */   loadQARefineChain: () => (/* binding */ loadQARefineChain),\n/* harmony export */   loadQAStuffChain: () => (/* binding */ loadQAStuffChain)\n/* harmony export */ });\n/* harmony import */ var _llm_chain_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../llm_chain.js */ \"(rsc)/./node_modules/langchain/dist/chains/llm_chain.js\");\n/* harmony import */ var _combine_docs_chain_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../combine_docs_chain.js */ \"(rsc)/./node_modules/langchain/dist/chains/combine_docs_chain.js\");\n/* harmony import */ var _stuff_prompts_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./stuff_prompts.js */ \"(rsc)/./node_modules/langchain/dist/chains/question_answering/stuff_prompts.js\");\n/* harmony import */ var _map_reduce_prompts_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./map_reduce_prompts.js */ \"(rsc)/./node_modules/langchain/dist/chains/question_answering/map_reduce_prompts.js\");\n/* harmony import */ var _refine_prompts_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./refine_prompts.js */ \"(rsc)/./node_modules/langchain/dist/chains/question_answering/refine_prompts.js\");\n\n\n\n\n\nconst loadQAChain = (llm, params = {\n    type: \"stuff\"\n})=>{\n    const { type } = params;\n    if (type === \"stuff\") {\n        return loadQAStuffChain(llm, params);\n    }\n    if (type === \"map_reduce\") {\n        return loadQAMapReduceChain(llm, params);\n    }\n    if (type === \"refine\") {\n        return loadQARefineChain(llm, params);\n    }\n    throw new Error(`Invalid _type: ${type}`);\n};\n/**\n * Loads a StuffQAChain based on the provided parameters. It takes an LLM\n * instance and StuffQAChainParams as parameters.\n * @param llm An instance of BaseLanguageModel.\n * @param params Parameters for creating a StuffQAChain.\n * @returns A StuffQAChain instance.\n */ function loadQAStuffChain(llm, params = {}) {\n    const { prompt = _stuff_prompts_js__WEBPACK_IMPORTED_MODULE_2__.QA_PROMPT_SELECTOR.getPrompt(llm), verbose } = params;\n    const llmChain = new _llm_chain_js__WEBPACK_IMPORTED_MODULE_0__.LLMChain({\n        prompt,\n        llm,\n        verbose\n    });\n    const chain = new _combine_docs_chain_js__WEBPACK_IMPORTED_MODULE_1__.StuffDocumentsChain({\n        llmChain,\n        verbose\n    });\n    return chain;\n}\n/**\n * Loads a MapReduceQAChain based on the provided parameters. It takes an\n * LLM instance and MapReduceQAChainParams as parameters.\n * @param llm An instance of BaseLanguageModel.\n * @param params Parameters for creating a MapReduceQAChain.\n * @returns A MapReduceQAChain instance.\n */ function loadQAMapReduceChain(llm, params = {}) {\n    const { combineMapPrompt = _map_reduce_prompts_js__WEBPACK_IMPORTED_MODULE_3__.COMBINE_QA_PROMPT_SELECTOR.getPrompt(llm), combinePrompt = _map_reduce_prompts_js__WEBPACK_IMPORTED_MODULE_3__.COMBINE_PROMPT_SELECTOR.getPrompt(llm), verbose, combineLLM, returnIntermediateSteps } = params;\n    const llmChain = new _llm_chain_js__WEBPACK_IMPORTED_MODULE_0__.LLMChain({\n        prompt: combineMapPrompt,\n        llm,\n        verbose\n    });\n    const combineLLMChain = new _llm_chain_js__WEBPACK_IMPORTED_MODULE_0__.LLMChain({\n        prompt: combinePrompt,\n        llm: combineLLM ?? llm,\n        verbose\n    });\n    const combineDocumentChain = new _combine_docs_chain_js__WEBPACK_IMPORTED_MODULE_1__.StuffDocumentsChain({\n        llmChain: combineLLMChain,\n        documentVariableName: \"summaries\",\n        verbose\n    });\n    const chain = new _combine_docs_chain_js__WEBPACK_IMPORTED_MODULE_1__.MapReduceDocumentsChain({\n        llmChain,\n        combineDocumentChain,\n        returnIntermediateSteps,\n        verbose\n    });\n    return chain;\n}\n/**\n * Loads a RefineQAChain based on the provided parameters. It takes an LLM\n * instance and RefineQAChainParams as parameters.\n * @param llm An instance of BaseLanguageModel.\n * @param params Parameters for creating a RefineQAChain.\n * @returns A RefineQAChain instance.\n */ function loadQARefineChain(llm, params = {}) {\n    const { questionPrompt = _refine_prompts_js__WEBPACK_IMPORTED_MODULE_4__.QUESTION_PROMPT_SELECTOR.getPrompt(llm), refinePrompt = _refine_prompts_js__WEBPACK_IMPORTED_MODULE_4__.REFINE_PROMPT_SELECTOR.getPrompt(llm), refineLLM, verbose } = params;\n    const llmChain = new _llm_chain_js__WEBPACK_IMPORTED_MODULE_0__.LLMChain({\n        prompt: questionPrompt,\n        llm,\n        verbose\n    });\n    const refineLLMChain = new _llm_chain_js__WEBPACK_IMPORTED_MODULE_0__.LLMChain({\n        prompt: refinePrompt,\n        llm: refineLLM ?? llm,\n        verbose\n    });\n    const chain = new _combine_docs_chain_js__WEBPACK_IMPORTED_MODULE_1__.RefineDocumentsChain({\n        llmChain,\n        refineLLMChain,\n        verbose\n    });\n    return chain;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvY2hhaW5zL3F1ZXN0aW9uX2Fuc3dlcmluZy9sb2FkLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUEyQztBQUNvRTtBQUN2RDtBQUN1QztBQUNQO0FBQ2pGLE1BQU1TLGNBQWMsQ0FBQ0MsS0FBS0MsU0FBUztJQUFFQyxNQUFNO0FBQVEsQ0FBQztJQUN2RCxNQUFNLEVBQUVBLElBQUksRUFBRSxHQUFHRDtJQUNqQixJQUFJQyxTQUFTLFNBQVM7UUFDbEIsT0FBT0MsaUJBQWlCSCxLQUFLQztJQUNqQztJQUNBLElBQUlDLFNBQVMsY0FBYztRQUN2QixPQUFPRSxxQkFBcUJKLEtBQUtDO0lBQ3JDO0lBQ0EsSUFBSUMsU0FBUyxVQUFVO1FBQ25CLE9BQU9HLGtCQUFrQkwsS0FBS0M7SUFDbEM7SUFDQSxNQUFNLElBQUlLLE1BQU0sQ0FBQyxlQUFlLEVBQUVKLEtBQUssQ0FBQztBQUM1QyxFQUFFO0FBQ0Y7Ozs7OztDQU1DLEdBQ00sU0FBU0MsaUJBQWlCSCxHQUFHLEVBQUVDLFNBQVMsQ0FBQyxDQUFDO0lBQzdDLE1BQU0sRUFBRU0sU0FBU2IsaUVBQWtCQSxDQUFDYyxTQUFTLENBQUNSLElBQUksRUFBRVMsT0FBTyxFQUFFLEdBQUdSO0lBQ2hFLE1BQU1TLFdBQVcsSUFBSXBCLG1EQUFRQSxDQUFDO1FBQUVpQjtRQUFRUDtRQUFLUztJQUFRO0lBQ3JELE1BQU1FLFFBQVEsSUFBSXBCLHVFQUFtQkEsQ0FBQztRQUFFbUI7UUFBVUQ7SUFBUTtJQUMxRCxPQUFPRTtBQUNYO0FBQ0E7Ozs7OztDQU1DLEdBQ00sU0FBU1AscUJBQXFCSixHQUFHLEVBQUVDLFNBQVMsQ0FBQyxDQUFDO0lBQ2pELE1BQU0sRUFBRVcsbUJBQW1CaEIsOEVBQTBCQSxDQUFDWSxTQUFTLENBQUNSLElBQUksRUFBRWEsZ0JBQWdCbEIsMkVBQXVCQSxDQUFDYSxTQUFTLENBQUNSLElBQUksRUFBRVMsT0FBTyxFQUFFSyxVQUFVLEVBQUVDLHVCQUF1QixFQUFHLEdBQUdkO0lBQ2hMLE1BQU1TLFdBQVcsSUFBSXBCLG1EQUFRQSxDQUFDO1FBQUVpQixRQUFRSztRQUFrQlo7UUFBS1M7SUFBUTtJQUN2RSxNQUFNTyxrQkFBa0IsSUFBSTFCLG1EQUFRQSxDQUFDO1FBQ2pDaUIsUUFBUU07UUFDUmIsS0FBS2MsY0FBY2Q7UUFDbkJTO0lBQ0o7SUFDQSxNQUFNUSx1QkFBdUIsSUFBSTFCLHVFQUFtQkEsQ0FBQztRQUNqRG1CLFVBQVVNO1FBQ1ZFLHNCQUFzQjtRQUN0QlQ7SUFDSjtJQUNBLE1BQU1FLFFBQVEsSUFBSW5CLDJFQUF1QkEsQ0FBQztRQUN0Q2tCO1FBQ0FPO1FBQ0FGO1FBQ0FOO0lBQ0o7SUFDQSxPQUFPRTtBQUNYO0FBQ0E7Ozs7OztDQU1DLEdBQ00sU0FBU04sa0JBQWtCTCxHQUFHLEVBQUVDLFNBQVMsQ0FBQyxDQUFDO0lBQzlDLE1BQU0sRUFBRWtCLGlCQUFpQnRCLHdFQUF3QkEsQ0FBQ1csU0FBUyxDQUFDUixJQUFJLEVBQUVvQixlQUFldEIsc0VBQXNCQSxDQUFDVSxTQUFTLENBQUNSLElBQUksRUFBRXFCLFNBQVMsRUFBRVosT0FBTyxFQUFHLEdBQUdSO0lBQ2hKLE1BQU1TLFdBQVcsSUFBSXBCLG1EQUFRQSxDQUFDO1FBQUVpQixRQUFRWTtRQUFnQm5CO1FBQUtTO0lBQVE7SUFDckUsTUFBTWEsaUJBQWlCLElBQUloQyxtREFBUUEsQ0FBQztRQUNoQ2lCLFFBQVFhO1FBQ1JwQixLQUFLcUIsYUFBYXJCO1FBQ2xCUztJQUNKO0lBQ0EsTUFBTUUsUUFBUSxJQUFJbEIsd0VBQW9CQSxDQUFDO1FBQ25DaUI7UUFDQVk7UUFDQWI7SUFDSjtJQUNBLE9BQU9FO0FBQ1giLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iZXR0ZXItdG9kby8uL25vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC9jaGFpbnMvcXVlc3Rpb25fYW5zd2VyaW5nL2xvYWQuanM/MWY5ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBMTE1DaGFpbiB9IGZyb20gXCIuLi9sbG1fY2hhaW4uanNcIjtcbmltcG9ydCB7IFN0dWZmRG9jdW1lbnRzQ2hhaW4sIE1hcFJlZHVjZURvY3VtZW50c0NoYWluLCBSZWZpbmVEb2N1bWVudHNDaGFpbiwgfSBmcm9tIFwiLi4vY29tYmluZV9kb2NzX2NoYWluLmpzXCI7XG5pbXBvcnQgeyBRQV9QUk9NUFRfU0VMRUNUT1IgfSBmcm9tIFwiLi9zdHVmZl9wcm9tcHRzLmpzXCI7XG5pbXBvcnQgeyBDT01CSU5FX1BST01QVF9TRUxFQ1RPUiwgQ09NQklORV9RQV9QUk9NUFRfU0VMRUNUT1IsIH0gZnJvbSBcIi4vbWFwX3JlZHVjZV9wcm9tcHRzLmpzXCI7XG5pbXBvcnQgeyBRVUVTVElPTl9QUk9NUFRfU0VMRUNUT1IsIFJFRklORV9QUk9NUFRfU0VMRUNUT1IsIH0gZnJvbSBcIi4vcmVmaW5lX3Byb21wdHMuanNcIjtcbmV4cG9ydCBjb25zdCBsb2FkUUFDaGFpbiA9IChsbG0sIHBhcmFtcyA9IHsgdHlwZTogXCJzdHVmZlwiIH0pID0+IHtcbiAgICBjb25zdCB7IHR5cGUgfSA9IHBhcmFtcztcbiAgICBpZiAodHlwZSA9PT0gXCJzdHVmZlwiKSB7XG4gICAgICAgIHJldHVybiBsb2FkUUFTdHVmZkNoYWluKGxsbSwgcGFyYW1zKTtcbiAgICB9XG4gICAgaWYgKHR5cGUgPT09IFwibWFwX3JlZHVjZVwiKSB7XG4gICAgICAgIHJldHVybiBsb2FkUUFNYXBSZWR1Y2VDaGFpbihsbG0sIHBhcmFtcyk7XG4gICAgfVxuICAgIGlmICh0eXBlID09PSBcInJlZmluZVwiKSB7XG4gICAgICAgIHJldHVybiBsb2FkUUFSZWZpbmVDaGFpbihsbG0sIHBhcmFtcyk7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBfdHlwZTogJHt0eXBlfWApO1xufTtcbi8qKlxuICogTG9hZHMgYSBTdHVmZlFBQ2hhaW4gYmFzZWQgb24gdGhlIHByb3ZpZGVkIHBhcmFtZXRlcnMuIEl0IHRha2VzIGFuIExMTVxuICogaW5zdGFuY2UgYW5kIFN0dWZmUUFDaGFpblBhcmFtcyBhcyBwYXJhbWV0ZXJzLlxuICogQHBhcmFtIGxsbSBBbiBpbnN0YW5jZSBvZiBCYXNlTGFuZ3VhZ2VNb2RlbC5cbiAqIEBwYXJhbSBwYXJhbXMgUGFyYW1ldGVycyBmb3IgY3JlYXRpbmcgYSBTdHVmZlFBQ2hhaW4uXG4gKiBAcmV0dXJucyBBIFN0dWZmUUFDaGFpbiBpbnN0YW5jZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxvYWRRQVN0dWZmQ2hhaW4obGxtLCBwYXJhbXMgPSB7fSkge1xuICAgIGNvbnN0IHsgcHJvbXB0ID0gUUFfUFJPTVBUX1NFTEVDVE9SLmdldFByb21wdChsbG0pLCB2ZXJib3NlIH0gPSBwYXJhbXM7XG4gICAgY29uc3QgbGxtQ2hhaW4gPSBuZXcgTExNQ2hhaW4oeyBwcm9tcHQsIGxsbSwgdmVyYm9zZSB9KTtcbiAgICBjb25zdCBjaGFpbiA9IG5ldyBTdHVmZkRvY3VtZW50c0NoYWluKHsgbGxtQ2hhaW4sIHZlcmJvc2UgfSk7XG4gICAgcmV0dXJuIGNoYWluO1xufVxuLyoqXG4gKiBMb2FkcyBhIE1hcFJlZHVjZVFBQ2hhaW4gYmFzZWQgb24gdGhlIHByb3ZpZGVkIHBhcmFtZXRlcnMuIEl0IHRha2VzIGFuXG4gKiBMTE0gaW5zdGFuY2UgYW5kIE1hcFJlZHVjZVFBQ2hhaW5QYXJhbXMgYXMgcGFyYW1ldGVycy5cbiAqIEBwYXJhbSBsbG0gQW4gaW5zdGFuY2Ugb2YgQmFzZUxhbmd1YWdlTW9kZWwuXG4gKiBAcGFyYW0gcGFyYW1zIFBhcmFtZXRlcnMgZm9yIGNyZWF0aW5nIGEgTWFwUmVkdWNlUUFDaGFpbi5cbiAqIEByZXR1cm5zIEEgTWFwUmVkdWNlUUFDaGFpbiBpbnN0YW5jZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxvYWRRQU1hcFJlZHVjZUNoYWluKGxsbSwgcGFyYW1zID0ge30pIHtcbiAgICBjb25zdCB7IGNvbWJpbmVNYXBQcm9tcHQgPSBDT01CSU5FX1FBX1BST01QVF9TRUxFQ1RPUi5nZXRQcm9tcHQobGxtKSwgY29tYmluZVByb21wdCA9IENPTUJJTkVfUFJPTVBUX1NFTEVDVE9SLmdldFByb21wdChsbG0pLCB2ZXJib3NlLCBjb21iaW5lTExNLCByZXR1cm5JbnRlcm1lZGlhdGVTdGVwcywgfSA9IHBhcmFtcztcbiAgICBjb25zdCBsbG1DaGFpbiA9IG5ldyBMTE1DaGFpbih7IHByb21wdDogY29tYmluZU1hcFByb21wdCwgbGxtLCB2ZXJib3NlIH0pO1xuICAgIGNvbnN0IGNvbWJpbmVMTE1DaGFpbiA9IG5ldyBMTE1DaGFpbih7XG4gICAgICAgIHByb21wdDogY29tYmluZVByb21wdCxcbiAgICAgICAgbGxtOiBjb21iaW5lTExNID8/IGxsbSxcbiAgICAgICAgdmVyYm9zZSxcbiAgICB9KTtcbiAgICBjb25zdCBjb21iaW5lRG9jdW1lbnRDaGFpbiA9IG5ldyBTdHVmZkRvY3VtZW50c0NoYWluKHtcbiAgICAgICAgbGxtQ2hhaW46IGNvbWJpbmVMTE1DaGFpbixcbiAgICAgICAgZG9jdW1lbnRWYXJpYWJsZU5hbWU6IFwic3VtbWFyaWVzXCIsXG4gICAgICAgIHZlcmJvc2UsXG4gICAgfSk7XG4gICAgY29uc3QgY2hhaW4gPSBuZXcgTWFwUmVkdWNlRG9jdW1lbnRzQ2hhaW4oe1xuICAgICAgICBsbG1DaGFpbixcbiAgICAgICAgY29tYmluZURvY3VtZW50Q2hhaW4sXG4gICAgICAgIHJldHVybkludGVybWVkaWF0ZVN0ZXBzLFxuICAgICAgICB2ZXJib3NlLFxuICAgIH0pO1xuICAgIHJldHVybiBjaGFpbjtcbn1cbi8qKlxuICogTG9hZHMgYSBSZWZpbmVRQUNoYWluIGJhc2VkIG9uIHRoZSBwcm92aWRlZCBwYXJhbWV0ZXJzLiBJdCB0YWtlcyBhbiBMTE1cbiAqIGluc3RhbmNlIGFuZCBSZWZpbmVRQUNoYWluUGFyYW1zIGFzIHBhcmFtZXRlcnMuXG4gKiBAcGFyYW0gbGxtIEFuIGluc3RhbmNlIG9mIEJhc2VMYW5ndWFnZU1vZGVsLlxuICogQHBhcmFtIHBhcmFtcyBQYXJhbWV0ZXJzIGZvciBjcmVhdGluZyBhIFJlZmluZVFBQ2hhaW4uXG4gKiBAcmV0dXJucyBBIFJlZmluZVFBQ2hhaW4gaW5zdGFuY2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsb2FkUUFSZWZpbmVDaGFpbihsbG0sIHBhcmFtcyA9IHt9KSB7XG4gICAgY29uc3QgeyBxdWVzdGlvblByb21wdCA9IFFVRVNUSU9OX1BST01QVF9TRUxFQ1RPUi5nZXRQcm9tcHQobGxtKSwgcmVmaW5lUHJvbXB0ID0gUkVGSU5FX1BST01QVF9TRUxFQ1RPUi5nZXRQcm9tcHQobGxtKSwgcmVmaW5lTExNLCB2ZXJib3NlLCB9ID0gcGFyYW1zO1xuICAgIGNvbnN0IGxsbUNoYWluID0gbmV3IExMTUNoYWluKHsgcHJvbXB0OiBxdWVzdGlvblByb21wdCwgbGxtLCB2ZXJib3NlIH0pO1xuICAgIGNvbnN0IHJlZmluZUxMTUNoYWluID0gbmV3IExMTUNoYWluKHtcbiAgICAgICAgcHJvbXB0OiByZWZpbmVQcm9tcHQsXG4gICAgICAgIGxsbTogcmVmaW5lTExNID8/IGxsbSxcbiAgICAgICAgdmVyYm9zZSxcbiAgICB9KTtcbiAgICBjb25zdCBjaGFpbiA9IG5ldyBSZWZpbmVEb2N1bWVudHNDaGFpbih7XG4gICAgICAgIGxsbUNoYWluLFxuICAgICAgICByZWZpbmVMTE1DaGFpbixcbiAgICAgICAgdmVyYm9zZSxcbiAgICB9KTtcbiAgICByZXR1cm4gY2hhaW47XG59XG4iXSwibmFtZXMiOlsiTExNQ2hhaW4iLCJTdHVmZkRvY3VtZW50c0NoYWluIiwiTWFwUmVkdWNlRG9jdW1lbnRzQ2hhaW4iLCJSZWZpbmVEb2N1bWVudHNDaGFpbiIsIlFBX1BST01QVF9TRUxFQ1RPUiIsIkNPTUJJTkVfUFJPTVBUX1NFTEVDVE9SIiwiQ09NQklORV9RQV9QUk9NUFRfU0VMRUNUT1IiLCJRVUVTVElPTl9QUk9NUFRfU0VMRUNUT1IiLCJSRUZJTkVfUFJPTVBUX1NFTEVDVE9SIiwibG9hZFFBQ2hhaW4iLCJsbG0iLCJwYXJhbXMiLCJ0eXBlIiwibG9hZFFBU3R1ZmZDaGFpbiIsImxvYWRRQU1hcFJlZHVjZUNoYWluIiwibG9hZFFBUmVmaW5lQ2hhaW4iLCJFcnJvciIsInByb21wdCIsImdldFByb21wdCIsInZlcmJvc2UiLCJsbG1DaGFpbiIsImNoYWluIiwiY29tYmluZU1hcFByb21wdCIsImNvbWJpbmVQcm9tcHQiLCJjb21iaW5lTExNIiwicmV0dXJuSW50ZXJtZWRpYXRlU3RlcHMiLCJjb21iaW5lTExNQ2hhaW4iLCJjb21iaW5lRG9jdW1lbnRDaGFpbiIsImRvY3VtZW50VmFyaWFibGVOYW1lIiwicXVlc3Rpb25Qcm9tcHQiLCJyZWZpbmVQcm9tcHQiLCJyZWZpbmVMTE0iLCJyZWZpbmVMTE1DaGFpbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/langchain/dist/chains/question_answering/load.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/langchain/dist/chains/question_answering/map_reduce_prompts.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/langchain/dist/chains/question_answering/map_reduce_prompts.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   COMBINE_PROMPT: () => (/* binding */ COMBINE_PROMPT),\n/* harmony export */   COMBINE_PROMPT_SELECTOR: () => (/* binding */ COMBINE_PROMPT_SELECTOR),\n/* harmony export */   COMBINE_QA_PROMPT_SELECTOR: () => (/* binding */ COMBINE_QA_PROMPT_SELECTOR),\n/* harmony export */   DEFAULT_COMBINE_QA_PROMPT: () => (/* binding */ DEFAULT_COMBINE_QA_PROMPT)\n/* harmony export */ });\n/* harmony import */ var _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @langchain/core/prompts */ \"(rsc)/./node_modules/@langchain/core/prompts.js\");\n/* harmony import */ var _langchain_core_example_selectors__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @langchain/core/example_selectors */ \"(rsc)/./node_modules/@langchain/core/example_selectors.js\");\n/* eslint-disable spaced-comment */ \n\nconst qa_template = `Use the following portion of a long document to see if any of the text is relevant to answer the question. \nReturn any relevant text verbatim.\n{context}\nQuestion: {question}\nRelevant text, if any:`;\nconst DEFAULT_COMBINE_QA_PROMPT = /*#__PURE__*/ _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_0__.PromptTemplate.fromTemplate(qa_template);\nconst system_template = `Use the following portion of a long document to see if any of the text is relevant to answer the question. \nReturn any relevant text verbatim.\n----------------\n{context}`;\nconst messages = [\n    /*#__PURE__*/ _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_0__.SystemMessagePromptTemplate.fromTemplate(system_template),\n    /*#__PURE__*/ _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_0__.HumanMessagePromptTemplate.fromTemplate(\"{question}\")\n];\nconst CHAT_QA_PROMPT = /*#__PURE__*/ _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_0__.ChatPromptTemplate.fromMessages(messages);\nconst COMBINE_QA_PROMPT_SELECTOR = /*#__PURE__*/ new _langchain_core_example_selectors__WEBPACK_IMPORTED_MODULE_1__.ConditionalPromptSelector(DEFAULT_COMBINE_QA_PROMPT, [\n    [\n        _langchain_core_example_selectors__WEBPACK_IMPORTED_MODULE_1__.isChatModel,\n        CHAT_QA_PROMPT\n    ]\n]);\nconst combine_prompt = `Given the following extracted parts of a long document and a question, create a final answer. \nIf you don't know the answer, just say that you don't know. Don't try to make up an answer.\n\nQUESTION: Which state/country's law governs the interpretation of the contract?\n=========\nContent: This Agreement is governed by English law and the parties submit to the exclusive jurisdiction of the English courts in  relation to any dispute (contractual or non-contractual) concerning this Agreement save that either party may apply to any court for an  injunction or other relief to protect its Intellectual Property Rights.\n\nContent: No Waiver. Failure or delay in exercising any right or remedy under this Agreement shall not constitute a waiver of such (or any other)  right or remedy.\\n\\n11.7 Severability. The invalidity, illegality or unenforceability of any term (or part of a term) of this Agreement shall not affect the continuation  in force of the remainder of the term (if any) and this Agreement.\\n\\n11.8 No Agency. Except as expressly stated otherwise, nothing in this Agreement shall create an agency, partnership or joint venture of any  kind between the parties.\\n\\n11.9 No Third-Party Beneficiaries.\n\nContent: (b) if Google believes, in good faith, that the Distributor has violated or caused Google to violate any Anti-Bribery Laws (as  defined in Clause 8.5) or that such a violation is reasonably likely to occur,\n=========\nFINAL ANSWER: This Agreement is governed by English law.\n\nQUESTION: What did the president say about Michael Jackson?\n=========\nContent: Madam Speaker, Madam Vice President, our First Lady and Second Gentleman. Members of Congress and the Cabinet. Justices of the Supreme Court. My fellow Americans.  \\n\\nLast year COVID-19 kept us apart. This year we are finally together again. \\n\\nTonight, we meet as Democrats Republicans and Independents. But most importantly as Americans. \\n\\nWith a duty to one another to the American people to the Constitution. \\n\\nAnd with an unwavering resolve that freedom will always triumph over tyranny. \\n\\nSix days ago, Russias Vladimir Putin sought to shake the foundations of the free world thinking he could make it bend to his menacing ways. But he badly miscalculated. \\n\\nHe thought he could roll into Ukraine and the world would roll over. Instead he met a wall of strength he never imagined. \\n\\nHe met the Ukrainian people. \\n\\nFrom President Zelenskyy to every Ukrainian, their fearlessness, their courage, their determination, inspires the world. \\n\\nGroups of citizens blocking tanks with their bodies. Everyone from students to retirees teachers turned soldiers defending their homeland.\n\nContent: And we wont stop. \\n\\nWe have lost so much to COVID-19. Time with one another. And worst of all, so much loss of life. \\n\\nLets use this moment to reset. Lets stop looking at COVID-19 as a partisan dividing line and see it for what it is: A God-awful disease.  \\n\\nLets stop seeing each other as enemies, and start seeing each other for who we really are: Fellow Americans.  \\n\\nWe cant change how divided weve been. But we can change how we move forwardon COVID-19 and other issues we must face together. \\n\\nI recently visited the New York City Police Department days after the funerals of Officer Wilbert Mora and his partner, Officer Jason Rivera. \\n\\nThey were responding to a 9-1-1 call when a man shot and killed them with a stolen gun. \\n\\nOfficer Mora was 27 years old. \\n\\nOfficer Rivera was 22. \\n\\nBoth Dominican Americans whod grown up on the same streets they later chose to patrol as police officers. \\n\\nI spoke with their families and told them that we are forever in debt for their sacrifice, and we will carry on their mission to restore the trust and safety every community deserves.\n\nContent: And a proud Ukrainian people, who have known 30 years  of independence, have repeatedly shown that they will not tolerate anyone who tries to take their country backwards.  \\n\\nTo all Americans, I will be honest with you, as Ive always promised. A Russian dictator, invading a foreign country, has costs around the world. \\n\\nAnd Im taking robust action to make sure the pain of our sanctions  is targeted at Russias economy. And I will use every tool at our disposal to protect American businesses and consumers. \\n\\nTonight, I can announce that the United States has worked with 30 other countries to release 60 Million barrels of oil from reserves around the world.  \\n\\nAmerica will lead that effort, releasing 30 Million barrels from our own Strategic Petroleum Reserve. And we stand ready to do more if necessary, unified with our allies.  \\n\\nThese steps will help blunt gas prices here at home. And I know the news about whats happening can seem alarming. \\n\\nBut I want you to know that we are going to be okay.\n\nContent: More support for patients and families. \\n\\nTo get there, I call on Congress to fund ARPA-H, the Advanced Research Projects Agency for Health. \\n\\nIts based on DARPAthe Defense Department project that led to the Internet, GPS, and so much more.  \\n\\nARPA-H will have a singular purposeto drive breakthroughs in cancer, Alzheimers, diabetes, and more. \\n\\nA unity agenda for the nation. \\n\\nWe can do this. \\n\\nMy fellow Americanstonight , we have gathered in a sacred spacethe citadel of our democracy. \\n\\nIn this Capitol, generation after generation, Americans have debated great questions amid great strife, and have done great things. \\n\\nWe have fought for freedom, expanded liberty, defeated totalitarianism and terror. \\n\\nAnd built the strongest, freest, and most prosperous nation the world has ever known. \\n\\nNow is the hour. \\n\\nOur moment of responsibility. \\n\\nOur test of resolve and conscience, of history itself. \\n\\nIt is in this moment that our character is formed. Our purpose is found. Our future is forged. \\n\\nWell I know this nation.\n=========\nFINAL ANSWER: The president did not mention Michael Jackson.\n\nQUESTION: {question}\n=========\n{summaries}\n=========\nFINAL ANSWER:`;\nconst COMBINE_PROMPT = /*#__PURE__*/ _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_0__.PromptTemplate.fromTemplate(combine_prompt);\nconst system_combine_template = `Given the following extracted parts of a long document and a question, create a final answer. \nIf you don't know the answer, just say that you don't know. Don't try to make up an answer.\n----------------\n{summaries}`;\nconst combine_messages = [\n    /*#__PURE__*/ _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_0__.SystemMessagePromptTemplate.fromTemplate(system_combine_template),\n    /*#__PURE__*/ _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_0__.HumanMessagePromptTemplate.fromTemplate(\"{question}\")\n];\nconst CHAT_COMBINE_PROMPT = /*#__PURE__*/ _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_0__.ChatPromptTemplate.fromMessages(combine_messages);\nconst COMBINE_PROMPT_SELECTOR = /*#__PURE__*/ new _langchain_core_example_selectors__WEBPACK_IMPORTED_MODULE_1__.ConditionalPromptSelector(COMBINE_PROMPT, [\n    [\n        _langchain_core_example_selectors__WEBPACK_IMPORTED_MODULE_1__.isChatModel,\n        CHAT_COMBINE_PROMPT\n    ]\n]);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvY2hhaW5zL3F1ZXN0aW9uX2Fuc3dlcmluZy9tYXBfcmVkdWNlX3Byb21wdHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUEsaUNBQWlDLEdBQ3NHO0FBQzNDO0FBQzVGLE1BQU1NLGNBQWMsQ0FBQzs7OztzQkFJQyxDQUFDO0FBQ2hCLE1BQU1DLDRCQUNiLFdBQVcsR0FDWEosbUVBQWNBLENBQUNLLFlBQVksQ0FBQ0YsYUFBYTtBQUN6QyxNQUFNRyxrQkFBa0IsQ0FBQzs7O1NBR2hCLENBQUM7QUFDVixNQUFNQyxXQUFXO0lBQ2IsV0FBVyxHQUFHVCxnRkFBMkJBLENBQUNPLFlBQVksQ0FBQ0M7SUFDdkQsV0FBVyxHQUFHUCwrRUFBMEJBLENBQUNNLFlBQVksQ0FBQztDQUN6RDtBQUNELE1BQU1HLGlCQUFpQixXQUFXLEdBQUdYLHVFQUFrQkEsQ0FBQ1ksWUFBWSxDQUFDRjtBQUM5RCxNQUFNRyw2QkFDYixXQUFXLEdBQUcsSUFBSVQsd0ZBQXlCQSxDQUFDRywyQkFBMkI7SUFDbkU7UUFBQ0YsMEVBQVdBO1FBQUVNO0tBQWU7Q0FDaEMsRUFBRTtBQUNILE1BQU1HLGlCQUFpQixDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzthQTZCWCxDQUFDO0FBQ1AsTUFBTUMsaUJBQ2IsV0FBVyxHQUFHWixtRUFBY0EsQ0FBQ0ssWUFBWSxDQUFDTSxnQkFBZ0I7QUFDMUQsTUFBTUUsMEJBQTBCLENBQUM7OztXQUd0QixDQUFDO0FBQ1osTUFBTUMsbUJBQW1CO0lBQ3JCLFdBQVcsR0FBR2hCLGdGQUEyQkEsQ0FBQ08sWUFBWSxDQUFDUTtJQUN2RCxXQUFXLEdBQUdkLCtFQUEwQkEsQ0FBQ00sWUFBWSxDQUFDO0NBQ3pEO0FBQ0QsTUFBTVUsc0JBQ04sV0FBVyxHQUFHbEIsdUVBQWtCQSxDQUFDWSxZQUFZLENBQUNLO0FBQ3ZDLE1BQU1FLDBCQUNiLFdBQVcsR0FBRyxJQUFJZix3RkFBeUJBLENBQUNXLGdCQUFnQjtJQUN4RDtRQUFDViwwRUFBV0E7UUFBRWE7S0FBb0I7Q0FDckMsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL2JldHRlci10b2RvLy4vbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L2NoYWlucy9xdWVzdGlvbl9hbnN3ZXJpbmcvbWFwX3JlZHVjZV9wcm9tcHRzLmpzPzRhOTMiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgc3BhY2VkLWNvbW1lbnQgKi9cbmltcG9ydCB7IENoYXRQcm9tcHRUZW1wbGF0ZSwgU3lzdGVtTWVzc2FnZVByb21wdFRlbXBsYXRlLCBIdW1hbk1lc3NhZ2VQcm9tcHRUZW1wbGF0ZSwgUHJvbXB0VGVtcGxhdGUsIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS9wcm9tcHRzXCI7XG5pbXBvcnQgeyBDb25kaXRpb25hbFByb21wdFNlbGVjdG9yLCBpc0NoYXRNb2RlbCwgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL2V4YW1wbGVfc2VsZWN0b3JzXCI7XG5jb25zdCBxYV90ZW1wbGF0ZSA9IGBVc2UgdGhlIGZvbGxvd2luZyBwb3J0aW9uIG9mIGEgbG9uZyBkb2N1bWVudCB0byBzZWUgaWYgYW55IG9mIHRoZSB0ZXh0IGlzIHJlbGV2YW50IHRvIGFuc3dlciB0aGUgcXVlc3Rpb24uIFxuUmV0dXJuIGFueSByZWxldmFudCB0ZXh0IHZlcmJhdGltLlxue2NvbnRleHR9XG5RdWVzdGlvbjoge3F1ZXN0aW9ufVxuUmVsZXZhbnQgdGV4dCwgaWYgYW55OmA7XG5leHBvcnQgY29uc3QgREVGQVVMVF9DT01CSU5FX1FBX1BST01QVCA9IFxuLyojX19QVVJFX18qL1xuUHJvbXB0VGVtcGxhdGUuZnJvbVRlbXBsYXRlKHFhX3RlbXBsYXRlKTtcbmNvbnN0IHN5c3RlbV90ZW1wbGF0ZSA9IGBVc2UgdGhlIGZvbGxvd2luZyBwb3J0aW9uIG9mIGEgbG9uZyBkb2N1bWVudCB0byBzZWUgaWYgYW55IG9mIHRoZSB0ZXh0IGlzIHJlbGV2YW50IHRvIGFuc3dlciB0aGUgcXVlc3Rpb24uIFxuUmV0dXJuIGFueSByZWxldmFudCB0ZXh0IHZlcmJhdGltLlxuLS0tLS0tLS0tLS0tLS0tLVxue2NvbnRleHR9YDtcbmNvbnN0IG1lc3NhZ2VzID0gW1xuICAgIC8qI19fUFVSRV9fKi8gU3lzdGVtTWVzc2FnZVByb21wdFRlbXBsYXRlLmZyb21UZW1wbGF0ZShzeXN0ZW1fdGVtcGxhdGUpLFxuICAgIC8qI19fUFVSRV9fKi8gSHVtYW5NZXNzYWdlUHJvbXB0VGVtcGxhdGUuZnJvbVRlbXBsYXRlKFwie3F1ZXN0aW9ufVwiKSxcbl07XG5jb25zdCBDSEFUX1FBX1BST01QVCA9IC8qI19fUFVSRV9fKi8gQ2hhdFByb21wdFRlbXBsYXRlLmZyb21NZXNzYWdlcyhtZXNzYWdlcyk7XG5leHBvcnQgY29uc3QgQ09NQklORV9RQV9QUk9NUFRfU0VMRUNUT1IgPSBcbi8qI19fUFVSRV9fKi8gbmV3IENvbmRpdGlvbmFsUHJvbXB0U2VsZWN0b3IoREVGQVVMVF9DT01CSU5FX1FBX1BST01QVCwgW1xuICAgIFtpc0NoYXRNb2RlbCwgQ0hBVF9RQV9QUk9NUFRdLFxuXSk7XG5jb25zdCBjb21iaW5lX3Byb21wdCA9IGBHaXZlbiB0aGUgZm9sbG93aW5nIGV4dHJhY3RlZCBwYXJ0cyBvZiBhIGxvbmcgZG9jdW1lbnQgYW5kIGEgcXVlc3Rpb24sIGNyZWF0ZSBhIGZpbmFsIGFuc3dlci4gXG5JZiB5b3UgZG9uJ3Qga25vdyB0aGUgYW5zd2VyLCBqdXN0IHNheSB0aGF0IHlvdSBkb24ndCBrbm93LiBEb24ndCB0cnkgdG8gbWFrZSB1cCBhbiBhbnN3ZXIuXG5cblFVRVNUSU9OOiBXaGljaCBzdGF0ZS9jb3VudHJ5J3MgbGF3IGdvdmVybnMgdGhlIGludGVycHJldGF0aW9uIG9mIHRoZSBjb250cmFjdD9cbj09PT09PT09PVxuQ29udGVudDogVGhpcyBBZ3JlZW1lbnQgaXMgZ292ZXJuZWQgYnkgRW5nbGlzaCBsYXcgYW5kIHRoZSBwYXJ0aWVzIHN1Ym1pdCB0byB0aGUgZXhjbHVzaXZlIGp1cmlzZGljdGlvbiBvZiB0aGUgRW5nbGlzaCBjb3VydHMgaW4gIHJlbGF0aW9uIHRvIGFueSBkaXNwdXRlIChjb250cmFjdHVhbCBvciBub24tY29udHJhY3R1YWwpIGNvbmNlcm5pbmcgdGhpcyBBZ3JlZW1lbnQgc2F2ZSB0aGF0IGVpdGhlciBwYXJ0eSBtYXkgYXBwbHkgdG8gYW55IGNvdXJ0IGZvciBhbiAgaW5qdW5jdGlvbiBvciBvdGhlciByZWxpZWYgdG8gcHJvdGVjdCBpdHMgSW50ZWxsZWN0dWFsIFByb3BlcnR5IFJpZ2h0cy5cblxuQ29udGVudDogTm8gV2FpdmVyLiBGYWlsdXJlIG9yIGRlbGF5IGluIGV4ZXJjaXNpbmcgYW55IHJpZ2h0IG9yIHJlbWVkeSB1bmRlciB0aGlzIEFncmVlbWVudCBzaGFsbCBub3QgY29uc3RpdHV0ZSBhIHdhaXZlciBvZiBzdWNoIChvciBhbnkgb3RoZXIpICByaWdodCBvciByZW1lZHkuXFxuXFxuMTEuNyBTZXZlcmFiaWxpdHkuIFRoZSBpbnZhbGlkaXR5LCBpbGxlZ2FsaXR5IG9yIHVuZW5mb3JjZWFiaWxpdHkgb2YgYW55IHRlcm0gKG9yIHBhcnQgb2YgYSB0ZXJtKSBvZiB0aGlzIEFncmVlbWVudCBzaGFsbCBub3QgYWZmZWN0IHRoZSBjb250aW51YXRpb24gIGluIGZvcmNlIG9mIHRoZSByZW1haW5kZXIgb2YgdGhlIHRlcm0gKGlmIGFueSkgYW5kIHRoaXMgQWdyZWVtZW50LlxcblxcbjExLjggTm8gQWdlbmN5LiBFeGNlcHQgYXMgZXhwcmVzc2x5IHN0YXRlZCBvdGhlcndpc2UsIG5vdGhpbmcgaW4gdGhpcyBBZ3JlZW1lbnQgc2hhbGwgY3JlYXRlIGFuIGFnZW5jeSwgcGFydG5lcnNoaXAgb3Igam9pbnQgdmVudHVyZSBvZiBhbnkgIGtpbmQgYmV0d2VlbiB0aGUgcGFydGllcy5cXG5cXG4xMS45IE5vIFRoaXJkLVBhcnR5IEJlbmVmaWNpYXJpZXMuXG5cbkNvbnRlbnQ6IChiKSBpZiBHb29nbGUgYmVsaWV2ZXMsIGluIGdvb2QgZmFpdGgsIHRoYXQgdGhlIERpc3RyaWJ1dG9yIGhhcyB2aW9sYXRlZCBvciBjYXVzZWQgR29vZ2xlIHRvIHZpb2xhdGUgYW55IEFudGktQnJpYmVyeSBMYXdzIChhcyAgZGVmaW5lZCBpbiBDbGF1c2UgOC41KSBvciB0aGF0IHN1Y2ggYSB2aW9sYXRpb24gaXMgcmVhc29uYWJseSBsaWtlbHkgdG8gb2NjdXIsXG49PT09PT09PT1cbkZJTkFMIEFOU1dFUjogVGhpcyBBZ3JlZW1lbnQgaXMgZ292ZXJuZWQgYnkgRW5nbGlzaCBsYXcuXG5cblFVRVNUSU9OOiBXaGF0IGRpZCB0aGUgcHJlc2lkZW50IHNheSBhYm91dCBNaWNoYWVsIEphY2tzb24/XG49PT09PT09PT1cbkNvbnRlbnQ6IE1hZGFtIFNwZWFrZXIsIE1hZGFtIFZpY2UgUHJlc2lkZW50LCBvdXIgRmlyc3QgTGFkeSBhbmQgU2Vjb25kIEdlbnRsZW1hbi4gTWVtYmVycyBvZiBDb25ncmVzcyBhbmQgdGhlIENhYmluZXQuIEp1c3RpY2VzIG9mIHRoZSBTdXByZW1lIENvdXJ0LiBNeSBmZWxsb3cgQW1lcmljYW5zLiAgXFxuXFxuTGFzdCB5ZWFyIENPVklELTE5IGtlcHQgdXMgYXBhcnQuIFRoaXMgeWVhciB3ZSBhcmUgZmluYWxseSB0b2dldGhlciBhZ2Fpbi4gXFxuXFxuVG9uaWdodCwgd2UgbWVldCBhcyBEZW1vY3JhdHMgUmVwdWJsaWNhbnMgYW5kIEluZGVwZW5kZW50cy4gQnV0IG1vc3QgaW1wb3J0YW50bHkgYXMgQW1lcmljYW5zLiBcXG5cXG5XaXRoIGEgZHV0eSB0byBvbmUgYW5vdGhlciB0byB0aGUgQW1lcmljYW4gcGVvcGxlIHRvIHRoZSBDb25zdGl0dXRpb24uIFxcblxcbkFuZCB3aXRoIGFuIHVud2F2ZXJpbmcgcmVzb2x2ZSB0aGF0IGZyZWVkb20gd2lsbCBhbHdheXMgdHJpdW1waCBvdmVyIHR5cmFubnkuIFxcblxcblNpeCBkYXlzIGFnbywgUnVzc2lh4oCZcyBWbGFkaW1pciBQdXRpbiBzb3VnaHQgdG8gc2hha2UgdGhlIGZvdW5kYXRpb25zIG9mIHRoZSBmcmVlIHdvcmxkIHRoaW5raW5nIGhlIGNvdWxkIG1ha2UgaXQgYmVuZCB0byBoaXMgbWVuYWNpbmcgd2F5cy4gQnV0IGhlIGJhZGx5IG1pc2NhbGN1bGF0ZWQuIFxcblxcbkhlIHRob3VnaHQgaGUgY291bGQgcm9sbCBpbnRvIFVrcmFpbmUgYW5kIHRoZSB3b3JsZCB3b3VsZCByb2xsIG92ZXIuIEluc3RlYWQgaGUgbWV0IGEgd2FsbCBvZiBzdHJlbmd0aCBoZSBuZXZlciBpbWFnaW5lZC4gXFxuXFxuSGUgbWV0IHRoZSBVa3JhaW5pYW4gcGVvcGxlLiBcXG5cXG5Gcm9tIFByZXNpZGVudCBaZWxlbnNreXkgdG8gZXZlcnkgVWtyYWluaWFuLCB0aGVpciBmZWFybGVzc25lc3MsIHRoZWlyIGNvdXJhZ2UsIHRoZWlyIGRldGVybWluYXRpb24sIGluc3BpcmVzIHRoZSB3b3JsZC4gXFxuXFxuR3JvdXBzIG9mIGNpdGl6ZW5zIGJsb2NraW5nIHRhbmtzIHdpdGggdGhlaXIgYm9kaWVzLiBFdmVyeW9uZSBmcm9tIHN0dWRlbnRzIHRvIHJldGlyZWVzIHRlYWNoZXJzIHR1cm5lZCBzb2xkaWVycyBkZWZlbmRpbmcgdGhlaXIgaG9tZWxhbmQuXG5cbkNvbnRlbnQ6IEFuZCB3ZSB3b27igJl0IHN0b3AuIFxcblxcbldlIGhhdmUgbG9zdCBzbyBtdWNoIHRvIENPVklELTE5LiBUaW1lIHdpdGggb25lIGFub3RoZXIuIEFuZCB3b3JzdCBvZiBhbGwsIHNvIG11Y2ggbG9zcyBvZiBsaWZlLiBcXG5cXG5MZXTigJlzIHVzZSB0aGlzIG1vbWVudCB0byByZXNldC4gTGV04oCZcyBzdG9wIGxvb2tpbmcgYXQgQ09WSUQtMTkgYXMgYSBwYXJ0aXNhbiBkaXZpZGluZyBsaW5lIGFuZCBzZWUgaXQgZm9yIHdoYXQgaXQgaXM6IEEgR29kLWF3ZnVsIGRpc2Vhc2UuICBcXG5cXG5MZXTigJlzIHN0b3Agc2VlaW5nIGVhY2ggb3RoZXIgYXMgZW5lbWllcywgYW5kIHN0YXJ0IHNlZWluZyBlYWNoIG90aGVyIGZvciB3aG8gd2UgcmVhbGx5IGFyZTogRmVsbG93IEFtZXJpY2Fucy4gIFxcblxcbldlIGNhbuKAmXQgY2hhbmdlIGhvdyBkaXZpZGVkIHdl4oCZdmUgYmVlbi4gQnV0IHdlIGNhbiBjaGFuZ2UgaG93IHdlIG1vdmUgZm9yd2FyZOKAlG9uIENPVklELTE5IGFuZCBvdGhlciBpc3N1ZXMgd2UgbXVzdCBmYWNlIHRvZ2V0aGVyLiBcXG5cXG5JIHJlY2VudGx5IHZpc2l0ZWQgdGhlIE5ldyBZb3JrIENpdHkgUG9saWNlIERlcGFydG1lbnQgZGF5cyBhZnRlciB0aGUgZnVuZXJhbHMgb2YgT2ZmaWNlciBXaWxiZXJ0IE1vcmEgYW5kIGhpcyBwYXJ0bmVyLCBPZmZpY2VyIEphc29uIFJpdmVyYS4gXFxuXFxuVGhleSB3ZXJlIHJlc3BvbmRpbmcgdG8gYSA5LTEtMSBjYWxsIHdoZW4gYSBtYW4gc2hvdCBhbmQga2lsbGVkIHRoZW0gd2l0aCBhIHN0b2xlbiBndW4uIFxcblxcbk9mZmljZXIgTW9yYSB3YXMgMjcgeWVhcnMgb2xkLiBcXG5cXG5PZmZpY2VyIFJpdmVyYSB3YXMgMjIuIFxcblxcbkJvdGggRG9taW5pY2FuIEFtZXJpY2FucyB3aG/igJlkIGdyb3duIHVwIG9uIHRoZSBzYW1lIHN0cmVldHMgdGhleSBsYXRlciBjaG9zZSB0byBwYXRyb2wgYXMgcG9saWNlIG9mZmljZXJzLiBcXG5cXG5JIHNwb2tlIHdpdGggdGhlaXIgZmFtaWxpZXMgYW5kIHRvbGQgdGhlbSB0aGF0IHdlIGFyZSBmb3JldmVyIGluIGRlYnQgZm9yIHRoZWlyIHNhY3JpZmljZSwgYW5kIHdlIHdpbGwgY2Fycnkgb24gdGhlaXIgbWlzc2lvbiB0byByZXN0b3JlIHRoZSB0cnVzdCBhbmQgc2FmZXR5IGV2ZXJ5IGNvbW11bml0eSBkZXNlcnZlcy5cblxuQ29udGVudDogQW5kIGEgcHJvdWQgVWtyYWluaWFuIHBlb3BsZSwgd2hvIGhhdmUga25vd24gMzAgeWVhcnMgIG9mIGluZGVwZW5kZW5jZSwgaGF2ZSByZXBlYXRlZGx5IHNob3duIHRoYXQgdGhleSB3aWxsIG5vdCB0b2xlcmF0ZSBhbnlvbmUgd2hvIHRyaWVzIHRvIHRha2UgdGhlaXIgY291bnRyeSBiYWNrd2FyZHMuICBcXG5cXG5UbyBhbGwgQW1lcmljYW5zLCBJIHdpbGwgYmUgaG9uZXN0IHdpdGggeW91LCBhcyBJ4oCZdmUgYWx3YXlzIHByb21pc2VkLiBBIFJ1c3NpYW4gZGljdGF0b3IsIGludmFkaW5nIGEgZm9yZWlnbiBjb3VudHJ5LCBoYXMgY29zdHMgYXJvdW5kIHRoZSB3b3JsZC4gXFxuXFxuQW5kIEnigJltIHRha2luZyByb2J1c3QgYWN0aW9uIHRvIG1ha2Ugc3VyZSB0aGUgcGFpbiBvZiBvdXIgc2FuY3Rpb25zICBpcyB0YXJnZXRlZCBhdCBSdXNzaWHigJlzIGVjb25vbXkuIEFuZCBJIHdpbGwgdXNlIGV2ZXJ5IHRvb2wgYXQgb3VyIGRpc3Bvc2FsIHRvIHByb3RlY3QgQW1lcmljYW4gYnVzaW5lc3NlcyBhbmQgY29uc3VtZXJzLiBcXG5cXG5Ub25pZ2h0LCBJIGNhbiBhbm5vdW5jZSB0aGF0IHRoZSBVbml0ZWQgU3RhdGVzIGhhcyB3b3JrZWQgd2l0aCAzMCBvdGhlciBjb3VudHJpZXMgdG8gcmVsZWFzZSA2MCBNaWxsaW9uIGJhcnJlbHMgb2Ygb2lsIGZyb20gcmVzZXJ2ZXMgYXJvdW5kIHRoZSB3b3JsZC4gIFxcblxcbkFtZXJpY2Egd2lsbCBsZWFkIHRoYXQgZWZmb3J0LCByZWxlYXNpbmcgMzAgTWlsbGlvbiBiYXJyZWxzIGZyb20gb3VyIG93biBTdHJhdGVnaWMgUGV0cm9sZXVtIFJlc2VydmUuIEFuZCB3ZSBzdGFuZCByZWFkeSB0byBkbyBtb3JlIGlmIG5lY2Vzc2FyeSwgdW5pZmllZCB3aXRoIG91ciBhbGxpZXMuICBcXG5cXG5UaGVzZSBzdGVwcyB3aWxsIGhlbHAgYmx1bnQgZ2FzIHByaWNlcyBoZXJlIGF0IGhvbWUuIEFuZCBJIGtub3cgdGhlIG5ld3MgYWJvdXQgd2hhdOKAmXMgaGFwcGVuaW5nIGNhbiBzZWVtIGFsYXJtaW5nLiBcXG5cXG5CdXQgSSB3YW50IHlvdSB0byBrbm93IHRoYXQgd2UgYXJlIGdvaW5nIHRvIGJlIG9rYXkuXG5cbkNvbnRlbnQ6IE1vcmUgc3VwcG9ydCBmb3IgcGF0aWVudHMgYW5kIGZhbWlsaWVzLiBcXG5cXG5UbyBnZXQgdGhlcmUsIEkgY2FsbCBvbiBDb25ncmVzcyB0byBmdW5kIEFSUEEtSCwgdGhlIEFkdmFuY2VkIFJlc2VhcmNoIFByb2plY3RzIEFnZW5jeSBmb3IgSGVhbHRoLiBcXG5cXG5JdOKAmXMgYmFzZWQgb24gREFSUEHigJR0aGUgRGVmZW5zZSBEZXBhcnRtZW50IHByb2plY3QgdGhhdCBsZWQgdG8gdGhlIEludGVybmV0LCBHUFMsIGFuZCBzbyBtdWNoIG1vcmUuICBcXG5cXG5BUlBBLUggd2lsbCBoYXZlIGEgc2luZ3VsYXIgcHVycG9zZeKAlHRvIGRyaXZlIGJyZWFrdGhyb3VnaHMgaW4gY2FuY2VyLCBBbHpoZWltZXLigJlzLCBkaWFiZXRlcywgYW5kIG1vcmUuIFxcblxcbkEgdW5pdHkgYWdlbmRhIGZvciB0aGUgbmF0aW9uLiBcXG5cXG5XZSBjYW4gZG8gdGhpcy4gXFxuXFxuTXkgZmVsbG93IEFtZXJpY2Fuc+KAlHRvbmlnaHQgLCB3ZSBoYXZlIGdhdGhlcmVkIGluIGEgc2FjcmVkIHNwYWNl4oCUdGhlIGNpdGFkZWwgb2Ygb3VyIGRlbW9jcmFjeS4gXFxuXFxuSW4gdGhpcyBDYXBpdG9sLCBnZW5lcmF0aW9uIGFmdGVyIGdlbmVyYXRpb24sIEFtZXJpY2FucyBoYXZlIGRlYmF0ZWQgZ3JlYXQgcXVlc3Rpb25zIGFtaWQgZ3JlYXQgc3RyaWZlLCBhbmQgaGF2ZSBkb25lIGdyZWF0IHRoaW5ncy4gXFxuXFxuV2UgaGF2ZSBmb3VnaHQgZm9yIGZyZWVkb20sIGV4cGFuZGVkIGxpYmVydHksIGRlZmVhdGVkIHRvdGFsaXRhcmlhbmlzbSBhbmQgdGVycm9yLiBcXG5cXG5BbmQgYnVpbHQgdGhlIHN0cm9uZ2VzdCwgZnJlZXN0LCBhbmQgbW9zdCBwcm9zcGVyb3VzIG5hdGlvbiB0aGUgd29ybGQgaGFzIGV2ZXIga25vd24uIFxcblxcbk5vdyBpcyB0aGUgaG91ci4gXFxuXFxuT3VyIG1vbWVudCBvZiByZXNwb25zaWJpbGl0eS4gXFxuXFxuT3VyIHRlc3Qgb2YgcmVzb2x2ZSBhbmQgY29uc2NpZW5jZSwgb2YgaGlzdG9yeSBpdHNlbGYuIFxcblxcbkl0IGlzIGluIHRoaXMgbW9tZW50IHRoYXQgb3VyIGNoYXJhY3RlciBpcyBmb3JtZWQuIE91ciBwdXJwb3NlIGlzIGZvdW5kLiBPdXIgZnV0dXJlIGlzIGZvcmdlZC4gXFxuXFxuV2VsbCBJIGtub3cgdGhpcyBuYXRpb24uXG49PT09PT09PT1cbkZJTkFMIEFOU1dFUjogVGhlIHByZXNpZGVudCBkaWQgbm90IG1lbnRpb24gTWljaGFlbCBKYWNrc29uLlxuXG5RVUVTVElPTjoge3F1ZXN0aW9ufVxuPT09PT09PT09XG57c3VtbWFyaWVzfVxuPT09PT09PT09XG5GSU5BTCBBTlNXRVI6YDtcbmV4cG9ydCBjb25zdCBDT01CSU5FX1BST01QVCA9IFxuLyojX19QVVJFX18qLyBQcm9tcHRUZW1wbGF0ZS5mcm9tVGVtcGxhdGUoY29tYmluZV9wcm9tcHQpO1xuY29uc3Qgc3lzdGVtX2NvbWJpbmVfdGVtcGxhdGUgPSBgR2l2ZW4gdGhlIGZvbGxvd2luZyBleHRyYWN0ZWQgcGFydHMgb2YgYSBsb25nIGRvY3VtZW50IGFuZCBhIHF1ZXN0aW9uLCBjcmVhdGUgYSBmaW5hbCBhbnN3ZXIuIFxuSWYgeW91IGRvbid0IGtub3cgdGhlIGFuc3dlciwganVzdCBzYXkgdGhhdCB5b3UgZG9uJ3Qga25vdy4gRG9uJ3QgdHJ5IHRvIG1ha2UgdXAgYW4gYW5zd2VyLlxuLS0tLS0tLS0tLS0tLS0tLVxue3N1bW1hcmllc31gO1xuY29uc3QgY29tYmluZV9tZXNzYWdlcyA9IFtcbiAgICAvKiNfX1BVUkVfXyovIFN5c3RlbU1lc3NhZ2VQcm9tcHRUZW1wbGF0ZS5mcm9tVGVtcGxhdGUoc3lzdGVtX2NvbWJpbmVfdGVtcGxhdGUpLFxuICAgIC8qI19fUFVSRV9fKi8gSHVtYW5NZXNzYWdlUHJvbXB0VGVtcGxhdGUuZnJvbVRlbXBsYXRlKFwie3F1ZXN0aW9ufVwiKSxcbl07XG5jb25zdCBDSEFUX0NPTUJJTkVfUFJPTVBUID0gXG4vKiNfX1BVUkVfXyovIENoYXRQcm9tcHRUZW1wbGF0ZS5mcm9tTWVzc2FnZXMoY29tYmluZV9tZXNzYWdlcyk7XG5leHBvcnQgY29uc3QgQ09NQklORV9QUk9NUFRfU0VMRUNUT1IgPSBcbi8qI19fUFVSRV9fKi8gbmV3IENvbmRpdGlvbmFsUHJvbXB0U2VsZWN0b3IoQ09NQklORV9QUk9NUFQsIFtcbiAgICBbaXNDaGF0TW9kZWwsIENIQVRfQ09NQklORV9QUk9NUFRdLFxuXSk7XG4iXSwibmFtZXMiOlsiQ2hhdFByb21wdFRlbXBsYXRlIiwiU3lzdGVtTWVzc2FnZVByb21wdFRlbXBsYXRlIiwiSHVtYW5NZXNzYWdlUHJvbXB0VGVtcGxhdGUiLCJQcm9tcHRUZW1wbGF0ZSIsIkNvbmRpdGlvbmFsUHJvbXB0U2VsZWN0b3IiLCJpc0NoYXRNb2RlbCIsInFhX3RlbXBsYXRlIiwiREVGQVVMVF9DT01CSU5FX1FBX1BST01QVCIsImZyb21UZW1wbGF0ZSIsInN5c3RlbV90ZW1wbGF0ZSIsIm1lc3NhZ2VzIiwiQ0hBVF9RQV9QUk9NUFQiLCJmcm9tTWVzc2FnZXMiLCJDT01CSU5FX1FBX1BST01QVF9TRUxFQ1RPUiIsImNvbWJpbmVfcHJvbXB0IiwiQ09NQklORV9QUk9NUFQiLCJzeXN0ZW1fY29tYmluZV90ZW1wbGF0ZSIsImNvbWJpbmVfbWVzc2FnZXMiLCJDSEFUX0NPTUJJTkVfUFJPTVBUIiwiQ09NQklORV9QUk9NUFRfU0VMRUNUT1IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/langchain/dist/chains/question_answering/map_reduce_prompts.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/langchain/dist/chains/question_answering/refine_prompts.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/langchain/dist/chains/question_answering/refine_prompts.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CHAT_QUESTION_PROMPT: () => (/* binding */ CHAT_QUESTION_PROMPT),\n/* harmony export */   CHAT_REFINE_PROMPT: () => (/* binding */ CHAT_REFINE_PROMPT),\n/* harmony export */   DEFAULT_REFINE_PROMPT: () => (/* binding */ DEFAULT_REFINE_PROMPT),\n/* harmony export */   DEFAULT_REFINE_PROMPT_TMPL: () => (/* binding */ DEFAULT_REFINE_PROMPT_TMPL),\n/* harmony export */   DEFAULT_TEXT_QA_PROMPT: () => (/* binding */ DEFAULT_TEXT_QA_PROMPT),\n/* harmony export */   DEFAULT_TEXT_QA_PROMPT_TMPL: () => (/* binding */ DEFAULT_TEXT_QA_PROMPT_TMPL),\n/* harmony export */   QUESTION_PROMPT_SELECTOR: () => (/* binding */ QUESTION_PROMPT_SELECTOR),\n/* harmony export */   REFINE_PROMPT_SELECTOR: () => (/* binding */ REFINE_PROMPT_SELECTOR)\n/* harmony export */ });\n/* harmony import */ var _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @langchain/core/prompts */ \"(rsc)/./node_modules/@langchain/core/prompts.js\");\n/* harmony import */ var _langchain_core_example_selectors__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @langchain/core/example_selectors */ \"(rsc)/./node_modules/@langchain/core/example_selectors.js\");\n/* eslint-disable spaced-comment */ \n\nconst DEFAULT_REFINE_PROMPT_TMPL = `The original question is as follows: {question}\nWe have provided an existing answer: {existing_answer}\nWe have the opportunity to refine the existing answer\n(only if needed) with some more context below.\n------------\n{context}\n------------\nGiven the new context, refine the original answer to better answer the question. \nIf the context isn't useful, return the original answer.`;\nconst DEFAULT_REFINE_PROMPT = /*#__PURE__*/ new _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_0__.PromptTemplate({\n    inputVariables: [\n        \"question\",\n        \"existing_answer\",\n        \"context\"\n    ],\n    template: DEFAULT_REFINE_PROMPT_TMPL\n});\nconst refineTemplate = `The original question is as follows: {question}\nWe have provided an existing answer: {existing_answer}\nWe have the opportunity to refine the existing answer\n(only if needed) with some more context below.\n------------\n{context}\n------------\nGiven the new context, refine the original answer to better answer the question. \nIf the context isn't useful, return the original answer.`;\nconst messages = [\n    /*#__PURE__*/ _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_0__.HumanMessagePromptTemplate.fromTemplate(\"{question}\"),\n    /*#__PURE__*/ _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_0__.AIMessagePromptTemplate.fromTemplate(\"{existing_answer}\"),\n    /*#__PURE__*/ _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_0__.HumanMessagePromptTemplate.fromTemplate(refineTemplate)\n];\nconst CHAT_REFINE_PROMPT = /*#__PURE__*/ _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_0__.ChatPromptTemplate.fromMessages(messages);\nconst REFINE_PROMPT_SELECTOR = /*#__PURE__*/ new _langchain_core_example_selectors__WEBPACK_IMPORTED_MODULE_1__.ConditionalPromptSelector(DEFAULT_REFINE_PROMPT, [\n    [\n        _langchain_core_example_selectors__WEBPACK_IMPORTED_MODULE_1__.isChatModel,\n        CHAT_REFINE_PROMPT\n    ]\n]);\nconst DEFAULT_TEXT_QA_PROMPT_TMPL = `Context information is below. \n---------------------\n{context}\n---------------------\nGiven the context information and no prior knowledge, answer the question: {question}`;\nconst DEFAULT_TEXT_QA_PROMPT = /*#__PURE__*/ new _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_0__.PromptTemplate({\n    inputVariables: [\n        \"context\",\n        \"question\"\n    ],\n    template: DEFAULT_TEXT_QA_PROMPT_TMPL\n});\nconst chat_qa_prompt_template = `Context information is below. \n---------------------\n{context}\n---------------------\nGiven the context information and no prior knowledge, answer any questions`;\nconst chat_messages = [\n    /*#__PURE__*/ _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_0__.SystemMessagePromptTemplate.fromTemplate(chat_qa_prompt_template),\n    /*#__PURE__*/ _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_0__.HumanMessagePromptTemplate.fromTemplate(\"{question}\")\n];\nconst CHAT_QUESTION_PROMPT = /*#__PURE__*/ _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_0__.ChatPromptTemplate.fromMessages(chat_messages);\nconst QUESTION_PROMPT_SELECTOR = /*#__PURE__*/ new _langchain_core_example_selectors__WEBPACK_IMPORTED_MODULE_1__.ConditionalPromptSelector(DEFAULT_TEXT_QA_PROMPT, [\n    [\n        _langchain_core_example_selectors__WEBPACK_IMPORTED_MODULE_1__.isChatModel,\n        CHAT_QUESTION_PROMPT\n    ]\n]);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvY2hhaW5zL3F1ZXN0aW9uX2Fuc3dlcmluZy9yZWZpbmVfcHJvbXB0cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUEsaUNBQWlDLEdBQytIO0FBQ3BFO0FBQ3JGLE1BQU1PLDZCQUE2QixDQUFDOzs7Ozs7Ozt3REFRYSxDQUFDLENBQUM7QUFDbkQsTUFBTUMsd0JBQXdCLFdBQVcsR0FBRyxJQUFJUixtRUFBY0EsQ0FBQztJQUNsRVMsZ0JBQWdCO1FBQUM7UUFBWTtRQUFtQjtLQUFVO0lBQzFEQyxVQUFVSDtBQUNkLEdBQUc7QUFDSCxNQUFNSSxpQkFBaUIsQ0FBQzs7Ozs7Ozs7d0RBUWdDLENBQUM7QUFDekQsTUFBTUMsV0FBVztJQUNiLFdBQVcsR0FBR1QsK0VBQTBCQSxDQUFDVSxZQUFZLENBQUM7SUFDdEQsV0FBVyxHQUFHVCw0RUFBdUJBLENBQUNTLFlBQVksQ0FBQztJQUNuRCxXQUFXLEdBQUdWLCtFQUEwQkEsQ0FBQ1UsWUFBWSxDQUFDRjtDQUN6RDtBQUNNLE1BQU1HLHFCQUNiLFdBQVcsR0FBR2IsdUVBQWtCQSxDQUFDYyxZQUFZLENBQUNILFVBQVU7QUFDakQsTUFBTUkseUJBQ2IsV0FBVyxHQUFHLElBQUlYLHdGQUF5QkEsQ0FBQ0csdUJBQXVCO0lBQy9EO1FBQUNGLDBFQUFXQTtRQUFFUTtLQUFtQjtDQUNwQyxFQUFFO0FBQ0ksTUFBTUcsOEJBQThCLENBQUM7Ozs7cUZBSXlDLENBQUMsQ0FBQztBQUNoRixNQUFNQyx5QkFBeUIsV0FBVyxHQUFHLElBQUlsQixtRUFBY0EsQ0FBQztJQUNuRVMsZ0JBQWdCO1FBQUM7UUFBVztLQUFXO0lBQ3ZDQyxVQUFVTztBQUNkLEdBQUc7QUFDSCxNQUFNRSwwQkFBMEIsQ0FBQzs7OzswRUFJeUMsQ0FBQztBQUMzRSxNQUFNQyxnQkFBZ0I7SUFDbEIsV0FBVyxHQUFHbEIsZ0ZBQTJCQSxDQUFDVyxZQUFZLENBQUNNO0lBQ3ZELFdBQVcsR0FBR2hCLCtFQUEwQkEsQ0FBQ1UsWUFBWSxDQUFDO0NBQ3pEO0FBQ00sTUFBTVEsdUJBQ2IsV0FBVyxHQUFHcEIsdUVBQWtCQSxDQUFDYyxZQUFZLENBQUNLLGVBQWU7QUFDdEQsTUFBTUUsMkJBQ2IsV0FBVyxHQUFHLElBQUlqQix3RkFBeUJBLENBQUNhLHdCQUF3QjtJQUNoRTtRQUFDWiwwRUFBV0E7UUFBRWU7S0FBcUI7Q0FDdEMsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL2JldHRlci10b2RvLy4vbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L2NoYWlucy9xdWVzdGlvbl9hbnN3ZXJpbmcvcmVmaW5lX3Byb21wdHMuanM/YjM1YiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBzcGFjZWQtY29tbWVudCAqL1xuaW1wb3J0IHsgUHJvbXB0VGVtcGxhdGUsIENoYXRQcm9tcHRUZW1wbGF0ZSwgU3lzdGVtTWVzc2FnZVByb21wdFRlbXBsYXRlLCBIdW1hbk1lc3NhZ2VQcm9tcHRUZW1wbGF0ZSwgQUlNZXNzYWdlUHJvbXB0VGVtcGxhdGUsIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS9wcm9tcHRzXCI7XG5pbXBvcnQgeyBDb25kaXRpb25hbFByb21wdFNlbGVjdG9yLCBpc0NoYXRNb2RlbCwgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL2V4YW1wbGVfc2VsZWN0b3JzXCI7XG5leHBvcnQgY29uc3QgREVGQVVMVF9SRUZJTkVfUFJPTVBUX1RNUEwgPSBgVGhlIG9yaWdpbmFsIHF1ZXN0aW9uIGlzIGFzIGZvbGxvd3M6IHtxdWVzdGlvbn1cbldlIGhhdmUgcHJvdmlkZWQgYW4gZXhpc3RpbmcgYW5zd2VyOiB7ZXhpc3RpbmdfYW5zd2VyfVxuV2UgaGF2ZSB0aGUgb3Bwb3J0dW5pdHkgdG8gcmVmaW5lIHRoZSBleGlzdGluZyBhbnN3ZXJcbihvbmx5IGlmIG5lZWRlZCkgd2l0aCBzb21lIG1vcmUgY29udGV4dCBiZWxvdy5cbi0tLS0tLS0tLS0tLVxue2NvbnRleHR9XG4tLS0tLS0tLS0tLS1cbkdpdmVuIHRoZSBuZXcgY29udGV4dCwgcmVmaW5lIHRoZSBvcmlnaW5hbCBhbnN3ZXIgdG8gYmV0dGVyIGFuc3dlciB0aGUgcXVlc3Rpb24uIFxuSWYgdGhlIGNvbnRleHQgaXNuJ3QgdXNlZnVsLCByZXR1cm4gdGhlIG9yaWdpbmFsIGFuc3dlci5gO1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfUkVGSU5FX1BST01QVCA9IC8qI19fUFVSRV9fKi8gbmV3IFByb21wdFRlbXBsYXRlKHtcbiAgICBpbnB1dFZhcmlhYmxlczogW1wicXVlc3Rpb25cIiwgXCJleGlzdGluZ19hbnN3ZXJcIiwgXCJjb250ZXh0XCJdLFxuICAgIHRlbXBsYXRlOiBERUZBVUxUX1JFRklORV9QUk9NUFRfVE1QTCxcbn0pO1xuY29uc3QgcmVmaW5lVGVtcGxhdGUgPSBgVGhlIG9yaWdpbmFsIHF1ZXN0aW9uIGlzIGFzIGZvbGxvd3M6IHtxdWVzdGlvbn1cbldlIGhhdmUgcHJvdmlkZWQgYW4gZXhpc3RpbmcgYW5zd2VyOiB7ZXhpc3RpbmdfYW5zd2VyfVxuV2UgaGF2ZSB0aGUgb3Bwb3J0dW5pdHkgdG8gcmVmaW5lIHRoZSBleGlzdGluZyBhbnN3ZXJcbihvbmx5IGlmIG5lZWRlZCkgd2l0aCBzb21lIG1vcmUgY29udGV4dCBiZWxvdy5cbi0tLS0tLS0tLS0tLVxue2NvbnRleHR9XG4tLS0tLS0tLS0tLS1cbkdpdmVuIHRoZSBuZXcgY29udGV4dCwgcmVmaW5lIHRoZSBvcmlnaW5hbCBhbnN3ZXIgdG8gYmV0dGVyIGFuc3dlciB0aGUgcXVlc3Rpb24uIFxuSWYgdGhlIGNvbnRleHQgaXNuJ3QgdXNlZnVsLCByZXR1cm4gdGhlIG9yaWdpbmFsIGFuc3dlci5gO1xuY29uc3QgbWVzc2FnZXMgPSBbXG4gICAgLyojX19QVVJFX18qLyBIdW1hbk1lc3NhZ2VQcm9tcHRUZW1wbGF0ZS5mcm9tVGVtcGxhdGUoXCJ7cXVlc3Rpb259XCIpLFxuICAgIC8qI19fUFVSRV9fKi8gQUlNZXNzYWdlUHJvbXB0VGVtcGxhdGUuZnJvbVRlbXBsYXRlKFwie2V4aXN0aW5nX2Fuc3dlcn1cIiksXG4gICAgLyojX19QVVJFX18qLyBIdW1hbk1lc3NhZ2VQcm9tcHRUZW1wbGF0ZS5mcm9tVGVtcGxhdGUocmVmaW5lVGVtcGxhdGUpLFxuXTtcbmV4cG9ydCBjb25zdCBDSEFUX1JFRklORV9QUk9NUFQgPSBcbi8qI19fUFVSRV9fKi8gQ2hhdFByb21wdFRlbXBsYXRlLmZyb21NZXNzYWdlcyhtZXNzYWdlcyk7XG5leHBvcnQgY29uc3QgUkVGSU5FX1BST01QVF9TRUxFQ1RPUiA9IFxuLyojX19QVVJFX18qLyBuZXcgQ29uZGl0aW9uYWxQcm9tcHRTZWxlY3RvcihERUZBVUxUX1JFRklORV9QUk9NUFQsIFtcbiAgICBbaXNDaGF0TW9kZWwsIENIQVRfUkVGSU5FX1BST01QVF0sXG5dKTtcbmV4cG9ydCBjb25zdCBERUZBVUxUX1RFWFRfUUFfUFJPTVBUX1RNUEwgPSBgQ29udGV4dCBpbmZvcm1hdGlvbiBpcyBiZWxvdy4gXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbntjb250ZXh0fVxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5HaXZlbiB0aGUgY29udGV4dCBpbmZvcm1hdGlvbiBhbmQgbm8gcHJpb3Iga25vd2xlZGdlLCBhbnN3ZXIgdGhlIHF1ZXN0aW9uOiB7cXVlc3Rpb259YDtcbmV4cG9ydCBjb25zdCBERUZBVUxUX1RFWFRfUUFfUFJPTVBUID0gLyojX19QVVJFX18qLyBuZXcgUHJvbXB0VGVtcGxhdGUoe1xuICAgIGlucHV0VmFyaWFibGVzOiBbXCJjb250ZXh0XCIsIFwicXVlc3Rpb25cIl0sXG4gICAgdGVtcGxhdGU6IERFRkFVTFRfVEVYVF9RQV9QUk9NUFRfVE1QTCxcbn0pO1xuY29uc3QgY2hhdF9xYV9wcm9tcHRfdGVtcGxhdGUgPSBgQ29udGV4dCBpbmZvcm1hdGlvbiBpcyBiZWxvdy4gXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbntjb250ZXh0fVxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5HaXZlbiB0aGUgY29udGV4dCBpbmZvcm1hdGlvbiBhbmQgbm8gcHJpb3Iga25vd2xlZGdlLCBhbnN3ZXIgYW55IHF1ZXN0aW9uc2A7XG5jb25zdCBjaGF0X21lc3NhZ2VzID0gW1xuICAgIC8qI19fUFVSRV9fKi8gU3lzdGVtTWVzc2FnZVByb21wdFRlbXBsYXRlLmZyb21UZW1wbGF0ZShjaGF0X3FhX3Byb21wdF90ZW1wbGF0ZSksXG4gICAgLyojX19QVVJFX18qLyBIdW1hbk1lc3NhZ2VQcm9tcHRUZW1wbGF0ZS5mcm9tVGVtcGxhdGUoXCJ7cXVlc3Rpb259XCIpLFxuXTtcbmV4cG9ydCBjb25zdCBDSEFUX1FVRVNUSU9OX1BST01QVCA9IFxuLyojX19QVVJFX18qLyBDaGF0UHJvbXB0VGVtcGxhdGUuZnJvbU1lc3NhZ2VzKGNoYXRfbWVzc2FnZXMpO1xuZXhwb3J0IGNvbnN0IFFVRVNUSU9OX1BST01QVF9TRUxFQ1RPUiA9IFxuLyojX19QVVJFX18qLyBuZXcgQ29uZGl0aW9uYWxQcm9tcHRTZWxlY3RvcihERUZBVUxUX1RFWFRfUUFfUFJPTVBULCBbXG4gICAgW2lzQ2hhdE1vZGVsLCBDSEFUX1FVRVNUSU9OX1BST01QVF0sXG5dKTtcbiJdLCJuYW1lcyI6WyJQcm9tcHRUZW1wbGF0ZSIsIkNoYXRQcm9tcHRUZW1wbGF0ZSIsIlN5c3RlbU1lc3NhZ2VQcm9tcHRUZW1wbGF0ZSIsIkh1bWFuTWVzc2FnZVByb21wdFRlbXBsYXRlIiwiQUlNZXNzYWdlUHJvbXB0VGVtcGxhdGUiLCJDb25kaXRpb25hbFByb21wdFNlbGVjdG9yIiwiaXNDaGF0TW9kZWwiLCJERUZBVUxUX1JFRklORV9QUk9NUFRfVE1QTCIsIkRFRkFVTFRfUkVGSU5FX1BST01QVCIsImlucHV0VmFyaWFibGVzIiwidGVtcGxhdGUiLCJyZWZpbmVUZW1wbGF0ZSIsIm1lc3NhZ2VzIiwiZnJvbVRlbXBsYXRlIiwiQ0hBVF9SRUZJTkVfUFJPTVBUIiwiZnJvbU1lc3NhZ2VzIiwiUkVGSU5FX1BST01QVF9TRUxFQ1RPUiIsIkRFRkFVTFRfVEVYVF9RQV9QUk9NUFRfVE1QTCIsIkRFRkFVTFRfVEVYVF9RQV9QUk9NUFQiLCJjaGF0X3FhX3Byb21wdF90ZW1wbGF0ZSIsImNoYXRfbWVzc2FnZXMiLCJDSEFUX1FVRVNUSU9OX1BST01QVCIsIlFVRVNUSU9OX1BST01QVF9TRUxFQ1RPUiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/langchain/dist/chains/question_answering/refine_prompts.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/langchain/dist/chains/question_answering/stuff_prompts.js":
/*!********************************************************************************!*\
  !*** ./node_modules/langchain/dist/chains/question_answering/stuff_prompts.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_QA_PROMPT: () => (/* binding */ DEFAULT_QA_PROMPT),\n/* harmony export */   QA_PROMPT_SELECTOR: () => (/* binding */ QA_PROMPT_SELECTOR)\n/* harmony export */ });\n/* harmony import */ var _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @langchain/core/prompts */ \"(rsc)/./node_modules/@langchain/core/prompts.js\");\n/* harmony import */ var _langchain_core_example_selectors__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @langchain/core/example_selectors */ \"(rsc)/./node_modules/@langchain/core/example_selectors.js\");\n/* eslint-disable spaced-comment */ \n\nconst DEFAULT_QA_PROMPT = /*#__PURE__*/ new _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_0__.PromptTemplate({\n    template: \"Use the following pieces of context to answer the question at the end. If you don't know the answer, just say that you don't know, don't try to make up an answer.\\n\\n{context}\\n\\nQuestion: {question}\\nHelpful Answer:\",\n    inputVariables: [\n        \"context\",\n        \"question\"\n    ]\n});\nconst system_template = `Use the following pieces of context to answer the users question. \nIf you don't know the answer, just say that you don't know, don't try to make up an answer.\n----------------\n{context}`;\nconst messages = [\n    /*#__PURE__*/ _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_0__.SystemMessagePromptTemplate.fromTemplate(system_template),\n    /*#__PURE__*/ _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_0__.HumanMessagePromptTemplate.fromTemplate(\"{question}\")\n];\nconst CHAT_PROMPT = /*#__PURE__*/ _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_0__.ChatPromptTemplate.fromMessages(messages);\nconst QA_PROMPT_SELECTOR = /*#__PURE__*/ new _langchain_core_example_selectors__WEBPACK_IMPORTED_MODULE_1__.ConditionalPromptSelector(DEFAULT_QA_PROMPT, [\n    [\n        _langchain_core_example_selectors__WEBPACK_IMPORTED_MODULE_1__.isChatModel,\n        CHAT_PROMPT\n    ]\n]);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvY2hhaW5zL3F1ZXN0aW9uX2Fuc3dlcmluZy9zdHVmZl9wcm9tcHRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxpQ0FBaUMsR0FDc0c7QUFDM0M7QUFDckYsTUFBTU0sb0JBQW9CLFdBQVcsR0FBRyxJQUFJSCxtRUFBY0EsQ0FBQztJQUM5REksVUFBVTtJQUNWQyxnQkFBZ0I7UUFBQztRQUFXO0tBQVc7QUFDM0MsR0FBRztBQUNILE1BQU1DLGtCQUFrQixDQUFDOzs7U0FHaEIsQ0FBQztBQUNWLE1BQU1DLFdBQVc7SUFDYixXQUFXLEdBQUdULGdGQUEyQkEsQ0FBQ1UsWUFBWSxDQUFDRjtJQUN2RCxXQUFXLEdBQUdQLCtFQUEwQkEsQ0FBQ1MsWUFBWSxDQUFDO0NBQ3pEO0FBQ0QsTUFBTUMsY0FBYyxXQUFXLEdBQUdaLHVFQUFrQkEsQ0FBQ2EsWUFBWSxDQUFDSDtBQUMzRCxNQUFNSSxxQkFBcUIsV0FBVyxHQUFHLElBQUlWLHdGQUF5QkEsQ0FBQ0UsbUJBQW1CO0lBQUM7UUFBQ0QsMEVBQVdBO1FBQUVPO0tBQVk7Q0FBQyxFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmV0dGVyLXRvZG8vLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvY2hhaW5zL3F1ZXN0aW9uX2Fuc3dlcmluZy9zdHVmZl9wcm9tcHRzLmpzPzk3OWUiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgc3BhY2VkLWNvbW1lbnQgKi9cbmltcG9ydCB7IENoYXRQcm9tcHRUZW1wbGF0ZSwgU3lzdGVtTWVzc2FnZVByb21wdFRlbXBsYXRlLCBIdW1hbk1lc3NhZ2VQcm9tcHRUZW1wbGF0ZSwgUHJvbXB0VGVtcGxhdGUsIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS9wcm9tcHRzXCI7XG5pbXBvcnQgeyBDb25kaXRpb25hbFByb21wdFNlbGVjdG9yLCBpc0NoYXRNb2RlbCwgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL2V4YW1wbGVfc2VsZWN0b3JzXCI7XG5leHBvcnQgY29uc3QgREVGQVVMVF9RQV9QUk9NUFQgPSAvKiNfX1BVUkVfXyovIG5ldyBQcm9tcHRUZW1wbGF0ZSh7XG4gICAgdGVtcGxhdGU6IFwiVXNlIHRoZSBmb2xsb3dpbmcgcGllY2VzIG9mIGNvbnRleHQgdG8gYW5zd2VyIHRoZSBxdWVzdGlvbiBhdCB0aGUgZW5kLiBJZiB5b3UgZG9uJ3Qga25vdyB0aGUgYW5zd2VyLCBqdXN0IHNheSB0aGF0IHlvdSBkb24ndCBrbm93LCBkb24ndCB0cnkgdG8gbWFrZSB1cCBhbiBhbnN3ZXIuXFxuXFxue2NvbnRleHR9XFxuXFxuUXVlc3Rpb246IHtxdWVzdGlvbn1cXG5IZWxwZnVsIEFuc3dlcjpcIixcbiAgICBpbnB1dFZhcmlhYmxlczogW1wiY29udGV4dFwiLCBcInF1ZXN0aW9uXCJdLFxufSk7XG5jb25zdCBzeXN0ZW1fdGVtcGxhdGUgPSBgVXNlIHRoZSBmb2xsb3dpbmcgcGllY2VzIG9mIGNvbnRleHQgdG8gYW5zd2VyIHRoZSB1c2VycyBxdWVzdGlvbi4gXG5JZiB5b3UgZG9uJ3Qga25vdyB0aGUgYW5zd2VyLCBqdXN0IHNheSB0aGF0IHlvdSBkb24ndCBrbm93LCBkb24ndCB0cnkgdG8gbWFrZSB1cCBhbiBhbnN3ZXIuXG4tLS0tLS0tLS0tLS0tLS0tXG57Y29udGV4dH1gO1xuY29uc3QgbWVzc2FnZXMgPSBbXG4gICAgLyojX19QVVJFX18qLyBTeXN0ZW1NZXNzYWdlUHJvbXB0VGVtcGxhdGUuZnJvbVRlbXBsYXRlKHN5c3RlbV90ZW1wbGF0ZSksXG4gICAgLyojX19QVVJFX18qLyBIdW1hbk1lc3NhZ2VQcm9tcHRUZW1wbGF0ZS5mcm9tVGVtcGxhdGUoXCJ7cXVlc3Rpb259XCIpLFxuXTtcbmNvbnN0IENIQVRfUFJPTVBUID0gLyojX19QVVJFX18qLyBDaGF0UHJvbXB0VGVtcGxhdGUuZnJvbU1lc3NhZ2VzKG1lc3NhZ2VzKTtcbmV4cG9ydCBjb25zdCBRQV9QUk9NUFRfU0VMRUNUT1IgPSAvKiNfX1BVUkVfXyovIG5ldyBDb25kaXRpb25hbFByb21wdFNlbGVjdG9yKERFRkFVTFRfUUFfUFJPTVBULCBbW2lzQ2hhdE1vZGVsLCBDSEFUX1BST01QVF1dKTtcbiJdLCJuYW1lcyI6WyJDaGF0UHJvbXB0VGVtcGxhdGUiLCJTeXN0ZW1NZXNzYWdlUHJvbXB0VGVtcGxhdGUiLCJIdW1hbk1lc3NhZ2VQcm9tcHRUZW1wbGF0ZSIsIlByb21wdFRlbXBsYXRlIiwiQ29uZGl0aW9uYWxQcm9tcHRTZWxlY3RvciIsImlzQ2hhdE1vZGVsIiwiREVGQVVMVF9RQV9QUk9NUFQiLCJ0ZW1wbGF0ZSIsImlucHV0VmFyaWFibGVzIiwic3lzdGVtX3RlbXBsYXRlIiwibWVzc2FnZXMiLCJmcm9tVGVtcGxhdGUiLCJDSEFUX1BST01QVCIsImZyb21NZXNzYWdlcyIsIlFBX1BST01QVF9TRUxFQ1RPUiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/langchain/dist/chains/question_answering/stuff_prompts.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/langchain/dist/chains/sequential_chain.js":
/*!****************************************************************!*\
  !*** ./node_modules/langchain/dist/chains/sequential_chain.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SequentialChain: () => (/* binding */ SequentialChain),\n/* harmony export */   SimpleSequentialChain: () => (/* binding */ SimpleSequentialChain)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"(rsc)/./node_modules/langchain/dist/chains/base.js\");\n/* harmony import */ var _util_set_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/set.js */ \"(rsc)/./node_modules/langchain/dist/util/set.js\");\n\n\nfunction formatSet(input) {\n    return Array.from(input).map((i)=>`\"${i}\"`).join(\", \");\n}\n/**\n * Chain where the outputs of one chain feed directly into next.\n * @example\n * ```typescript\n * const promptTemplate = new PromptTemplate({\n *   template: `You are a playwright. Given the title of play and the era it is set in, it is your job to write a synopsis for that title.\n * Title: {title}\n * Era: {era}\n * Playwright: This is a synopsis for the above play:`,\n *   inputVariables: [\"title\", \"era\"],\n * });\n\n * const reviewPromptTemplate = new PromptTemplate({\n *   template: `You are a play critic from the New York Times. Given the synopsis of play, it is your job to write a review for that play.\n *\n *     Play Synopsis:\n *     {synopsis}\n *     Review from a New York Times play critic of the above play:`,\n *   inputVariables: [\"synopsis\"],\n * });\n\n * const overallChain = new SequentialChain({\n *   chains: [\n *     new LLMChain({\n *       llm: new ChatOpenAI({ temperature: 0 }),\n *       prompt: promptTemplate,\n *       outputKey: \"synopsis\",\n *     }),\n *     new LLMChain({\n *       llm: new OpenAI({ temperature: 0 }),\n *       prompt: reviewPromptTemplate,\n *       outputKey: \"review\",\n *     }),\n *   ],\n *   inputVariables: [\"era\", \"title\"],\n *   outputVariables: [\"synopsis\", \"review\"],\n *   verbose: true,\n * });\n\n * const chainExecutionResult = await overallChain.call({\n *   title: \"Tragedy at sunset on the beach\",\n *   era: \"Victorian England\",\n * });\n * console.log(chainExecutionResult);\n * ```\n *\n * @deprecated\n * Switch to {@link https://js.langchain.com/docs/expression_language/ | expression language}.\n * Will be removed in 0.2.0\n */ class SequentialChain extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseChain {\n    static lc_name() {\n        return \"SequentialChain\";\n    }\n    get inputKeys() {\n        return this.inputVariables;\n    }\n    get outputKeys() {\n        return this.outputVariables;\n    }\n    constructor(fields){\n        super(fields);\n        Object.defineProperty(this, \"chains\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"inputVariables\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"outputVariables\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"returnAll\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.chains = fields.chains;\n        this.inputVariables = fields.inputVariables;\n        this.outputVariables = fields.outputVariables ?? [];\n        if (this.outputVariables.length > 0 && fields.returnAll) {\n            throw new Error(\"Either specify variables to return using `outputVariables` or use `returnAll` param. Cannot apply both conditions at the same time.\");\n        }\n        this.returnAll = fields.returnAll ?? false;\n        this._validateChains();\n    }\n    /** @ignore */ _validateChains() {\n        if (this.chains.length === 0) {\n            throw new Error(\"Sequential chain must have at least one chain.\");\n        }\n        const memoryKeys = this.memory?.memoryKeys ?? [];\n        const inputKeysSet = new Set(this.inputKeys);\n        const memoryKeysSet = new Set(memoryKeys);\n        const keysIntersection = (0,_util_set_js__WEBPACK_IMPORTED_MODULE_1__.intersection)(inputKeysSet, memoryKeysSet);\n        if (keysIntersection.size > 0) {\n            throw new Error(`The following keys: ${formatSet(keysIntersection)} are overlapping between memory and input keys of the chain variables. This can lead to unexpected behaviour. Please use input and memory keys that don't overlap.`);\n        }\n        const availableKeys = (0,_util_set_js__WEBPACK_IMPORTED_MODULE_1__.union)(inputKeysSet, memoryKeysSet);\n        for (const chain of this.chains){\n            let missingKeys = (0,_util_set_js__WEBPACK_IMPORTED_MODULE_1__.difference)(new Set(chain.inputKeys), availableKeys);\n            if (chain.memory) {\n                missingKeys = (0,_util_set_js__WEBPACK_IMPORTED_MODULE_1__.difference)(missingKeys, new Set(chain.memory.memoryKeys));\n            }\n            if (missingKeys.size > 0) {\n                throw new Error(`Missing variables for chain \"${chain._chainType()}\": ${formatSet(missingKeys)}. Only got the following variables: ${formatSet(availableKeys)}.`);\n            }\n            const outputKeysSet = new Set(chain.outputKeys);\n            const overlappingOutputKeys = (0,_util_set_js__WEBPACK_IMPORTED_MODULE_1__.intersection)(availableKeys, outputKeysSet);\n            if (overlappingOutputKeys.size > 0) {\n                throw new Error(`The following output variables for chain \"${chain._chainType()}\" are overlapping: ${formatSet(overlappingOutputKeys)}. This can lead to unexpected behaviour.`);\n            }\n            for (const outputKey of outputKeysSet){\n                availableKeys.add(outputKey);\n            }\n        }\n        if (this.outputVariables.length === 0) {\n            if (this.returnAll) {\n                const outputKeys = (0,_util_set_js__WEBPACK_IMPORTED_MODULE_1__.difference)(availableKeys, inputKeysSet);\n                this.outputVariables = Array.from(outputKeys);\n            } else {\n                this.outputVariables = this.chains[this.chains.length - 1].outputKeys;\n            }\n        } else {\n            const missingKeys = (0,_util_set_js__WEBPACK_IMPORTED_MODULE_1__.difference)(new Set(this.outputVariables), new Set(availableKeys));\n            if (missingKeys.size > 0) {\n                throw new Error(`The following output variables were expected to be in the final chain output but were not found: ${formatSet(missingKeys)}.`);\n            }\n        }\n    }\n    /** @ignore */ async _call(values, runManager) {\n        let input = {};\n        const allChainValues = values;\n        let i = 0;\n        for (const chain of this.chains){\n            i += 1;\n            input = await chain.call(allChainValues, runManager?.getChild(`step_${i}`));\n            for (const key of Object.keys(input)){\n                allChainValues[key] = input[key];\n            }\n        }\n        const output = {};\n        for (const key of this.outputVariables){\n            output[key] = allChainValues[key];\n        }\n        return output;\n    }\n    _chainType() {\n        return \"sequential_chain\";\n    }\n    static async deserialize(data) {\n        const chains = [];\n        const inputVariables = data.input_variables;\n        const outputVariables = data.output_variables;\n        const serializedChains = data.chains;\n        for (const serializedChain of serializedChains){\n            const deserializedChain = await _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseChain.deserialize(serializedChain);\n            chains.push(deserializedChain);\n        }\n        return new SequentialChain({\n            chains,\n            inputVariables,\n            outputVariables\n        });\n    }\n    serialize() {\n        const chains = [];\n        for (const chain of this.chains){\n            chains.push(chain.serialize());\n        }\n        return {\n            _type: this._chainType(),\n            input_variables: this.inputVariables,\n            output_variables: this.outputVariables,\n            chains\n        };\n    }\n}\n/**\n * @deprecated Switch to expression language: https://js.langchain.com/docs/expression_language/\n * Simple chain where a single string output of one chain is fed directly into the next.\n * @augments BaseChain\n * @augments SimpleSequentialChainInput\n *\n * @example\n * ```ts\n * import { SimpleSequentialChain, LLMChain } from \"langchain/chains\";\n * import { OpenAI } from \"langchain/llms/openai\";\n * import { PromptTemplate } from \"langchain/prompts\";\n *\n * // This is an LLMChain to write a synopsis given a title of a play.\n * const llm = new OpenAI({ temperature: 0 });\n * const template = `You are a playwright. Given the title of play, it is your job to write a synopsis for that title.\n *\n * Title: {title}\n * Playwright: This is a synopsis for the above play:`\n * const promptTemplate = new PromptTemplate({ template, inputVariables: [\"title\"] });\n * const synopsisChain = new LLMChain({ llm, prompt: promptTemplate });\n *\n *\n * // This is an LLMChain to write a review of a play given a synopsis.\n * const reviewLLM = new OpenAI({ temperature: 0 })\n * const reviewTemplate = `You are a play critic from the New York Times. Given the synopsis of play, it is your job to write a review for that play.\n *\n * Play Synopsis:\n * {synopsis}\n * Review from a New York Times play critic of the above play:`\n * const reviewPromptTemplate = new PromptTemplate({ template: reviewTemplate, inputVariables: [\"synopsis\"] });\n * const reviewChain = new LLMChain({ llm: reviewLLM, prompt: reviewPromptTemplate });\n *\n * const overallChain = new SimpleSequentialChain({chains: [synopsisChain, reviewChain], verbose:true})\n * const review = await overallChain.run(\"Tragedy at sunset on the beach\")\n * // the variable review contains resulting play review.\n * ```\n */ class SimpleSequentialChain extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseChain {\n    static lc_name() {\n        return \"SimpleSequentialChain\";\n    }\n    get inputKeys() {\n        return [\n            this.inputKey\n        ];\n    }\n    get outputKeys() {\n        return [\n            this.outputKey\n        ];\n    }\n    constructor(fields){\n        super(fields);\n        Object.defineProperty(this, \"chains\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"inputKey\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: \"input\"\n        });\n        Object.defineProperty(this, \"outputKey\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: \"output\"\n        });\n        Object.defineProperty(this, \"trimOutputs\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.chains = fields.chains;\n        this.trimOutputs = fields.trimOutputs ?? false;\n        this._validateChains();\n    }\n    /** @ignore */ _validateChains() {\n        for (const chain of this.chains){\n            if (chain.inputKeys.filter((k)=>!chain.memory?.memoryKeys.includes(k) ?? true).length !== 1) {\n                throw new Error(`Chains used in SimpleSequentialChain should all have one input, got ${chain.inputKeys.length} for ${chain._chainType()}.`);\n            }\n            if (chain.outputKeys.length !== 1) {\n                throw new Error(`Chains used in SimpleSequentialChain should all have one output, got ${chain.outputKeys.length} for ${chain._chainType()}.`);\n            }\n        }\n    }\n    /** @ignore */ async _call(values, runManager) {\n        let input = values[this.inputKey];\n        let i = 0;\n        for (const chain of this.chains){\n            i += 1;\n            input = (await chain.call({\n                [chain.inputKeys[0]]: input,\n                signal: values.signal\n            }, runManager?.getChild(`step_${i}`)))[chain.outputKeys[0]];\n            if (this.trimOutputs) {\n                input = input.trim();\n            }\n            await runManager?.handleText(input);\n        }\n        return {\n            [this.outputKey]: input\n        };\n    }\n    _chainType() {\n        return \"simple_sequential_chain\";\n    }\n    static async deserialize(data) {\n        const chains = [];\n        const serializedChains = data.chains;\n        for (const serializedChain of serializedChains){\n            const deserializedChain = await _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseChain.deserialize(serializedChain);\n            chains.push(deserializedChain);\n        }\n        return new SimpleSequentialChain({\n            chains\n        });\n    }\n    serialize() {\n        const chains = [];\n        for (const chain of this.chains){\n            chains.push(chain.serialize());\n        }\n        return {\n            _type: this._chainType(),\n            chains\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvY2hhaW5zL3NlcXVlbnRpYWxfY2hhaW4uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFzQztBQUMyQjtBQUNqRSxTQUFTSSxVQUFVQyxLQUFLO0lBQ3BCLE9BQU9DLE1BQU1DLElBQUksQ0FBQ0YsT0FDYkcsR0FBRyxDQUFDLENBQUNDLElBQU0sQ0FBQyxDQUFDLEVBQUVBLEVBQUUsQ0FBQyxDQUFDLEVBQ25CQyxJQUFJLENBQUM7QUFDZDtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0NBaURDLEdBQ00sTUFBTUMsd0JBQXdCWCwrQ0FBU0E7SUFDMUMsT0FBT1ksVUFBVTtRQUNiLE9BQU87SUFDWDtJQUNBLElBQUlDLFlBQVk7UUFDWixPQUFPLElBQUksQ0FBQ0MsY0FBYztJQUM5QjtJQUNBLElBQUlDLGFBQWE7UUFDYixPQUFPLElBQUksQ0FBQ0MsZUFBZTtJQUMvQjtJQUNBQyxZQUFZQyxNQUFNLENBQUU7UUFDaEIsS0FBSyxDQUFDQTtRQUNOQyxPQUFPQyxjQUFjLENBQUMsSUFBSSxFQUFFLFVBQVU7WUFDbENDLFlBQVk7WUFDWkMsY0FBYztZQUNkQyxVQUFVO1lBQ1ZDLE9BQU8sS0FBSztRQUNoQjtRQUNBTCxPQUFPQyxjQUFjLENBQUMsSUFBSSxFQUFFLGtCQUFrQjtZQUMxQ0MsWUFBWTtZQUNaQyxjQUFjO1lBQ2RDLFVBQVU7WUFDVkMsT0FBTyxLQUFLO1FBQ2hCO1FBQ0FMLE9BQU9DLGNBQWMsQ0FBQyxJQUFJLEVBQUUsbUJBQW1CO1lBQzNDQyxZQUFZO1lBQ1pDLGNBQWM7WUFDZEMsVUFBVTtZQUNWQyxPQUFPLEtBQUs7UUFDaEI7UUFDQUwsT0FBT0MsY0FBYyxDQUFDLElBQUksRUFBRSxhQUFhO1lBQ3JDQyxZQUFZO1lBQ1pDLGNBQWM7WUFDZEMsVUFBVTtZQUNWQyxPQUFPLEtBQUs7UUFDaEI7UUFDQSxJQUFJLENBQUNDLE1BQU0sR0FB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N0QsUUFBUUEsTUFBTWtFLElBQUk7WUFDdEI7WUFDQSxNQUFNeEIsWUFBWXlCLFdBQVduRTtRQUNqQztRQUNBLE9BQU87WUFBRSxDQUFDLElBQUksQ0FBQ3NDLFNBQVMsQ0FBQyxFQUFFdEM7UUFBTTtJQUNyQztJQUNBbUMsYUFBYTtRQUNULE9BQU87SUFDWDtJQUNBLGFBQWFjLFlBQVlDLElBQUksRUFBRTtRQUMzQixNQUFNOUIsU0FBUyxFQUFFO1FBQ2pCLE1BQU1pQyxtQkFBbUJILEtBQUs5QixNQUFNO1FBQ3BDLEtBQUssTUFBTWtDLG1CQUFtQkQsaUJBQWtCO1lBQzVDLE1BQU1FLG9CQUFvQixNQUFNNUQsK0NBQVNBLENBQUNzRCxXQUFXLENBQUNLO1lBQ3REbEMsT0FBT29DLElBQUksQ0FBQ0Q7UUFDaEI7UUFDQSxPQUFPLElBQUlJLHNCQUFzQjtZQUFFdkM7UUFBTztJQUM5QztJQUNBcUMsWUFBWTtRQUNSLE1BQU1yQyxTQUFTLEVBQUU7UUFDakIsS0FBSyxNQUFNYSxTQUFTLElBQUksQ0FBQ2IsTUFBTSxDQUFFO1lBQzdCQSxPQUFPb0MsSUFBSSxDQUFDdkIsTUFBTXdCLFNBQVM7UUFDL0I7UUFDQSxPQUFPO1lBQ0hDLE9BQU8sSUFBSSxDQUFDdkIsVUFBVTtZQUN0QmY7UUFDSjtJQUNKO0FBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iZXR0ZXItdG9kby8uL25vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC9jaGFpbnMvc2VxdWVudGlhbF9jaGFpbi5qcz9jZjNmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJhc2VDaGFpbiB9IGZyb20gXCIuL2Jhc2UuanNcIjtcbmltcG9ydCB7IGludGVyc2VjdGlvbiwgdW5pb24sIGRpZmZlcmVuY2UgfSBmcm9tIFwiLi4vdXRpbC9zZXQuanNcIjtcbmZ1bmN0aW9uIGZvcm1hdFNldChpbnB1dCkge1xuICAgIHJldHVybiBBcnJheS5mcm9tKGlucHV0KVxuICAgICAgICAubWFwKChpKSA9PiBgXCIke2l9XCJgKVxuICAgICAgICAuam9pbihcIiwgXCIpO1xufVxuLyoqXG4gKiBDaGFpbiB3aGVyZSB0aGUgb3V0cHV0cyBvZiBvbmUgY2hhaW4gZmVlZCBkaXJlY3RseSBpbnRvIG5leHQuXG4gKiBAZXhhbXBsZVxuICogYGBgdHlwZXNjcmlwdFxuICogY29uc3QgcHJvbXB0VGVtcGxhdGUgPSBuZXcgUHJvbXB0VGVtcGxhdGUoe1xuICogICB0ZW1wbGF0ZTogYFlvdSBhcmUgYSBwbGF5d3JpZ2h0LiBHaXZlbiB0aGUgdGl0bGUgb2YgcGxheSBhbmQgdGhlIGVyYSBpdCBpcyBzZXQgaW4sIGl0IGlzIHlvdXIgam9iIHRvIHdyaXRlIGEgc3lub3BzaXMgZm9yIHRoYXQgdGl0bGUuXG4gKiBUaXRsZToge3RpdGxlfVxuICogRXJhOiB7ZXJhfVxuICogUGxheXdyaWdodDogVGhpcyBpcyBhIHN5bm9wc2lzIGZvciB0aGUgYWJvdmUgcGxheTpgLFxuICogICBpbnB1dFZhcmlhYmxlczogW1widGl0bGVcIiwgXCJlcmFcIl0sXG4gKiB9KTtcblxuICogY29uc3QgcmV2aWV3UHJvbXB0VGVtcGxhdGUgPSBuZXcgUHJvbXB0VGVtcGxhdGUoe1xuICogICB0ZW1wbGF0ZTogYFlvdSBhcmUgYSBwbGF5IGNyaXRpYyBmcm9tIHRoZSBOZXcgWW9yayBUaW1lcy4gR2l2ZW4gdGhlIHN5bm9wc2lzIG9mIHBsYXksIGl0IGlzIHlvdXIgam9iIHRvIHdyaXRlIGEgcmV2aWV3IGZvciB0aGF0IHBsYXkuXG4gKlxuICogICAgIFBsYXkgU3lub3BzaXM6XG4gKiAgICAge3N5bm9wc2lzfVxuICogICAgIFJldmlldyBmcm9tIGEgTmV3IFlvcmsgVGltZXMgcGxheSBjcml0aWMgb2YgdGhlIGFib3ZlIHBsYXk6YCxcbiAqICAgaW5wdXRWYXJpYWJsZXM6IFtcInN5bm9wc2lzXCJdLFxuICogfSk7XG5cbiAqIGNvbnN0IG92ZXJhbGxDaGFpbiA9IG5ldyBTZXF1ZW50aWFsQ2hhaW4oe1xuICogICBjaGFpbnM6IFtcbiAqICAgICBuZXcgTExNQ2hhaW4oe1xuICogICAgICAgbGxtOiBuZXcgQ2hhdE9wZW5BSSh7IHRlbXBlcmF0dXJlOiAwIH0pLFxuICogICAgICAgcHJvbXB0OiBwcm9tcHRUZW1wbGF0ZSxcbiAqICAgICAgIG91dHB1dEtleTogXCJzeW5vcHNpc1wiLFxuICogICAgIH0pLFxuICogICAgIG5ldyBMTE1DaGFpbih7XG4gKiAgICAgICBsbG06IG5ldyBPcGVuQUkoeyB0ZW1wZXJhdHVyZTogMCB9KSxcbiAqICAgICAgIHByb21wdDogcmV2aWV3UHJvbXB0VGVtcGxhdGUsXG4gKiAgICAgICBvdXRwdXRLZXk6IFwicmV2aWV3XCIsXG4gKiAgICAgfSksXG4gKiAgIF0sXG4gKiAgIGlucHV0VmFyaWFibGVzOiBbXCJlcmFcIiwgXCJ0aXRsZVwiXSxcbiAqICAgb3V0cHV0VmFyaWFibGVzOiBbXCJzeW5vcHNpc1wiLCBcInJldmlld1wiXSxcbiAqICAgdmVyYm9zZTogdHJ1ZSxcbiAqIH0pO1xuXG4gKiBjb25zdCBjaGFpbkV4ZWN1dGlvblJlc3VsdCA9IGF3YWl0IG92ZXJhbGxDaGFpbi5jYWxsKHtcbiAqICAgdGl0bGU6IFwiVHJhZ2VkeSBhdCBzdW5zZXQgb24gdGhlIGJlYWNoXCIsXG4gKiAgIGVyYTogXCJWaWN0b3JpYW4gRW5nbGFuZFwiLFxuICogfSk7XG4gKiBjb25zb2xlLmxvZyhjaGFpbkV4ZWN1dGlvblJlc3VsdCk7XG4gKiBgYGBcbiAqXG4gKiBAZGVwcmVjYXRlZFxuICogU3dpdGNoIHRvIHtAbGluayBodHRwczovL2pzLmxhbmdjaGFpbi5jb20vZG9jcy9leHByZXNzaW9uX2xhbmd1YWdlLyB8IGV4cHJlc3Npb24gbGFuZ3VhZ2V9LlxuICogV2lsbCBiZSByZW1vdmVkIGluIDAuMi4wXG4gKi9cbmV4cG9ydCBjbGFzcyBTZXF1ZW50aWFsQ2hhaW4gZXh0ZW5kcyBCYXNlQ2hhaW4ge1xuICAgIHN0YXRpYyBsY19uYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJTZXF1ZW50aWFsQ2hhaW5cIjtcbiAgICB9XG4gICAgZ2V0IGlucHV0S2V5cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5wdXRWYXJpYWJsZXM7XG4gICAgfVxuICAgIGdldCBvdXRwdXRLZXlzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vdXRwdXRWYXJpYWJsZXM7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGZpZWxkcykge1xuICAgICAgICBzdXBlcihmaWVsZHMpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJjaGFpbnNcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiaW5wdXRWYXJpYWJsZXNcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwib3V0cHV0VmFyaWFibGVzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJldHVybkFsbFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmNoYWlucyA9IGZpZWxkcy5jaGFpbnM7XG4gICAgICAgIHRoaXMuaW5wdXRWYXJpYWJsZXMgPSBmaWVsZHMuaW5wdXRWYXJpYWJsZXM7XG4gICAgICAgIHRoaXMub3V0cHV0VmFyaWFibGVzID0gZmllbGRzLm91dHB1dFZhcmlhYmxlcyA/PyBbXTtcbiAgICAgICAgaWYgKHRoaXMub3V0cHV0VmFyaWFibGVzLmxlbmd0aCA+IDAgJiYgZmllbGRzLnJldHVybkFsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRWl0aGVyIHNwZWNpZnkgdmFyaWFibGVzIHRvIHJldHVybiB1c2luZyBgb3V0cHV0VmFyaWFibGVzYCBvciB1c2UgYHJldHVybkFsbGAgcGFyYW0uIENhbm5vdCBhcHBseSBib3RoIGNvbmRpdGlvbnMgYXQgdGhlIHNhbWUgdGltZS5cIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZXR1cm5BbGwgPSBmaWVsZHMucmV0dXJuQWxsID8/IGZhbHNlO1xuICAgICAgICB0aGlzLl92YWxpZGF0ZUNoYWlucygpO1xuICAgIH1cbiAgICAvKiogQGlnbm9yZSAqL1xuICAgIF92YWxpZGF0ZUNoYWlucygpIHtcbiAgICAgICAgaWYgKHRoaXMuY2hhaW5zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU2VxdWVudGlhbCBjaGFpbiBtdXN0IGhhdmUgYXQgbGVhc3Qgb25lIGNoYWluLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtZW1vcnlLZXlzID0gdGhpcy5tZW1vcnk/Lm1lbW9yeUtleXMgPz8gW107XG4gICAgICAgIGNvbnN0IGlucHV0S2V5c1NldCA9IG5ldyBTZXQodGhpcy5pbnB1dEtleXMpO1xuICAgICAgICBjb25zdCBtZW1vcnlLZXlzU2V0ID0gbmV3IFNldChtZW1vcnlLZXlzKTtcbiAgICAgICAgY29uc3Qga2V5c0ludGVyc2VjdGlvbiA9IGludGVyc2VjdGlvbihpbnB1dEtleXNTZXQsIG1lbW9yeUtleXNTZXQpO1xuICAgICAgICBpZiAoa2V5c0ludGVyc2VjdGlvbi5zaXplID4gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUaGUgZm9sbG93aW5nIGtleXM6ICR7Zm9ybWF0U2V0KGtleXNJbnRlcnNlY3Rpb24pfSBhcmUgb3ZlcmxhcHBpbmcgYmV0d2VlbiBtZW1vcnkgYW5kIGlucHV0IGtleXMgb2YgdGhlIGNoYWluIHZhcmlhYmxlcy4gVGhpcyBjYW4gbGVhZCB0byB1bmV4cGVjdGVkIGJlaGF2aW91ci4gUGxlYXNlIHVzZSBpbnB1dCBhbmQgbWVtb3J5IGtleXMgdGhhdCBkb24ndCBvdmVybGFwLmApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGF2YWlsYWJsZUtleXMgPSB1bmlvbihpbnB1dEtleXNTZXQsIG1lbW9yeUtleXNTZXQpO1xuICAgICAgICBmb3IgKGNvbnN0IGNoYWluIG9mIHRoaXMuY2hhaW5zKSB7XG4gICAgICAgICAgICBsZXQgbWlzc2luZ0tleXMgPSBkaWZmZXJlbmNlKG5ldyBTZXQoY2hhaW4uaW5wdXRLZXlzKSwgYXZhaWxhYmxlS2V5cyk7XG4gICAgICAgICAgICBpZiAoY2hhaW4ubWVtb3J5KSB7XG4gICAgICAgICAgICAgICAgbWlzc2luZ0tleXMgPSBkaWZmZXJlbmNlKG1pc3NpbmdLZXlzLCBuZXcgU2V0KGNoYWluLm1lbW9yeS5tZW1vcnlLZXlzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobWlzc2luZ0tleXMuc2l6ZSA+IDApIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE1pc3NpbmcgdmFyaWFibGVzIGZvciBjaGFpbiBcIiR7Y2hhaW4uX2NoYWluVHlwZSgpfVwiOiAke2Zvcm1hdFNldChtaXNzaW5nS2V5cyl9LiBPbmx5IGdvdCB0aGUgZm9sbG93aW5nIHZhcmlhYmxlczogJHtmb3JtYXRTZXQoYXZhaWxhYmxlS2V5cyl9LmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgb3V0cHV0S2V5c1NldCA9IG5ldyBTZXQoY2hhaW4ub3V0cHV0S2V5cyk7XG4gICAgICAgICAgICBjb25zdCBvdmVybGFwcGluZ091dHB1dEtleXMgPSBpbnRlcnNlY3Rpb24oYXZhaWxhYmxlS2V5cywgb3V0cHV0S2V5c1NldCk7XG4gICAgICAgICAgICBpZiAob3ZlcmxhcHBpbmdPdXRwdXRLZXlzLnNpemUgPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUaGUgZm9sbG93aW5nIG91dHB1dCB2YXJpYWJsZXMgZm9yIGNoYWluIFwiJHtjaGFpbi5fY2hhaW5UeXBlKCl9XCIgYXJlIG92ZXJsYXBwaW5nOiAke2Zvcm1hdFNldChvdmVybGFwcGluZ091dHB1dEtleXMpfS4gVGhpcyBjYW4gbGVhZCB0byB1bmV4cGVjdGVkIGJlaGF2aW91ci5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3Qgb3V0cHV0S2V5IG9mIG91dHB1dEtleXNTZXQpIHtcbiAgICAgICAgICAgICAgICBhdmFpbGFibGVLZXlzLmFkZChvdXRwdXRLZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm91dHB1dFZhcmlhYmxlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnJldHVybkFsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG91dHB1dEtleXMgPSBkaWZmZXJlbmNlKGF2YWlsYWJsZUtleXMsIGlucHV0S2V5c1NldCk7XG4gICAgICAgICAgICAgICAgdGhpcy5vdXRwdXRWYXJpYWJsZXMgPSBBcnJheS5mcm9tKG91dHB1dEtleXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vdXRwdXRWYXJpYWJsZXMgPSB0aGlzLmNoYWluc1t0aGlzLmNoYWlucy5sZW5ndGggLSAxXS5vdXRwdXRLZXlzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgbWlzc2luZ0tleXMgPSBkaWZmZXJlbmNlKG5ldyBTZXQodGhpcy5vdXRwdXRWYXJpYWJsZXMpLCBuZXcgU2V0KGF2YWlsYWJsZUtleXMpKTtcbiAgICAgICAgICAgIGlmIChtaXNzaW5nS2V5cy5zaXplID4gMCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVGhlIGZvbGxvd2luZyBvdXRwdXQgdmFyaWFibGVzIHdlcmUgZXhwZWN0ZWQgdG8gYmUgaW4gdGhlIGZpbmFsIGNoYWluIG91dHB1dCBidXQgd2VyZSBub3QgZm91bmQ6ICR7Zm9ybWF0U2V0KG1pc3NpbmdLZXlzKX0uYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqIEBpZ25vcmUgKi9cbiAgICBhc3luYyBfY2FsbCh2YWx1ZXMsIHJ1bk1hbmFnZXIpIHtcbiAgICAgICAgbGV0IGlucHV0ID0ge307XG4gICAgICAgIGNvbnN0IGFsbENoYWluVmFsdWVzID0gdmFsdWVzO1xuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIGZvciAoY29uc3QgY2hhaW4gb2YgdGhpcy5jaGFpbnMpIHtcbiAgICAgICAgICAgIGkgKz0gMTtcbiAgICAgICAgICAgIGlucHV0ID0gYXdhaXQgY2hhaW4uY2FsbChhbGxDaGFpblZhbHVlcywgcnVuTWFuYWdlcj8uZ2V0Q2hpbGQoYHN0ZXBfJHtpfWApKTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKGlucHV0KSkge1xuICAgICAgICAgICAgICAgIGFsbENoYWluVmFsdWVzW2tleV0gPSBpbnB1dFtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG91dHB1dCA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiB0aGlzLm91dHB1dFZhcmlhYmxlcykge1xuICAgICAgICAgICAgb3V0cHV0W2tleV0gPSBhbGxDaGFpblZhbHVlc1trZXldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfVxuICAgIF9jaGFpblR5cGUoKSB7XG4gICAgICAgIHJldHVybiBcInNlcXVlbnRpYWxfY2hhaW5cIjtcbiAgICB9XG4gICAgc3RhdGljIGFzeW5jIGRlc2VyaWFsaXplKGRhdGEpIHtcbiAgICAgICAgY29uc3QgY2hhaW5zID0gW107XG4gICAgICAgIGNvbnN0IGlucHV0VmFyaWFibGVzID0gZGF0YS5pbnB1dF92YXJpYWJsZXM7XG4gICAgICAgIGNvbnN0IG91dHB1dFZhcmlhYmxlcyA9IGRhdGEub3V0cHV0X3ZhcmlhYmxlcztcbiAgICAgICAgY29uc3Qgc2VyaWFsaXplZENoYWlucyA9IGRhdGEuY2hhaW5zO1xuICAgICAgICBmb3IgKGNvbnN0IHNlcmlhbGl6ZWRDaGFpbiBvZiBzZXJpYWxpemVkQ2hhaW5zKSB7XG4gICAgICAgICAgICBjb25zdCBkZXNlcmlhbGl6ZWRDaGFpbiA9IGF3YWl0IEJhc2VDaGFpbi5kZXNlcmlhbGl6ZShzZXJpYWxpemVkQ2hhaW4pO1xuICAgICAgICAgICAgY2hhaW5zLnB1c2goZGVzZXJpYWxpemVkQ2hhaW4pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgU2VxdWVudGlhbENoYWluKHsgY2hhaW5zLCBpbnB1dFZhcmlhYmxlcywgb3V0cHV0VmFyaWFibGVzIH0pO1xuICAgIH1cbiAgICBzZXJpYWxpemUoKSB7XG4gICAgICAgIGNvbnN0IGNoYWlucyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IGNoYWluIG9mIHRoaXMuY2hhaW5zKSB7XG4gICAgICAgICAgICBjaGFpbnMucHVzaChjaGFpbi5zZXJpYWxpemUoKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIF90eXBlOiB0aGlzLl9jaGFpblR5cGUoKSxcbiAgICAgICAgICAgIGlucHV0X3ZhcmlhYmxlczogdGhpcy5pbnB1dFZhcmlhYmxlcyxcbiAgICAgICAgICAgIG91dHB1dF92YXJpYWJsZXM6IHRoaXMub3V0cHV0VmFyaWFibGVzLFxuICAgICAgICAgICAgY2hhaW5zLFxuICAgICAgICB9O1xuICAgIH1cbn1cbi8qKlxuICogQGRlcHJlY2F0ZWQgU3dpdGNoIHRvIGV4cHJlc3Npb24gbGFuZ3VhZ2U6IGh0dHBzOi8vanMubGFuZ2NoYWluLmNvbS9kb2NzL2V4cHJlc3Npb25fbGFuZ3VhZ2UvXG4gKiBTaW1wbGUgY2hhaW4gd2hlcmUgYSBzaW5nbGUgc3RyaW5nIG91dHB1dCBvZiBvbmUgY2hhaW4gaXMgZmVkIGRpcmVjdGx5IGludG8gdGhlIG5leHQuXG4gKiBAYXVnbWVudHMgQmFzZUNoYWluXG4gKiBAYXVnbWVudHMgU2ltcGxlU2VxdWVudGlhbENoYWluSW5wdXRcbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgdHNcbiAqIGltcG9ydCB7IFNpbXBsZVNlcXVlbnRpYWxDaGFpbiwgTExNQ2hhaW4gfSBmcm9tIFwibGFuZ2NoYWluL2NoYWluc1wiO1xuICogaW1wb3J0IHsgT3BlbkFJIH0gZnJvbSBcImxhbmdjaGFpbi9sbG1zL29wZW5haVwiO1xuICogaW1wb3J0IHsgUHJvbXB0VGVtcGxhdGUgfSBmcm9tIFwibGFuZ2NoYWluL3Byb21wdHNcIjtcbiAqXG4gKiAvLyBUaGlzIGlzIGFuIExMTUNoYWluIHRvIHdyaXRlIGEgc3lub3BzaXMgZ2l2ZW4gYSB0aXRsZSBvZiBhIHBsYXkuXG4gKiBjb25zdCBsbG0gPSBuZXcgT3BlbkFJKHsgdGVtcGVyYXR1cmU6IDAgfSk7XG4gKiBjb25zdCB0ZW1wbGF0ZSA9IGBZb3UgYXJlIGEgcGxheXdyaWdodC4gR2l2ZW4gdGhlIHRpdGxlIG9mIHBsYXksIGl0IGlzIHlvdXIgam9iIHRvIHdyaXRlIGEgc3lub3BzaXMgZm9yIHRoYXQgdGl0bGUuXG4gKlxuICogVGl0bGU6IHt0aXRsZX1cbiAqIFBsYXl3cmlnaHQ6IFRoaXMgaXMgYSBzeW5vcHNpcyBmb3IgdGhlIGFib3ZlIHBsYXk6YFxuICogY29uc3QgcHJvbXB0VGVtcGxhdGUgPSBuZXcgUHJvbXB0VGVtcGxhdGUoeyB0ZW1wbGF0ZSwgaW5wdXRWYXJpYWJsZXM6IFtcInRpdGxlXCJdIH0pO1xuICogY29uc3Qgc3lub3BzaXNDaGFpbiA9IG5ldyBMTE1DaGFpbih7IGxsbSwgcHJvbXB0OiBwcm9tcHRUZW1wbGF0ZSB9KTtcbiAqXG4gKlxuICogLy8gVGhpcyBpcyBhbiBMTE1DaGFpbiB0byB3cml0ZSBhIHJldmlldyBvZiBhIHBsYXkgZ2l2ZW4gYSBzeW5vcHNpcy5cbiAqIGNvbnN0IHJldmlld0xMTSA9IG5ldyBPcGVuQUkoeyB0ZW1wZXJhdHVyZTogMCB9KVxuICogY29uc3QgcmV2aWV3VGVtcGxhdGUgPSBgWW91IGFyZSBhIHBsYXkgY3JpdGljIGZyb20gdGhlIE5ldyBZb3JrIFRpbWVzLiBHaXZlbiB0aGUgc3lub3BzaXMgb2YgcGxheSwgaXQgaXMgeW91ciBqb2IgdG8gd3JpdGUgYSByZXZpZXcgZm9yIHRoYXQgcGxheS5cbiAqXG4gKiBQbGF5IFN5bm9wc2lzOlxuICoge3N5bm9wc2lzfVxuICogUmV2aWV3IGZyb20gYSBOZXcgWW9yayBUaW1lcyBwbGF5IGNyaXRpYyBvZiB0aGUgYWJvdmUgcGxheTpgXG4gKiBjb25zdCByZXZpZXdQcm9tcHRUZW1wbGF0ZSA9IG5ldyBQcm9tcHRUZW1wbGF0ZSh7IHRlbXBsYXRlOiByZXZpZXdUZW1wbGF0ZSwgaW5wdXRWYXJpYWJsZXM6IFtcInN5bm9wc2lzXCJdIH0pO1xuICogY29uc3QgcmV2aWV3Q2hhaW4gPSBuZXcgTExNQ2hhaW4oeyBsbG06IHJldmlld0xMTSwgcHJvbXB0OiByZXZpZXdQcm9tcHRUZW1wbGF0ZSB9KTtcbiAqXG4gKiBjb25zdCBvdmVyYWxsQ2hhaW4gPSBuZXcgU2ltcGxlU2VxdWVudGlhbENoYWluKHtjaGFpbnM6IFtzeW5vcHNpc0NoYWluLCByZXZpZXdDaGFpbl0sIHZlcmJvc2U6dHJ1ZX0pXG4gKiBjb25zdCByZXZpZXcgPSBhd2FpdCBvdmVyYWxsQ2hhaW4ucnVuKFwiVHJhZ2VkeSBhdCBzdW5zZXQgb24gdGhlIGJlYWNoXCIpXG4gKiAvLyB0aGUgdmFyaWFibGUgcmV2aWV3IGNvbnRhaW5zIHJlc3VsdGluZyBwbGF5IHJldmlldy5cbiAqIGBgYFxuICovXG5leHBvcnQgY2xhc3MgU2ltcGxlU2VxdWVudGlhbENoYWluIGV4dGVuZHMgQmFzZUNoYWluIHtcbiAgICBzdGF0aWMgbGNfbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiU2ltcGxlU2VxdWVudGlhbENoYWluXCI7XG4gICAgfVxuICAgIGdldCBpbnB1dEtleXMoKSB7XG4gICAgICAgIHJldHVybiBbdGhpcy5pbnB1dEtleV07XG4gICAgfVxuICAgIGdldCBvdXRwdXRLZXlzKCkge1xuICAgICAgICByZXR1cm4gW3RoaXMub3V0cHV0S2V5XTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoZmllbGRzKSB7XG4gICAgICAgIHN1cGVyKGZpZWxkcyk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNoYWluc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJpbnB1dEtleVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogXCJpbnB1dFwiXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJvdXRwdXRLZXlcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFwib3V0cHV0XCJcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRyaW1PdXRwdXRzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY2hhaW5zID0gZmllbGRzLmNoYWlucztcbiAgICAgICAgdGhpcy50cmltT3V0cHV0cyA9IGZpZWxkcy50cmltT3V0cHV0cyA/PyBmYWxzZTtcbiAgICAgICAgdGhpcy5fdmFsaWRhdGVDaGFpbnMoKTtcbiAgICB9XG4gICAgLyoqIEBpZ25vcmUgKi9cbiAgICBfdmFsaWRhdGVDaGFpbnMoKSB7XG4gICAgICAgIGZvciAoY29uc3QgY2hhaW4gb2YgdGhpcy5jaGFpbnMpIHtcbiAgICAgICAgICAgIGlmIChjaGFpbi5pbnB1dEtleXMuZmlsdGVyKChrKSA9PiAhY2hhaW4ubWVtb3J5Py5tZW1vcnlLZXlzLmluY2x1ZGVzKGspID8/IHRydWUpLmxlbmd0aCAhPT0gMSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2hhaW5zIHVzZWQgaW4gU2ltcGxlU2VxdWVudGlhbENoYWluIHNob3VsZCBhbGwgaGF2ZSBvbmUgaW5wdXQsIGdvdCAke2NoYWluLmlucHV0S2V5cy5sZW5ndGh9IGZvciAke2NoYWluLl9jaGFpblR5cGUoKX0uYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2hhaW4ub3V0cHV0S2V5cy5sZW5ndGggIT09IDEpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENoYWlucyB1c2VkIGluIFNpbXBsZVNlcXVlbnRpYWxDaGFpbiBzaG91bGQgYWxsIGhhdmUgb25lIG91dHB1dCwgZ290ICR7Y2hhaW4ub3V0cHV0S2V5cy5sZW5ndGh9IGZvciAke2NoYWluLl9jaGFpblR5cGUoKX0uYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqIEBpZ25vcmUgKi9cbiAgICBhc3luYyBfY2FsbCh2YWx1ZXMsIHJ1bk1hbmFnZXIpIHtcbiAgICAgICAgbGV0IGlucHV0ID0gdmFsdWVzW3RoaXMuaW5wdXRLZXldO1xuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIGZvciAoY29uc3QgY2hhaW4gb2YgdGhpcy5jaGFpbnMpIHtcbiAgICAgICAgICAgIGkgKz0gMTtcbiAgICAgICAgICAgIGlucHV0ID0gKGF3YWl0IGNoYWluLmNhbGwoeyBbY2hhaW4uaW5wdXRLZXlzWzBdXTogaW5wdXQsIHNpZ25hbDogdmFsdWVzLnNpZ25hbCB9LCBydW5NYW5hZ2VyPy5nZXRDaGlsZChgc3RlcF8ke2l9YCkpKVtjaGFpbi5vdXRwdXRLZXlzWzBdXTtcbiAgICAgICAgICAgIGlmICh0aGlzLnRyaW1PdXRwdXRzKSB7XG4gICAgICAgICAgICAgICAgaW5wdXQgPSBpbnB1dC50cmltKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhd2FpdCBydW5NYW5hZ2VyPy5oYW5kbGVUZXh0KGlucHV0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBbdGhpcy5vdXRwdXRLZXldOiBpbnB1dCB9O1xuICAgIH1cbiAgICBfY2hhaW5UeXBlKCkge1xuICAgICAgICByZXR1cm4gXCJzaW1wbGVfc2VxdWVudGlhbF9jaGFpblwiO1xuICAgIH1cbiAgICBzdGF0aWMgYXN5bmMgZGVzZXJpYWxpemUoZGF0YSkge1xuICAgICAgICBjb25zdCBjaGFpbnMgPSBbXTtcbiAgICAgICAgY29uc3Qgc2VyaWFsaXplZENoYWlucyA9IGRhdGEuY2hhaW5zO1xuICAgICAgICBmb3IgKGNvbnN0IHNlcmlhbGl6ZWRDaGFpbiBvZiBzZXJpYWxpemVkQ2hhaW5zKSB7XG4gICAgICAgICAgICBjb25zdCBkZXNlcmlhbGl6ZWRDaGFpbiA9IGF3YWl0IEJhc2VDaGFpbi5kZXNlcmlhbGl6ZShzZXJpYWxpemVkQ2hhaW4pO1xuICAgICAgICAgICAgY2hhaW5zLnB1c2goZGVzZXJpYWxpemVkQ2hhaW4pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgU2ltcGxlU2VxdWVudGlhbENoYWluKHsgY2hhaW5zIH0pO1xuICAgIH1cbiAgICBzZXJpYWxpemUoKSB7XG4gICAgICAgIGNvbnN0IGNoYWlucyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IGNoYWluIG9mIHRoaXMuY2hhaW5zKSB7XG4gICAgICAgICAgICBjaGFpbnMucHVzaChjaGFpbi5zZXJpYWxpemUoKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIF90eXBlOiB0aGlzLl9jaGFpblR5cGUoKSxcbiAgICAgICAgICAgIGNoYWlucyxcbiAgICAgICAgfTtcbiAgICB9XG59XG4iXSwibmFtZXMiOlsiQmFzZUNoYWluIiwiaW50ZXJzZWN0aW9uIiwidW5pb24iLCJkaWZmZXJlbmNlIiwiZm9ybWF0U2V0IiwiaW5wdXQiLCJBcnJheSIsImZyb20iLCJtYXAiLCJpIiwiam9pbiIsIlNlcXVlbnRpYWxDaGFpbiIsImxjX25hbWUiLCJpbnB1dEtleXMiLCJpbnB1dFZhcmlhYmxlcyIsIm91dHB1dEtleXMiLCJvdXRwdXRWYXJpYWJsZXMiLCJjb25zdHJ1Y3RvciIsImZpZWxkcyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwidmFsdWUiLCJjaGFpbnMiLCJsZW5ndGgiLCJyZXR1cm5BbGwiLCJFcnJvciIsIl92YWxpZGF0ZUNoYWlucyIsIm1lbW9yeUtleXMiLCJtZW1vcnkiLCJpbnB1dEtleXNTZXQiLCJTZXQiLCJtZW1vcnlLZXlzU2V0Iiwia2V5c0ludGVyc2VjdGlvbiIsInNpemUiLCJhdmFpbGFibGVLZXlzIiwiY2hhaW4iLCJtaXNzaW5nS2V5cyIsIl9jaGFpblR5cGUiLCJvdXRwdXRLZXlzU2V0Iiwib3ZlcmxhcHBpbmdPdXRwdXRLZXlzIiwib3V0cHV0S2V5IiwiYWRkIiwiX2NhbGwiLCJ2YWx1ZXMiLCJydW5NYW5hZ2VyIiwiYWxsQ2hhaW5WYWx1ZXMiLCJjYWxsIiwiZ2V0Q2hpbGQiLCJrZXkiLCJrZXlzIiwib3V0cHV0IiwiZGVzZXJpYWxpemUiLCJkYXRhIiwiaW5wdXRfdmFyaWFibGVzIiwib3V0cHV0X3ZhcmlhYmxlcyIsInNlcmlhbGl6ZWRDaGFpbnMiLCJzZXJpYWxpemVkQ2hhaW4iLCJkZXNlcmlhbGl6ZWRDaGFpbiIsInB1c2giLCJzZXJpYWxpemUiLCJfdHlwZSIsIlNpbXBsZVNlcXVlbnRpYWxDaGFpbiIsImlucHV0S2V5IiwidHJpbU91dHB1dHMiLCJmaWx0ZXIiLCJrIiwiaW5jbHVkZXMiLCJzaWduYWwiLCJ0cmltIiwiaGFuZGxlVGV4dCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/langchain/dist/chains/sequential_chain.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/langchain/dist/chains/vector_db_qa.js":
/*!************************************************************!*\
  !*** ./node_modules/langchain/dist/chains/vector_db_qa.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   VectorDBQAChain: () => (/* binding */ VectorDBQAChain)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"(rsc)/./node_modules/langchain/dist/chains/base.js\");\n/* harmony import */ var _question_answering_load_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./question_answering/load.js */ \"(rsc)/./node_modules/langchain/dist/chains/question_answering/load.js\");\n\n\n/**\n * Class that represents a VectorDBQAChain. It extends the `BaseChain`\n * class and implements the `VectorDBQAChainInput` interface. It performs\n * a similarity search using a vector store and combines the search\n * results using a specified combine documents chain.\n *\n * @deprecated\n * Switch to {@link https://js.langchain.com/docs/modules/chains/ | createRetrievalChain}\n * Will be removed in 0.2.0\n */ class VectorDBQAChain extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseChain {\n    static lc_name() {\n        return \"VectorDBQAChain\";\n    }\n    get inputKeys() {\n        return [\n            this.inputKey\n        ];\n    }\n    get outputKeys() {\n        return this.combineDocumentsChain.outputKeys.concat(this.returnSourceDocuments ? [\n            \"sourceDocuments\"\n        ] : []);\n    }\n    constructor(fields){\n        super(fields);\n        Object.defineProperty(this, \"k\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 4\n        });\n        Object.defineProperty(this, \"inputKey\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: \"query\"\n        });\n        Object.defineProperty(this, \"vectorstore\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"combineDocumentsChain\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"returnSourceDocuments\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: false\n        });\n        this.vectorstore = fields.vectorstore;\n        this.combineDocumentsChain = fields.combineDocumentsChain;\n        this.inputKey = fields.inputKey ?? this.inputKey;\n        this.k = fields.k ?? this.k;\n        this.returnSourceDocuments = fields.returnSourceDocuments ?? this.returnSourceDocuments;\n    }\n    /** @ignore */ async _call(values, runManager) {\n        if (!(this.inputKey in values)) {\n            throw new Error(`Question key ${this.inputKey} not found.`);\n        }\n        const question = values[this.inputKey];\n        const docs = await this.vectorstore.similaritySearch(question, this.k, values.filter, runManager?.getChild(\"vectorstore\"));\n        const inputs = {\n            question,\n            input_documents: docs\n        };\n        const result = await this.combineDocumentsChain.call(inputs, runManager?.getChild(\"combine_documents\"));\n        if (this.returnSourceDocuments) {\n            return {\n                ...result,\n                sourceDocuments: docs\n            };\n        }\n        return result;\n    }\n    _chainType() {\n        return \"vector_db_qa\";\n    }\n    static async deserialize(data, values) {\n        if (!(\"vectorstore\" in values)) {\n            throw new Error(`Need to pass in a vectorstore to deserialize VectorDBQAChain`);\n        }\n        const { vectorstore } = values;\n        if (!data.combine_documents_chain) {\n            throw new Error(`VectorDBQAChain must have combine_documents_chain in serialized data`);\n        }\n        return new VectorDBQAChain({\n            combineDocumentsChain: await _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseChain.deserialize(data.combine_documents_chain),\n            k: data.k,\n            vectorstore\n        });\n    }\n    serialize() {\n        return {\n            _type: this._chainType(),\n            combine_documents_chain: this.combineDocumentsChain.serialize(),\n            k: this.k\n        };\n    }\n    /**\n     * Static method that creates a VectorDBQAChain instance from a\n     * BaseLanguageModel and a vector store. It also accepts optional options\n     * to customize the chain.\n     * @param llm The BaseLanguageModel instance.\n     * @param vectorstore The vector store used for similarity search.\n     * @param options Optional options to customize the chain.\n     * @returns A new instance of VectorDBQAChain.\n     */ static fromLLM(llm, vectorstore, options) {\n        const qaChain = (0,_question_answering_load_js__WEBPACK_IMPORTED_MODULE_1__.loadQAStuffChain)(llm);\n        return new this({\n            vectorstore,\n            combineDocumentsChain: qaChain,\n            ...options\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvY2hhaW5zL3ZlY3Rvcl9kYl9xYS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBc0M7QUFDMEI7QUFDaEU7Ozs7Ozs7OztDQVNDLEdBQ00sTUFBTUUsd0JBQXdCRiwrQ0FBU0E7SUFDMUMsT0FBT0csVUFBVTtRQUNiLE9BQU87SUFDWDtJQUNBLElBQUlDLFlBQVk7UUFDWixPQUFPO1lBQUMsSUFBSSxDQUFDQyxRQUFRO1NBQUM7SUFDMUI7SUFDQSxJQUFJQyxhQUFhO1FBQ2IsT0FBTyxJQUFJLENBQUNDLHFCQUFxQixDQUFDRCxVQUFVLENBQUNFLE1BQU0sQ0FBQyxJQUFJLENBQUNDLHFCQUFxQixHQUFHO1lBQUM7U0FBa0IsR0FBRyxFQUFFO0lBQzdHO0lBQ0FDLFlBQVlDLE1BQU0sQ0FBRTtRQUNoQixLQUFLLENBQUNBO1FBQ05DLE9BQU9DLGNBQWMsQ0FBQyxJQUFJLEVBQUUsS0FBSztZQUM3QkMsWUFBWTtZQUNaQyxjQUFjO1lBQ2RDLFVBQVU7WUFDVkMsT0FBTztRQUNYO1FBQ0FMLE9BQU9DLGNBQWMsQ0FBQyxJQUFJLEVBQUUsWUFBWTtZQUNwQ0MsWUFBWTtZQUNaQyxjQUFjO1lBQ2RDLFVBQVU7WUFDVkMsT0FBTztRQUNYO1FBQ0FMLE9BQU9DLGNBQWMsQ0FBQyxJQUFJLEVBQUUsZUFBZTtZQUN2Q0MsWUFBWTtZQUNaQyxjQUFjO1lBQ2RDLFVBQVU7WUFDVkMsT0FBTyxLQUFLO1FBQ2hCO1FBQ0FMLE9BQU9DLGNBQWMsQ0FBQyxJQUFJLEVBQUUseUJBQXlCO1lBQ2pEQyxZQUFZO1lBQ1pDLGNBQWM7WUFDZEMsVUFBVTtZQUNWQyxPQUFPLEtBQUs7UUFDaEI7UUFDQUwsT0FBT0MsY0FBYyxDQUFDLElBQUksRUFBRSx5QkFBeUI7WUFDakRDLFlBQVk7WUFDWkMsY0FBYztZQUNkQyxVQUFVO1lBQ1ZDLE9BQU87UUFDWDtRQUNBLElBQUksQ0FBQ0MsV0FBVyxHQUFHUCxPQUFPTyxXQUFXO1FBQ3JDLElBQUksQ0FBQ1gscUJBQXFCLEdBQUdJLE9BQU9KLHFCQUFxQjtRQUN6RCxJQUFJLENBQUNGLFFBQVEsR0FBR00sT0FBT04sUUFBUSxJQUFJLElBQUksQ0FBQ0EsUUFBUTtRQUNoRCxJQUFJLENBQUNjLENBQUMsR0FBR1IsT0FBT1EsQ0FBQyxJQUFJLElBQUksQ0FBQ0EsQ0FBQztRQUMzQixJQUFJLENBQUNWLHFCQUFxQixHQUN0QkUsT0FBT0YscUJBQXFCLElBQUksSUFBSSxDQUFDQSxxQkFBcUI7SUFDbEU7SUFDQSxZQUFZLEdBQ1osTUFBTVcsTUFBTUMsTUFBTSxFQUFFQyxVQUFVLEVBQUU7UUFDNUIsSUFBSSxDQUFFLEtBQUksQ0FBQ2pCLFFBQVEsSUFBSWdCLE1BQUssR0FBSTtZQUM1QixNQUFNLElBQUlFLE1BQU0sQ0FBQyxhQUFhLEVBQUUsSUFBSSxDQUFDbEIsUUFBUSxDQUFDLFdBQVcsQ0FBQztRQUM5RDtRQUNBLE1BQU1tQixXQUFXSCxNQUFNLENBQUMsSUFBSSxDQUFDaEIsUUFBUSxDQUFDO1FBQ3RDLE1BQU1vQixPQUFPLE1BQU0sSUFBSSxDQUFDUCxXQUFXLENBQUNRLGdCQUFnQixDQUFDRixVQUFVLElBQUksQ0FBQ0wsQ0FBQyxFQUFFRSxPQUFPTSxNQUFNLEVBQUVMLFlBQVlNLFNBQVM7UUFDM0csTUFBTUMsU0FBUztZQUFFTDtZQUFVTSxpQkFBaUJMO1FBQUs7UUFDakQsTUFBTU0sU0FBUyxNQUFNLElBQUksQ0FBQ3hCLHFCQUFxQixDQUFDeUIsSUFBSSxDQUFDSCxRQUFRUCxZQUFZTSxTQUFTO1FBQ2xGLElBQUksSUFBSSxDQUFDbkIscUJBQXFCLEVBQUU7WUFDNUIsT0FBTztnQkFDSCxHQUFHc0IsTUFBTTtnQkFDVEUsaUJBQWlCUjtZQUNyQjtRQUNKO1FBQ0EsT0FBT007SUFDWDtJQUNBRyxhQUFhO1FBQ1QsT0FBTztJQUNYO0lBQ0EsYUFBYUMsWUFBWUMsSUFBSSxFQUFFZixNQUFNLEVBQUU7UUFDbkMsSUFBSSxDQUFFLGtCQUFpQkEsTUFBSyxHQUFJO1lBQzVCLE1BQU0sSUFBSUUsTUFBTSxDQUFDLDREQUE0RCxDQUFDO1FBQ2xGO1FBQ0EsTUFBTSxFQUFFTCxXQUFXLEVBQUUsR0FBR0c7UUFDeEIsSUFBSSxDQUFDZSxLQUFLQyx1QkFBdUIsRUFBRTtZQUMvQixNQUFNLElBQUlkLE1BQU0sQ0FBQyxvRUFBb0UsQ0FBQztRQUMxRjtRQUNBLE9BQU8sSUFBSXJCLGdCQUFnQjtZQUN2QkssdUJBQXVCLE1BQU1QLCtDQUFTQSxDQUFDbUMsV0FBVyxDQUFDQyxLQUFLQyx1QkFBdUI7WUFDL0VsQixHQUFHaUIsS0FBS2pCLENBQUM7WUFDVEQ7UUFDSjtJQUNKO0lBQ0FvQixZQUFZO1FBQ1IsT0FBTztZQUNIQyxPQUFPLElBQUksQ0FBQ0wsVUFBVTtZQUN0QkcseUJBQXlCLElBQUksQ0FBQzlCLHFCQUFxQixDQUFDK0IsU0FBUztZQUM3RG5CLEdBQUcsSUFBSSxDQUFDQSxDQUFDO1FBQ2I7SUFDSjtJQUNBOzs7Ozs7OztLQVFDLEdBQ0QsT0FBT3FCLFFBQVFDLEdBQUcsRUFBRXZCLFdBQVcsRUFBRXdCLE9BQU8sRUFBRTtRQUN0QyxNQUFNQyxVQUFVMUMsNkVBQWdCQSxDQUFDd0M7UUFDakMsT0FBTyxJQUFJLElBQUksQ0FBQztZQUNadkI7WUFDQVgsdUJBQXVCb0M7WUFDdkIsR0FBR0QsT0FBTztRQUNkO0lBQ0o7QUFDSiIsInNvdXJjZXMiOlsid2VicGFjazovL2JldHRlci10b2RvLy4vbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L2NoYWlucy92ZWN0b3JfZGJfcWEuanM/ZjYxZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCYXNlQ2hhaW4gfSBmcm9tIFwiLi9iYXNlLmpzXCI7XG5pbXBvcnQgeyBsb2FkUUFTdHVmZkNoYWluIH0gZnJvbSBcIi4vcXVlc3Rpb25fYW5zd2VyaW5nL2xvYWQuanNcIjtcbi8qKlxuICogQ2xhc3MgdGhhdCByZXByZXNlbnRzIGEgVmVjdG9yREJRQUNoYWluLiBJdCBleHRlbmRzIHRoZSBgQmFzZUNoYWluYFxuICogY2xhc3MgYW5kIGltcGxlbWVudHMgdGhlIGBWZWN0b3JEQlFBQ2hhaW5JbnB1dGAgaW50ZXJmYWNlLiBJdCBwZXJmb3Jtc1xuICogYSBzaW1pbGFyaXR5IHNlYXJjaCB1c2luZyBhIHZlY3RvciBzdG9yZSBhbmQgY29tYmluZXMgdGhlIHNlYXJjaFxuICogcmVzdWx0cyB1c2luZyBhIHNwZWNpZmllZCBjb21iaW5lIGRvY3VtZW50cyBjaGFpbi5cbiAqXG4gKiBAZGVwcmVjYXRlZFxuICogU3dpdGNoIHRvIHtAbGluayBodHRwczovL2pzLmxhbmdjaGFpbi5jb20vZG9jcy9tb2R1bGVzL2NoYWlucy8gfCBjcmVhdGVSZXRyaWV2YWxDaGFpbn1cbiAqIFdpbGwgYmUgcmVtb3ZlZCBpbiAwLjIuMFxuICovXG5leHBvcnQgY2xhc3MgVmVjdG9yREJRQUNoYWluIGV4dGVuZHMgQmFzZUNoYWluIHtcbiAgICBzdGF0aWMgbGNfbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiVmVjdG9yREJRQUNoYWluXCI7XG4gICAgfVxuICAgIGdldCBpbnB1dEtleXMoKSB7XG4gICAgICAgIHJldHVybiBbdGhpcy5pbnB1dEtleV07XG4gICAgfVxuICAgIGdldCBvdXRwdXRLZXlzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21iaW5lRG9jdW1lbnRzQ2hhaW4ub3V0cHV0S2V5cy5jb25jYXQodGhpcy5yZXR1cm5Tb3VyY2VEb2N1bWVudHMgPyBbXCJzb3VyY2VEb2N1bWVudHNcIl0gOiBbXSk7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGZpZWxkcykge1xuICAgICAgICBzdXBlcihmaWVsZHMpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJrXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiA0XG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJpbnB1dEtleVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogXCJxdWVyeVwiXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ2ZWN0b3JzdG9yZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJjb21iaW5lRG9jdW1lbnRzQ2hhaW5cIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicmV0dXJuU291cmNlRG9jdW1lbnRzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy52ZWN0b3JzdG9yZSA9IGZpZWxkcy52ZWN0b3JzdG9yZTtcbiAgICAgICAgdGhpcy5jb21iaW5lRG9jdW1lbnRzQ2hhaW4gPSBmaWVsZHMuY29tYmluZURvY3VtZW50c0NoYWluO1xuICAgICAgICB0aGlzLmlucHV0S2V5ID0gZmllbGRzLmlucHV0S2V5ID8/IHRoaXMuaW5wdXRLZXk7XG4gICAgICAgIHRoaXMuayA9IGZpZWxkcy5rID8/IHRoaXMuaztcbiAgICAgICAgdGhpcy5yZXR1cm5Tb3VyY2VEb2N1bWVudHMgPVxuICAgICAgICAgICAgZmllbGRzLnJldHVyblNvdXJjZURvY3VtZW50cyA/PyB0aGlzLnJldHVyblNvdXJjZURvY3VtZW50cztcbiAgICB9XG4gICAgLyoqIEBpZ25vcmUgKi9cbiAgICBhc3luYyBfY2FsbCh2YWx1ZXMsIHJ1bk1hbmFnZXIpIHtcbiAgICAgICAgaWYgKCEodGhpcy5pbnB1dEtleSBpbiB2YWx1ZXMpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFF1ZXN0aW9uIGtleSAke3RoaXMuaW5wdXRLZXl9IG5vdCBmb3VuZC5gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBxdWVzdGlvbiA9IHZhbHVlc1t0aGlzLmlucHV0S2V5XTtcbiAgICAgICAgY29uc3QgZG9jcyA9IGF3YWl0IHRoaXMudmVjdG9yc3RvcmUuc2ltaWxhcml0eVNlYXJjaChxdWVzdGlvbiwgdGhpcy5rLCB2YWx1ZXMuZmlsdGVyLCBydW5NYW5hZ2VyPy5nZXRDaGlsZChcInZlY3RvcnN0b3JlXCIpKTtcbiAgICAgICAgY29uc3QgaW5wdXRzID0geyBxdWVzdGlvbiwgaW5wdXRfZG9jdW1lbnRzOiBkb2NzIH07XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuY29tYmluZURvY3VtZW50c0NoYWluLmNhbGwoaW5wdXRzLCBydW5NYW5hZ2VyPy5nZXRDaGlsZChcImNvbWJpbmVfZG9jdW1lbnRzXCIpKTtcbiAgICAgICAgaWYgKHRoaXMucmV0dXJuU291cmNlRG9jdW1lbnRzKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLnJlc3VsdCxcbiAgICAgICAgICAgICAgICBzb3VyY2VEb2N1bWVudHM6IGRvY3MsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIF9jaGFpblR5cGUoKSB7XG4gICAgICAgIHJldHVybiBcInZlY3Rvcl9kYl9xYVwiO1xuICAgIH1cbiAgICBzdGF0aWMgYXN5bmMgZGVzZXJpYWxpemUoZGF0YSwgdmFsdWVzKSB7XG4gICAgICAgIGlmICghKFwidmVjdG9yc3RvcmVcIiBpbiB2YWx1ZXMpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5lZWQgdG8gcGFzcyBpbiBhIHZlY3RvcnN0b3JlIHRvIGRlc2VyaWFsaXplIFZlY3RvckRCUUFDaGFpbmApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgdmVjdG9yc3RvcmUgfSA9IHZhbHVlcztcbiAgICAgICAgaWYgKCFkYXRhLmNvbWJpbmVfZG9jdW1lbnRzX2NoYWluKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFZlY3RvckRCUUFDaGFpbiBtdXN0IGhhdmUgY29tYmluZV9kb2N1bWVudHNfY2hhaW4gaW4gc2VyaWFsaXplZCBkYXRhYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3JEQlFBQ2hhaW4oe1xuICAgICAgICAgICAgY29tYmluZURvY3VtZW50c0NoYWluOiBhd2FpdCBCYXNlQ2hhaW4uZGVzZXJpYWxpemUoZGF0YS5jb21iaW5lX2RvY3VtZW50c19jaGFpbiksXG4gICAgICAgICAgICBrOiBkYXRhLmssXG4gICAgICAgICAgICB2ZWN0b3JzdG9yZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHNlcmlhbGl6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIF90eXBlOiB0aGlzLl9jaGFpblR5cGUoKSxcbiAgICAgICAgICAgIGNvbWJpbmVfZG9jdW1lbnRzX2NoYWluOiB0aGlzLmNvbWJpbmVEb2N1bWVudHNDaGFpbi5zZXJpYWxpemUoKSxcbiAgICAgICAgICAgIGs6IHRoaXMuayxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RhdGljIG1ldGhvZCB0aGF0IGNyZWF0ZXMgYSBWZWN0b3JEQlFBQ2hhaW4gaW5zdGFuY2UgZnJvbSBhXG4gICAgICogQmFzZUxhbmd1YWdlTW9kZWwgYW5kIGEgdmVjdG9yIHN0b3JlLiBJdCBhbHNvIGFjY2VwdHMgb3B0aW9uYWwgb3B0aW9uc1xuICAgICAqIHRvIGN1c3RvbWl6ZSB0aGUgY2hhaW4uXG4gICAgICogQHBhcmFtIGxsbSBUaGUgQmFzZUxhbmd1YWdlTW9kZWwgaW5zdGFuY2UuXG4gICAgICogQHBhcmFtIHZlY3RvcnN0b3JlIFRoZSB2ZWN0b3Igc3RvcmUgdXNlZCBmb3Igc2ltaWxhcml0eSBzZWFyY2guXG4gICAgICogQHBhcmFtIG9wdGlvbnMgT3B0aW9uYWwgb3B0aW9ucyB0byBjdXN0b21pemUgdGhlIGNoYWluLlxuICAgICAqIEByZXR1cm5zIEEgbmV3IGluc3RhbmNlIG9mIFZlY3RvckRCUUFDaGFpbi5cbiAgICAgKi9cbiAgICBzdGF0aWMgZnJvbUxMTShsbG0sIHZlY3RvcnN0b3JlLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHFhQ2hhaW4gPSBsb2FkUUFTdHVmZkNoYWluKGxsbSk7XG4gICAgICAgIHJldHVybiBuZXcgdGhpcyh7XG4gICAgICAgICAgICB2ZWN0b3JzdG9yZSxcbiAgICAgICAgICAgIGNvbWJpbmVEb2N1bWVudHNDaGFpbjogcWFDaGFpbixcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6WyJCYXNlQ2hhaW4iLCJsb2FkUUFTdHVmZkNoYWluIiwiVmVjdG9yREJRQUNoYWluIiwibGNfbmFtZSIsImlucHV0S2V5cyIsImlucHV0S2V5Iiwib3V0cHV0S2V5cyIsImNvbWJpbmVEb2N1bWVudHNDaGFpbiIsImNvbmNhdCIsInJldHVyblNvdXJjZURvY3VtZW50cyIsImNvbnN0cnVjdG9yIiwiZmllbGRzIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJ2YWx1ZSIsInZlY3RvcnN0b3JlIiwiayIsIl9jYWxsIiwidmFsdWVzIiwicnVuTWFuYWdlciIsIkVycm9yIiwicXVlc3Rpb24iLCJkb2NzIiwic2ltaWxhcml0eVNlYXJjaCIsImZpbHRlciIsImdldENoaWxkIiwiaW5wdXRzIiwiaW5wdXRfZG9jdW1lbnRzIiwicmVzdWx0IiwiY2FsbCIsInNvdXJjZURvY3VtZW50cyIsIl9jaGFpblR5cGUiLCJkZXNlcmlhbGl6ZSIsImRhdGEiLCJjb21iaW5lX2RvY3VtZW50c19jaGFpbiIsInNlcmlhbGl6ZSIsIl90eXBlIiwiZnJvbUxMTSIsImxsbSIsIm9wdGlvbnMiLCJxYUNoYWluIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/langchain/dist/chains/vector_db_qa.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/langchain/dist/output_parsers/noop.js":
/*!************************************************************!*\
  !*** ./node_modules/langchain/dist/output_parsers/noop.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NoOpOutputParser: () => (/* binding */ NoOpOutputParser)\n/* harmony export */ });\n/* harmony import */ var _langchain_core_output_parsers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @langchain/core/output_parsers */ \"(rsc)/./node_modules/@langchain/core/output_parsers.js\");\n\n/**\n * The NoOpOutputParser class is a type of output parser that does not\n * perform any operations on the output. It extends the BaseOutputParser\n * class and is part of the LangChain's output parsers module. This class\n * is useful in scenarios where the raw output of the Large Language\n * Models (LLMs) is required.\n */ class NoOpOutputParser extends _langchain_core_output_parsers__WEBPACK_IMPORTED_MODULE_0__.BaseOutputParser {\n    constructor(){\n        super(...arguments);\n        Object.defineProperty(this, \"lc_namespace\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: [\n                \"langchain\",\n                \"output_parsers\",\n                \"default\"\n            ]\n        });\n        Object.defineProperty(this, \"lc_serializable\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: true\n        });\n    }\n    static lc_name() {\n        return \"NoOpOutputParser\";\n    }\n    /**\n     * This method takes a string as input and returns the same string as\n     * output. It does not perform any operations on the input string.\n     * @param text The input string to be parsed.\n     * @returns The same input string without any operations performed on it.\n     */ parse(text) {\n        return Promise.resolve(text);\n    }\n    /**\n     * This method returns an empty string. It does not provide any formatting\n     * instructions.\n     * @returns An empty string, indicating no formatting instructions.\n     */ getFormatInstructions() {\n        return \"\";\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3Qvb3V0cHV0X3BhcnNlcnMvbm9vcC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFrRTtBQUNsRTs7Ozs7O0NBTUMsR0FDTSxNQUFNQyx5QkFBeUJELDRFQUFnQkE7SUFDbERFLGFBQWM7UUFDVixLQUFLLElBQUlDO1FBQ1RDLE9BQU9DLGNBQWMsQ0FBQyxJQUFJLEVBQUUsZ0JBQWdCO1lBQ3hDQyxZQUFZO1lBQ1pDLGNBQWM7WUFDZEMsVUFBVTtZQUNWQyxPQUFPO2dCQUFDO2dCQUFhO2dCQUFrQjthQUFVO1FBQ3JEO1FBQ0FMLE9BQU9DLGNBQWMsQ0FBQyxJQUFJLEVBQUUsbUJBQW1CO1lBQzNDQyxZQUFZO1lBQ1pDLGNBQWM7WUFDZEMsVUFBVTtZQUNWQyxPQUFPO1FBQ1g7SUFDSjtJQUNBLE9BQU9DLFVBQVU7UUFDYixPQUFPO0lBQ1g7SUFDQTs7Ozs7S0FLQyxHQUNEQyxNQUFNQyxJQUFJLEVBQUU7UUFDUixPQUFPQyxRQUFRQyxPQUFPLENBQUNGO0lBQzNCO0lBQ0E7Ozs7S0FJQyxHQUNERyx3QkFBd0I7UUFDcEIsT0FBTztJQUNYO0FBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iZXR0ZXItdG9kby8uL25vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC9vdXRwdXRfcGFyc2Vycy9ub29wLmpzP2NmZDUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQmFzZU91dHB1dFBhcnNlciB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvb3V0cHV0X3BhcnNlcnNcIjtcbi8qKlxuICogVGhlIE5vT3BPdXRwdXRQYXJzZXIgY2xhc3MgaXMgYSB0eXBlIG9mIG91dHB1dCBwYXJzZXIgdGhhdCBkb2VzIG5vdFxuICogcGVyZm9ybSBhbnkgb3BlcmF0aW9ucyBvbiB0aGUgb3V0cHV0LiBJdCBleHRlbmRzIHRoZSBCYXNlT3V0cHV0UGFyc2VyXG4gKiBjbGFzcyBhbmQgaXMgcGFydCBvZiB0aGUgTGFuZ0NoYWluJ3Mgb3V0cHV0IHBhcnNlcnMgbW9kdWxlLiBUaGlzIGNsYXNzXG4gKiBpcyB1c2VmdWwgaW4gc2NlbmFyaW9zIHdoZXJlIHRoZSByYXcgb3V0cHV0IG9mIHRoZSBMYXJnZSBMYW5ndWFnZVxuICogTW9kZWxzIChMTE1zKSBpcyByZXF1aXJlZC5cbiAqL1xuZXhwb3J0IGNsYXNzIE5vT3BPdXRwdXRQYXJzZXIgZXh0ZW5kcyBCYXNlT3V0cHV0UGFyc2VyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfbmFtZXNwYWNlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBbXCJsYW5nY2hhaW5cIiwgXCJvdXRwdXRfcGFyc2Vyc1wiLCBcImRlZmF1bHRcIl1cbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxjX3NlcmlhbGl6YWJsZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3RhdGljIGxjX25hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIk5vT3BPdXRwdXRQYXJzZXJcIjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgdGFrZXMgYSBzdHJpbmcgYXMgaW5wdXQgYW5kIHJldHVybnMgdGhlIHNhbWUgc3RyaW5nIGFzXG4gICAgICogb3V0cHV0LiBJdCBkb2VzIG5vdCBwZXJmb3JtIGFueSBvcGVyYXRpb25zIG9uIHRoZSBpbnB1dCBzdHJpbmcuXG4gICAgICogQHBhcmFtIHRleHQgVGhlIGlucHV0IHN0cmluZyB0byBiZSBwYXJzZWQuXG4gICAgICogQHJldHVybnMgVGhlIHNhbWUgaW5wdXQgc3RyaW5nIHdpdGhvdXQgYW55IG9wZXJhdGlvbnMgcGVyZm9ybWVkIG9uIGl0LlxuICAgICAqL1xuICAgIHBhcnNlKHRleHQpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0ZXh0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBhbiBlbXB0eSBzdHJpbmcuIEl0IGRvZXMgbm90IHByb3ZpZGUgYW55IGZvcm1hdHRpbmdcbiAgICAgKiBpbnN0cnVjdGlvbnMuXG4gICAgICogQHJldHVybnMgQW4gZW1wdHkgc3RyaW5nLCBpbmRpY2F0aW5nIG5vIGZvcm1hdHRpbmcgaW5zdHJ1Y3Rpb25zLlxuICAgICAqL1xuICAgIGdldEZvcm1hdEluc3RydWN0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbIkJhc2VPdXRwdXRQYXJzZXIiLCJOb09wT3V0cHV0UGFyc2VyIiwiY29uc3RydWN0b3IiLCJhcmd1bWVudHMiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsInZhbHVlIiwibGNfbmFtZSIsInBhcnNlIiwidGV4dCIsIlByb21pc2UiLCJyZXNvbHZlIiwiZ2V0Rm9ybWF0SW5zdHJ1Y3Rpb25zIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/langchain/dist/output_parsers/noop.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/langchain/dist/tools/base.js":
/*!***************************************************!*\
  !*** ./node_modules/langchain/dist/tools/base.js ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StructuredTool: () => (/* reexport safe */ _langchain_core_tools__WEBPACK_IMPORTED_MODULE_0__.StructuredTool),\n/* harmony export */   Tool: () => (/* reexport safe */ _langchain_core_tools__WEBPACK_IMPORTED_MODULE_0__.Tool),\n/* harmony export */   ToolInputParsingException: () => (/* reexport safe */ _langchain_core_tools__WEBPACK_IMPORTED_MODULE_0__.ToolInputParsingException)\n/* harmony export */ });\n/* harmony import */ var _langchain_core_tools__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @langchain/core/tools */ \"(rsc)/./node_modules/@langchain/core/tools.js\");\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvdG9vbHMvYmFzZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXlGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmV0dGVyLXRvZG8vLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvdG9vbHMvYmFzZS5qcz8xZTY2Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB7IFRvb2xJbnB1dFBhcnNpbmdFeGNlcHRpb24sIFN0cnVjdHVyZWRUb29sLCBUb29sLCB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvdG9vbHNcIjtcbiJdLCJuYW1lcyI6WyJUb29sSW5wdXRQYXJzaW5nRXhjZXB0aW9uIiwiU3RydWN0dXJlZFRvb2wiLCJUb29sIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/langchain/dist/tools/base.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/langchain/dist/tools/chain.js":
/*!****************************************************!*\
  !*** ./node_modules/langchain/dist/tools/chain.js ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChainTool: () => (/* binding */ ChainTool)\n/* harmony export */ });\n/* harmony import */ var _langchain_core_tools__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @langchain/core/tools */ \"(rsc)/./node_modules/@langchain/core/tools.js\");\n\n/**\n * @deprecated Wrap in a DynamicTool instead.\n * Class that extends DynamicTool for creating tools that can run chains.\n * Takes an instance of a class that extends BaseChain as a parameter in\n * its constructor and uses it to run the chain when its 'func' method is\n * called.\n */ class ChainTool extends _langchain_core_tools__WEBPACK_IMPORTED_MODULE_0__.DynamicTool {\n    static lc_name() {\n        return \"ChainTool\";\n    }\n    constructor({ chain, ...rest }){\n        super({\n            ...rest,\n            func: async (input, runManager)=>chain.run(input, runManager?.getChild())\n        });\n        Object.defineProperty(this, \"chain\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.chain = chain;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvdG9vbHMvY2hhaW4uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBb0Q7QUFDcEQ7Ozs7OztDQU1DLEdBQ00sTUFBTUMsa0JBQWtCRCw4REFBV0E7SUFDdEMsT0FBT0UsVUFBVTtRQUNiLE9BQU87SUFDWDtJQUNBQyxZQUFZLEVBQUVDLEtBQUssRUFBRSxHQUFHQyxNQUFNLENBQUU7UUFDNUIsS0FBSyxDQUFDO1lBQ0YsR0FBR0EsSUFBSTtZQUNQQyxNQUFNLE9BQU9DLE9BQU9DLGFBQWVKLE1BQU1LLEdBQUcsQ0FBQ0YsT0FBT0MsWUFBWUU7UUFDcEU7UUFDQUMsT0FBT0MsY0FBYyxDQUFDLElBQUksRUFBRSxTQUFTO1lBQ2pDQyxZQUFZO1lBQ1pDLGNBQWM7WUFDZEMsVUFBVTtZQUNWQyxPQUFPLEtBQUs7UUFDaEI7UUFDQSxJQUFJLENBQUNaLEtBQUssR0FBR0E7SUFDakI7QUFDSiIsInNvdXJjZXMiOlsid2VicGFjazovL2JldHRlci10b2RvLy4vbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L3Rvb2xzL2NoYWluLmpzP2UwZDMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRHluYW1pY1Rvb2wgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL3Rvb2xzXCI7XG4vKipcbiAqIEBkZXByZWNhdGVkIFdyYXAgaW4gYSBEeW5hbWljVG9vbCBpbnN0ZWFkLlxuICogQ2xhc3MgdGhhdCBleHRlbmRzIER5bmFtaWNUb29sIGZvciBjcmVhdGluZyB0b29scyB0aGF0IGNhbiBydW4gY2hhaW5zLlxuICogVGFrZXMgYW4gaW5zdGFuY2Ugb2YgYSBjbGFzcyB0aGF0IGV4dGVuZHMgQmFzZUNoYWluIGFzIGEgcGFyYW1ldGVyIGluXG4gKiBpdHMgY29uc3RydWN0b3IgYW5kIHVzZXMgaXQgdG8gcnVuIHRoZSBjaGFpbiB3aGVuIGl0cyAnZnVuYycgbWV0aG9kIGlzXG4gKiBjYWxsZWQuXG4gKi9cbmV4cG9ydCBjbGFzcyBDaGFpblRvb2wgZXh0ZW5kcyBEeW5hbWljVG9vbCB7XG4gICAgc3RhdGljIGxjX25hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIkNoYWluVG9vbFwiO1xuICAgIH1cbiAgICBjb25zdHJ1Y3Rvcih7IGNoYWluLCAuLi5yZXN0IH0pIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgLi4ucmVzdCxcbiAgICAgICAgICAgIGZ1bmM6IGFzeW5jIChpbnB1dCwgcnVuTWFuYWdlcikgPT4gY2hhaW4ucnVuKGlucHV0LCBydW5NYW5hZ2VyPy5nZXRDaGlsZCgpKSxcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNoYWluXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY2hhaW4gPSBjaGFpbjtcbiAgICB9XG59XG4iXSwibmFtZXMiOlsiRHluYW1pY1Rvb2wiLCJDaGFpblRvb2wiLCJsY19uYW1lIiwiY29uc3RydWN0b3IiLCJjaGFpbiIsInJlc3QiLCJmdW5jIiwiaW5wdXQiLCJydW5NYW5hZ2VyIiwicnVuIiwiZ2V0Q2hpbGQiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsInZhbHVlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/langchain/dist/tools/chain.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/langchain/dist/tools/convert_to_openai.js":
/*!****************************************************************!*\
  !*** ./node_modules/langchain/dist/tools/convert_to_openai.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   formatToOpenAIAssistantTool: () => (/* binding */ formatToOpenAIAssistantTool),\n/* harmony export */   formatToOpenAIFunction: () => (/* reexport safe */ _langchain_core_utils_function_calling__WEBPACK_IMPORTED_MODULE_1__.convertToOpenAIFunction),\n/* harmony export */   formatToOpenAITool: () => (/* reexport safe */ _langchain_core_utils_function_calling__WEBPACK_IMPORTED_MODULE_1__.convertToOpenAITool)\n/* harmony export */ });\n/* harmony import */ var zod_to_json_schema__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zod-to-json-schema */ \"(rsc)/./node_modules/zod-to-json-schema/dist/esm/index.js\");\n/* harmony import */ var _langchain_core_utils_function_calling__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @langchain/core/utils/function_calling */ \"(rsc)/./node_modules/@langchain/core/utils/function_calling.js\");\n\n\n\nfunction formatToOpenAIAssistantTool(tool) {\n    return {\n        type: \"function\",\n        function: {\n            name: tool.name,\n            description: tool.description,\n            parameters: (0,zod_to_json_schema__WEBPACK_IMPORTED_MODULE_0__.zodToJsonSchema)(tool.schema)\n        }\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvdG9vbHMvY29udmVydF90b19vcGVuYWkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBcUQ7QUFDa0Q7QUFDRTtBQUNsRyxTQUFTSyw0QkFBNEJDLElBQUk7SUFDNUMsT0FBTztRQUNIQyxNQUFNO1FBQ05DLFVBQVU7WUFDTkMsTUFBTUgsS0FBS0csSUFBSTtZQUNmQyxhQUFhSixLQUFLSSxXQUFXO1lBQzdCQyxZQUFZWCxtRUFBZUEsQ0FBQ00sS0FBS00sTUFBTTtRQUMzQztJQUNKO0FBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iZXR0ZXItdG9kby8uL25vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC90b29scy9jb252ZXJ0X3RvX29wZW5haS5qcz80NjM1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHpvZFRvSnNvblNjaGVtYSB9IGZyb20gXCJ6b2QtdG8tanNvbi1zY2hlbWFcIjtcbmltcG9ydCB7IGNvbnZlcnRUb09wZW5BSUZ1bmN0aW9uLCBjb252ZXJ0VG9PcGVuQUlUb29sLCB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvdXRpbHMvZnVuY3Rpb25fY2FsbGluZ1wiO1xuZXhwb3J0IHsgY29udmVydFRvT3BlbkFJRnVuY3Rpb24gYXMgZm9ybWF0VG9PcGVuQUlGdW5jdGlvbiwgY29udmVydFRvT3BlbkFJVG9vbCBhcyBmb3JtYXRUb09wZW5BSVRvb2wsIH07XG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0VG9PcGVuQUlBc3Npc3RhbnRUb29sKHRvb2wpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBcImZ1bmN0aW9uXCIsXG4gICAgICAgIGZ1bmN0aW9uOiB7XG4gICAgICAgICAgICBuYW1lOiB0b29sLm5hbWUsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogdG9vbC5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgIHBhcmFtZXRlcnM6IHpvZFRvSnNvblNjaGVtYSh0b29sLnNjaGVtYSksXG4gICAgICAgIH0sXG4gICAgfTtcbn1cbiJdLCJuYW1lcyI6WyJ6b2RUb0pzb25TY2hlbWEiLCJjb252ZXJ0VG9PcGVuQUlGdW5jdGlvbiIsImNvbnZlcnRUb09wZW5BSVRvb2wiLCJmb3JtYXRUb09wZW5BSUZ1bmN0aW9uIiwiZm9ybWF0VG9PcGVuQUlUb29sIiwiZm9ybWF0VG9PcGVuQUlBc3Npc3RhbnRUb29sIiwidG9vbCIsInR5cGUiLCJmdW5jdGlvbiIsIm5hbWUiLCJkZXNjcmlwdGlvbiIsInBhcmFtZXRlcnMiLCJzY2hlbWEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/langchain/dist/tools/convert_to_openai.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/langchain/dist/tools/dynamic.js":
/*!******************************************************!*\
  !*** ./node_modules/langchain/dist/tools/dynamic.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DynamicStructuredTool: () => (/* reexport safe */ _langchain_core_tools__WEBPACK_IMPORTED_MODULE_0__.DynamicStructuredTool),\n/* harmony export */   DynamicTool: () => (/* reexport safe */ _langchain_core_tools__WEBPACK_IMPORTED_MODULE_0__.DynamicTool)\n/* harmony export */ });\n/* harmony import */ var _langchain_core_tools__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @langchain/core/tools */ \"(rsc)/./node_modules/@langchain/core/tools.js\");\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvdG9vbHMvZHluYW1pYy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBNEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iZXR0ZXItdG9kby8uL25vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC90b29scy9keW5hbWljLmpzPzYyNzQiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHsgRHluYW1pY1Rvb2wsIER5bmFtaWNTdHJ1Y3R1cmVkVG9vbCwgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL3Rvb2xzXCI7XG4iXSwibmFtZXMiOlsiRHluYW1pY1Rvb2wiLCJEeW5hbWljU3RydWN0dXJlZFRvb2wiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/langchain/dist/tools/dynamic.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/langchain/dist/tools/fs.js":
/*!*************************************************!*\
  !*** ./node_modules/langchain/dist/tools/fs.js ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ReadFileTool: () => (/* binding */ ReadFileTool),\n/* harmony export */   WriteFileTool: () => (/* binding */ WriteFileTool)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/lib/index.mjs\");\n/* harmony import */ var _langchain_core_tools__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @langchain/core/tools */ \"(rsc)/./node_modules/@langchain/core/tools.js\");\n\n\n/**\n * Class for reading files from the disk. Extends the StructuredTool\n * class.\n */ class ReadFileTool extends _langchain_core_tools__WEBPACK_IMPORTED_MODULE_0__.StructuredTool {\n    static lc_name() {\n        return \"ReadFileTool\";\n    }\n    constructor({ store }){\n        super(...arguments);\n        Object.defineProperty(this, \"schema\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: zod__WEBPACK_IMPORTED_MODULE_1__.z.object({\n                file_path: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().describe(\"name of file\")\n            })\n        });\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: \"read_file\"\n        });\n        Object.defineProperty(this, \"description\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: \"Read file from disk\"\n        });\n        Object.defineProperty(this, \"store\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.store = store;\n    }\n    async _call({ file_path }) {\n        return await this.store.readFile(file_path);\n    }\n}\n/**\n * Class for writing data to files on the disk. Extends the StructuredTool\n * class.\n */ class WriteFileTool extends _langchain_core_tools__WEBPACK_IMPORTED_MODULE_0__.StructuredTool {\n    static lc_name() {\n        return \"WriteFileTool\";\n    }\n    constructor({ store, ...rest }){\n        super(rest);\n        Object.defineProperty(this, \"schema\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: zod__WEBPACK_IMPORTED_MODULE_1__.z.object({\n                file_path: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().describe(\"name of file\"),\n                text: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().describe(\"text to write to file\")\n            })\n        });\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: \"write_file\"\n        });\n        Object.defineProperty(this, \"description\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: \"Write file from disk\"\n        });\n        Object.defineProperty(this, \"store\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.store = store;\n    }\n    async _call({ file_path, text }) {\n        await this.store.writeFile(file_path, text);\n        return \"File written to successfully.\";\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvdG9vbHMvZnMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUF3QjtBQUMrQjtBQUN2RDs7O0NBR0MsR0FDTSxNQUFNRSxxQkFBcUJELGlFQUFjQTtJQUM1QyxPQUFPRSxVQUFVO1FBQ2IsT0FBTztJQUNYO0lBQ0FDLFlBQVksRUFBRUMsS0FBSyxFQUFFLENBQUU7UUFDbkIsS0FBSyxJQUFJQztRQUNUQyxPQUFPQyxjQUFjLENBQUMsSUFBSSxFQUFFLFVBQVU7WUFDbENDLFlBQVk7WUFDWkMsY0FBYztZQUNkQyxVQUFVO1lBQ1ZDLE9BQU9aLGtDQUFDQSxDQUFDYSxNQUFNLENBQUM7Z0JBQ1pDLFdBQVdkLGtDQUFDQSxDQUFDZSxNQUFNLEdBQUdDLFFBQVEsQ0FBQztZQUNuQztRQUNKO1FBQ0FULE9BQU9DLGNBQWMsQ0FBQyxJQUFJLEVBQUUsUUFBUTtZQUNoQ0MsWUFBWTtZQUNaQyxjQUFjO1lBQ2RDLFVBQVU7WUFDVkMsT0FBTztRQUNYO1FBQ0FMLE9BQU9DLGNBQWMsQ0FBQyxJQUFJLEVBQUUsZUFBZTtZQUN2Q0MsWUFBWTtZQUNaQyxjQUFjO1lBQ2RDLFVBQVU7WUFDVkMsT0FBTztRQUNYO1FBQ0FMLE9BQU9DLGNBQWMsQ0FBQyxJQUFJLEVBQUUsU0FBUztZQUNqQ0MsWUFBWTtZQUNaQyxjQUFjO1lBQ2RDLFVBQVU7WUFDVkMsT0FBTyxLQUFLO1FBQ2hCO1FBQ0EsSUFBSSxDQUFDUCxLQUFLLEdBQUdBO0lBQ2pCO0lBQ0EsTUFBTVksTUFBTSxFQUFFSCxTQUFTLEVBQUUsRUFBRTtRQUN2QixPQUFPLE1BQU0sSUFBSSxDQUFDVCxLQUFLLENBQUNhLFFBQVEsQ0FBQ0o7SUFDckM7QUFDSjtBQUNBOzs7Q0FHQyxHQUNNLE1BQU1LLHNCQUFzQmxCLGlFQUFjQTtJQUM3QyxPQUFPRSxVQUFVO1FBQ2IsT0FBTztJQUNYO0lBQ0FDLFlBQVksRUFBRUMsS0FBSyxFQUFFLEdBQUdlLE1BQU0sQ0FBRTtRQUM1QixLQUFLLENBQUNBO1FBQ05iLE9BQU9DLGNBQWMsQ0FBQyxJQUFJLEVBQUUsVUFBVTtZQUNsQ0MsWUFBWTtZQUNaQyxjQUFjO1lBQ2RDLFVBQVU7WUFDVkMsT0FBT1osa0NBQUNBLENBQUNhLE1BQU0sQ0FBQztnQkFDWkMsV0FBV2Qsa0NBQUNBLENBQUNlLE1BQU0sR0FBR0MsUUFBUSxDQUFDO2dCQUMvQkssTUFBTXJCLGtDQUFDQSxDQUFDZSxNQUFNLEdBQUdDLFFBQVEsQ0FBQztZQUM5QjtRQUNKO1FBQ0FULE9BQU9DLGNBQWMsQ0FBQyxJQUFJLEVBQUUsUUFBUTtZQUNoQ0MsWUFBWTtZQUNaQyxjQUFjO1lBQ2RDLFVBQVU7WUFDVkMsT0FBTztRQUNYO1FBQ0FMLE9BQU9DLGNBQWMsQ0FBQyxJQUFJLEVBQUUsZUFBZTtZQUN2Q0MsWUFBWTtZQUNaQyxjQUFjO1lBQ2RDLFVBQVU7WUFDVkMsT0FBTztRQUNYO1FBQ0FMLE9BQU9DLGNBQWMsQ0FBQyxJQUFJLEVBQUUsU0FBUztZQUNqQ0MsWUFBWTtZQUNaQyxjQUFjO1lBQ2RDLFVBQVU7WUFDVkMsT0FBTyxLQUFLO1FBQ2hCO1FBQ0EsSUFBSSxDQUFDUCxLQUFLLEdBQUdBO0lBQ2pCO0lBQ0EsTUFBTVksTUFBTSxFQUFFSCxTQUFTLEVBQUVPLElBQUksRUFBRSxFQUFFO1FBQzdCLE1BQU0sSUFBSSxDQUFDaEIsS0FBSyxDQUFDaUIsU0FBUyxDQUFDUixXQUFXTztRQUN0QyxPQUFPO0lBQ1g7QUFDSiIsInNvdXJjZXMiOlsid2VicGFjazovL2JldHRlci10b2RvLy4vbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L3Rvb2xzL2ZzLmpzPzU3OTMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgeiB9IGZyb20gXCJ6b2RcIjtcbmltcG9ydCB7IFN0cnVjdHVyZWRUb29sIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS90b29sc1wiO1xuLyoqXG4gKiBDbGFzcyBmb3IgcmVhZGluZyBmaWxlcyBmcm9tIHRoZSBkaXNrLiBFeHRlbmRzIHRoZSBTdHJ1Y3R1cmVkVG9vbFxuICogY2xhc3MuXG4gKi9cbmV4cG9ydCBjbGFzcyBSZWFkRmlsZVRvb2wgZXh0ZW5kcyBTdHJ1Y3R1cmVkVG9vbCB7XG4gICAgc3RhdGljIGxjX25hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIlJlYWRGaWxlVG9vbFwiO1xuICAgIH1cbiAgICBjb25zdHJ1Y3Rvcih7IHN0b3JlIH0pIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwic2NoZW1hXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB6Lm9iamVjdCh7XG4gICAgICAgICAgICAgICAgZmlsZV9wYXRoOiB6LnN0cmluZygpLmRlc2NyaWJlKFwibmFtZSBvZiBmaWxlXCIpLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm5hbWVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFwicmVhZF9maWxlXCJcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImRlc2NyaXB0aW9uXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBcIlJlYWQgZmlsZSBmcm9tIGRpc2tcIlxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwic3RvcmVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zdG9yZSA9IHN0b3JlO1xuICAgIH1cbiAgICBhc3luYyBfY2FsbCh7IGZpbGVfcGF0aCB9KSB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnN0b3JlLnJlYWRGaWxlKGZpbGVfcGF0aCk7XG4gICAgfVxufVxuLyoqXG4gKiBDbGFzcyBmb3Igd3JpdGluZyBkYXRhIHRvIGZpbGVzIG9uIHRoZSBkaXNrLiBFeHRlbmRzIHRoZSBTdHJ1Y3R1cmVkVG9vbFxuICogY2xhc3MuXG4gKi9cbmV4cG9ydCBjbGFzcyBXcml0ZUZpbGVUb29sIGV4dGVuZHMgU3RydWN0dXJlZFRvb2wge1xuICAgIHN0YXRpYyBsY19uYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJXcml0ZUZpbGVUb29sXCI7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKHsgc3RvcmUsIC4uLnJlc3QgfSkge1xuICAgICAgICBzdXBlcihyZXN0KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwic2NoZW1hXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB6Lm9iamVjdCh7XG4gICAgICAgICAgICAgICAgZmlsZV9wYXRoOiB6LnN0cmluZygpLmRlc2NyaWJlKFwibmFtZSBvZiBmaWxlXCIpLFxuICAgICAgICAgICAgICAgIHRleHQ6IHouc3RyaW5nKCkuZGVzY3JpYmUoXCJ0ZXh0IHRvIHdyaXRlIHRvIGZpbGVcIiksXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibmFtZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogXCJ3cml0ZV9maWxlXCJcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImRlc2NyaXB0aW9uXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBcIldyaXRlIGZpbGUgZnJvbSBkaXNrXCJcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInN0b3JlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc3RvcmUgPSBzdG9yZTtcbiAgICB9XG4gICAgYXN5bmMgX2NhbGwoeyBmaWxlX3BhdGgsIHRleHQgfSkge1xuICAgICAgICBhd2FpdCB0aGlzLnN0b3JlLndyaXRlRmlsZShmaWxlX3BhdGgsIHRleHQpO1xuICAgICAgICByZXR1cm4gXCJGaWxlIHdyaXR0ZW4gdG8gc3VjY2Vzc2Z1bGx5LlwiO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6WyJ6IiwiU3RydWN0dXJlZFRvb2wiLCJSZWFkRmlsZVRvb2wiLCJsY19uYW1lIiwiY29uc3RydWN0b3IiLCJzdG9yZSIsImFyZ3VtZW50cyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwidmFsdWUiLCJvYmplY3QiLCJmaWxlX3BhdGgiLCJzdHJpbmciLCJkZXNjcmliZSIsIl9jYWxsIiwicmVhZEZpbGUiLCJXcml0ZUZpbGVUb29sIiwicmVzdCIsInRleHQiLCJ3cml0ZUZpbGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/langchain/dist/tools/fs.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/langchain/dist/tools/index.js":
/*!****************************************************!*\
  !*** ./node_modules/langchain/dist/tools/index.js ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChainTool: () => (/* reexport safe */ _chain_js__WEBPACK_IMPORTED_MODULE_2__.ChainTool),\n/* harmony export */   DynamicStructuredTool: () => (/* reexport safe */ _dynamic_js__WEBPACK_IMPORTED_MODULE_1__.DynamicStructuredTool),\n/* harmony export */   DynamicTool: () => (/* reexport safe */ _dynamic_js__WEBPACK_IMPORTED_MODULE_1__.DynamicTool),\n/* harmony export */   JsonGetValueTool: () => (/* reexport safe */ _json_js__WEBPACK_IMPORTED_MODULE_3__.JsonGetValueTool),\n/* harmony export */   JsonListKeysTool: () => (/* reexport safe */ _json_js__WEBPACK_IMPORTED_MODULE_3__.JsonListKeysTool),\n/* harmony export */   JsonSpec: () => (/* reexport safe */ _json_js__WEBPACK_IMPORTED_MODULE_3__.JsonSpec),\n/* harmony export */   ReadFileTool: () => (/* reexport safe */ _fs_js__WEBPACK_IMPORTED_MODULE_6__.ReadFileTool),\n/* harmony export */   RequestsGetTool: () => (/* reexport safe */ _requests_js__WEBPACK_IMPORTED_MODULE_4__.RequestsGetTool),\n/* harmony export */   RequestsPostTool: () => (/* reexport safe */ _requests_js__WEBPACK_IMPORTED_MODULE_4__.RequestsPostTool),\n/* harmony export */   StructuredTool: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_0__.StructuredTool),\n/* harmony export */   Tool: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_0__.Tool),\n/* harmony export */   VectorStoreQATool: () => (/* reexport safe */ _vectorstore_js__WEBPACK_IMPORTED_MODULE_5__.VectorStoreQATool),\n/* harmony export */   WriteFileTool: () => (/* reexport safe */ _fs_js__WEBPACK_IMPORTED_MODULE_6__.WriteFileTool),\n/* harmony export */   formatToOpenAIFunction: () => (/* reexport safe */ _convert_to_openai_js__WEBPACK_IMPORTED_MODULE_7__.formatToOpenAIFunction),\n/* harmony export */   formatToOpenAITool: () => (/* reexport safe */ _convert_to_openai_js__WEBPACK_IMPORTED_MODULE_7__.formatToOpenAITool)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"(rsc)/./node_modules/langchain/dist/tools/base.js\");\n/* harmony import */ var _dynamic_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./dynamic.js */ \"(rsc)/./node_modules/langchain/dist/tools/dynamic.js\");\n/* harmony import */ var _chain_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chain.js */ \"(rsc)/./node_modules/langchain/dist/tools/chain.js\");\n/* harmony import */ var _json_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./json.js */ \"(rsc)/./node_modules/langchain/dist/tools/json.js\");\n/* harmony import */ var _requests_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./requests.js */ \"(rsc)/./node_modules/langchain/dist/tools/requests.js\");\n/* harmony import */ var _vectorstore_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./vectorstore.js */ \"(rsc)/./node_modules/langchain/dist/tools/vectorstore.js\");\n/* harmony import */ var _fs_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./fs.js */ \"(rsc)/./node_modules/langchain/dist/tools/fs.js\");\n/* harmony import */ var _convert_to_openai_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./convert_to_openai.js */ \"(rsc)/./node_modules/langchain/dist/tools/convert_to_openai.js\");\n\n\n\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvdG9vbHMvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBaUQ7QUFDa0I7QUFDNUI7QUFDbUM7QUFDUjtBQUNiO0FBQ0M7QUFDK0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iZXR0ZXItdG9kby8uL25vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC90b29scy9pbmRleC5qcz8xZGViIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB7IFRvb2wsIFN0cnVjdHVyZWRUb29sIH0gZnJvbSBcIi4vYmFzZS5qc1wiO1xuZXhwb3J0IHsgRHluYW1pY1Rvb2wsIER5bmFtaWNTdHJ1Y3R1cmVkVG9vbCwgfSBmcm9tIFwiLi9keW5hbWljLmpzXCI7XG5leHBvcnQgeyBDaGFpblRvb2wgfSBmcm9tIFwiLi9jaGFpbi5qc1wiO1xuZXhwb3J0IHsgSnNvblNwZWMsIEpzb25MaXN0S2V5c1Rvb2wsIEpzb25HZXRWYWx1ZVRvb2wsIH0gZnJvbSBcIi4vanNvbi5qc1wiO1xuZXhwb3J0IHsgUmVxdWVzdHNHZXRUb29sLCBSZXF1ZXN0c1Bvc3RUb29sIH0gZnJvbSBcIi4vcmVxdWVzdHMuanNcIjtcbmV4cG9ydCB7IFZlY3RvclN0b3JlUUFUb29sIH0gZnJvbSBcIi4vdmVjdG9yc3RvcmUuanNcIjtcbmV4cG9ydCB7IFJlYWRGaWxlVG9vbCwgV3JpdGVGaWxlVG9vbCB9IGZyb20gXCIuL2ZzLmpzXCI7XG5leHBvcnQgeyBmb3JtYXRUb09wZW5BSUZ1bmN0aW9uLCBmb3JtYXRUb09wZW5BSVRvb2wsIH0gZnJvbSBcIi4vY29udmVydF90b19vcGVuYWkuanNcIjtcbiJdLCJuYW1lcyI6WyJUb29sIiwiU3RydWN0dXJlZFRvb2wiLCJEeW5hbWljVG9vbCIsIkR5bmFtaWNTdHJ1Y3R1cmVkVG9vbCIsIkNoYWluVG9vbCIsIkpzb25TcGVjIiwiSnNvbkxpc3RLZXlzVG9vbCIsIkpzb25HZXRWYWx1ZVRvb2wiLCJSZXF1ZXN0c0dldFRvb2wiLCJSZXF1ZXN0c1Bvc3RUb29sIiwiVmVjdG9yU3RvcmVRQVRvb2wiLCJSZWFkRmlsZVRvb2wiLCJXcml0ZUZpbGVUb29sIiwiZm9ybWF0VG9PcGVuQUlGdW5jdGlvbiIsImZvcm1hdFRvT3BlbkFJVG9vbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/langchain/dist/tools/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/langchain/dist/tools/json.js":
/*!***************************************************!*\
  !*** ./node_modules/langchain/dist/tools/json.js ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JsonGetValueTool: () => (/* binding */ JsonGetValueTool),\n/* harmony export */   JsonListKeysTool: () => (/* binding */ JsonListKeysTool),\n/* harmony export */   JsonSpec: () => (/* binding */ JsonSpec)\n/* harmony export */ });\n/* harmony import */ var jsonpointer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jsonpointer */ \"(rsc)/./node_modules/jsonpointer/jsonpointer.js\");\n/* harmony import */ var _langchain_core_load_serializable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @langchain/core/load/serializable */ \"(rsc)/./node_modules/@langchain/core/load/serializable.js\");\n/* harmony import */ var _langchain_core_tools__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @langchain/core/tools */ \"(rsc)/./node_modules/@langchain/core/tools.js\");\n\n\n\n/**\n * Represents a JSON object in the LangChain framework. Provides methods\n * to get keys and values from the JSON object.\n */ class JsonSpec extends _langchain_core_load_serializable__WEBPACK_IMPORTED_MODULE_1__.Serializable {\n    constructor(obj, max_value_length = 4000){\n        super(...arguments);\n        Object.defineProperty(this, \"lc_namespace\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: [\n                \"langchain\",\n                \"tools\",\n                \"json\"\n            ]\n        });\n        Object.defineProperty(this, \"obj\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"maxValueLength\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 4000\n        });\n        this.obj = obj;\n        this.maxValueLength = max_value_length;\n    }\n    /**\n     * Retrieves all keys at a given path in the JSON object.\n     * @param input The path to the keys in the JSON object, provided as a string in JSON pointer syntax.\n     * @returns A string containing all keys at the given path, separated by commas.\n     */ getKeys(input) {\n        const pointer = jsonpointer__WEBPACK_IMPORTED_MODULE_0__.compile(input);\n        const res = pointer.get(this.obj);\n        if (typeof res === \"object\" && !Array.isArray(res) && res !== null) {\n            return Object.keys(res).map((i)=>i.replaceAll(\"~\", \"~0\").replaceAll(\"/\", \"~1\")).join(\", \");\n        }\n        throw new Error(`Value at ${input} is not a dictionary, get the value directly instead.`);\n    }\n    /**\n     * Retrieves the value at a given path in the JSON object.\n     * @param input The path to the value in the JSON object, provided as a string in JSON pointer syntax.\n     * @returns The value at the given path in the JSON object, as a string. If the value is a large dictionary or exceeds the maximum length, a message is returned instead.\n     */ getValue(input) {\n        const pointer = jsonpointer__WEBPACK_IMPORTED_MODULE_0__.compile(input);\n        const res = pointer.get(this.obj);\n        if (res === null || res === undefined) {\n            throw new Error(`Value at ${input} is null or undefined.`);\n        }\n        const str = typeof res === \"object\" ? JSON.stringify(res) : res.toString();\n        if (typeof res === \"object\" && !Array.isArray(res) && str.length > this.maxValueLength) {\n            return `Value is a large dictionary, should explore its keys directly.`;\n        }\n        if (str.length > this.maxValueLength) {\n            return `${str.slice(0, this.maxValueLength)}...`;\n        }\n        return str;\n    }\n}\n/**\n * A tool in the LangChain framework that lists all keys at a given path\n * in a JSON object.\n */ class JsonListKeysTool extends _langchain_core_tools__WEBPACK_IMPORTED_MODULE_2__.Tool {\n    static lc_name() {\n        return \"JsonListKeysTool\";\n    }\n    constructor(fields){\n        if (!(\"jsonSpec\" in fields)) {\n            // eslint-disable-next-line no-param-reassign\n            fields = {\n                jsonSpec: fields\n            };\n        }\n        super(fields);\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: \"json_list_keys\"\n        });\n        Object.defineProperty(this, \"jsonSpec\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"description\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: `Can be used to list all keys at a given path.\n    Before calling this you should be SURE that the path to this exists.\n    The input is a text representation of the path to the json as json pointer syntax (e.g. /key1/0/key2).`\n        });\n        this.jsonSpec = fields.jsonSpec;\n    }\n    /** @ignore */ async _call(input) {\n        try {\n            return this.jsonSpec.getKeys(input);\n        } catch (error) {\n            return `${error}`;\n        }\n    }\n}\n/**\n * A tool in the LangChain framework that retrieves the value at a given\n * path in a JSON object.\n */ class JsonGetValueTool extends _langchain_core_tools__WEBPACK_IMPORTED_MODULE_2__.Tool {\n    static lc_name() {\n        return \"JsonGetValueTool\";\n    }\n    constructor(jsonSpec){\n        super();\n        Object.defineProperty(this, \"jsonSpec\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: jsonSpec\n        });\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: \"json_get_value\"\n        });\n        Object.defineProperty(this, \"description\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: `Can be used to see value in string format at a given path.\n    Before calling this you should be SURE that the path to this exists.\n    The input is a text representation of the path to the json as json pointer syntax (e.g. /key1/0/key2).`\n        });\n    }\n    /** @ignore */ async _call(input) {\n        try {\n            return this.jsonSpec.getValue(input);\n        } catch (error) {\n            return `${error}`;\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvdG9vbHMvanNvbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBc0M7QUFDMkI7QUFDcEI7QUFDN0M7OztDQUdDLEdBQ00sTUFBTUcsaUJBQWlCRiwyRUFBWUE7SUFDdENHLFlBQVlDLEdBQUcsRUFBRUMsbUJBQW1CLElBQUksQ0FBRTtRQUN0QyxLQUFLLElBQUlDO1FBQ1RDLE9BQU9DLGNBQWMsQ0FBQyxJQUFJLEVBQUUsZ0JBQWdCO1lBQ3hDQyxZQUFZO1lBQ1pDLGNBQWM7WUFDZEMsVUFBVTtZQUNWQyxPQUFPO2dCQUFDO2dCQUFhO2dCQUFTO2FBQU87UUFDekM7UUFDQUwsT0FBT0MsY0FBYyxDQUFDLElBQUksRUFBRSxPQUFPO1lBQy9CQyxZQUFZO1lBQ1pDLGNBQWM7WUFDZEMsVUFBVTtZQUNWQyxPQUFPLEtBQUs7UUFDaEI7UUFDQUwsT0FBT0MsY0FBYyxDQUFDLElBQUksRUFBRSxrQkFBa0I7WUFDMUNDLFlBQVk7WUFDWkMsY0FBYztZQUNkQyxVQUFVO1lBQ1ZDLE9BQU87UUFDWDtRQUNBLElBQUksQ0FBQ1IsR0FBRyxHQUFHQTtRQUNYLElBQUksQ0FBQ1MsY0FBYyxHQUFHUjtJQUMxQjtJQUNBOzs7O0tBSUMsR0FDRFMsUUFBUUMsS0FBSyxFQUFFO1FBQ1gsTUFBTUMsVUFBVWpCLGdEQUFtQixDQUFDZ0I7UUFDcEMsTUFBTUcsTUFBTUYsUUFBUUcsR0FBRyxDQUFDLElBQUksQ0FBQ2YsR0FBRztRQUNoQyxJQUFJLE9BQU9jLFFBQVEsWUFBWSxDQUFDRSxNQUFNQyxPQUFPLENBQUNILFFBQVFBLFFBQVEsTUFBTTtZQUNoRSxPQUFPWCxPQUFPZSxJQUFJLENBQUNKLEtBQ2RLLEdBQUcsQ0FBQyxDQUFDQyxJQUFNQSxFQUFFQyxVQUFVLENBQUMsS0FBSyxNQUFNQSxVQUFVLENBQUMsS0FBSyxPQUNuREMsSUFBSSxDQUFDO1FBQ2Q7UUFDQSxNQUFNLElBQUlDLE1BQU0sQ0FBQyxTQUFTLEVB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QUMsRUFBRUEsTUFBTSxDQUFDO1FBQ3JCO0lBQ0o7QUFDSiIsInNvdXJjZXMiOlsid2VicGFjazovL2JldHRlci10b2RvLy4vbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L3Rvb2xzL2pzb24uanM/MjAwMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQganNvbnBvaW50ZXIgZnJvbSBcImpzb25wb2ludGVyXCI7XG5pbXBvcnQgeyBTZXJpYWxpemFibGUgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL2xvYWQvc2VyaWFsaXphYmxlXCI7XG5pbXBvcnQgeyBUb29sIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS90b29sc1wiO1xuLyoqXG4gKiBSZXByZXNlbnRzIGEgSlNPTiBvYmplY3QgaW4gdGhlIExhbmdDaGFpbiBmcmFtZXdvcmsuIFByb3ZpZGVzIG1ldGhvZHNcbiAqIHRvIGdldCBrZXlzIGFuZCB2YWx1ZXMgZnJvbSB0aGUgSlNPTiBvYmplY3QuXG4gKi9cbmV4cG9ydCBjbGFzcyBKc29uU3BlYyBleHRlbmRzIFNlcmlhbGl6YWJsZSB7XG4gICAgY29uc3RydWN0b3Iob2JqLCBtYXhfdmFsdWVfbGVuZ3RoID0gNDAwMCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsY19uYW1lc3BhY2VcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFtcImxhbmdjaGFpblwiLCBcInRvb2xzXCIsIFwianNvblwiXVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwib2JqXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm1heFZhbHVlTGVuZ3RoXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiA0MDAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm9iaiA9IG9iajtcbiAgICAgICAgdGhpcy5tYXhWYWx1ZUxlbmd0aCA9IG1heF92YWx1ZV9sZW5ndGg7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyBhbGwga2V5cyBhdCBhIGdpdmVuIHBhdGggaW4gdGhlIEpTT04gb2JqZWN0LlxuICAgICAqIEBwYXJhbSBpbnB1dCBUaGUgcGF0aCB0byB0aGUga2V5cyBpbiB0aGUgSlNPTiBvYmplY3QsIHByb3ZpZGVkIGFzIGEgc3RyaW5nIGluIEpTT04gcG9pbnRlciBzeW50YXguXG4gICAgICogQHJldHVybnMgQSBzdHJpbmcgY29udGFpbmluZyBhbGwga2V5cyBhdCB0aGUgZ2l2ZW4gcGF0aCwgc2VwYXJhdGVkIGJ5IGNvbW1hcy5cbiAgICAgKi9cbiAgICBnZXRLZXlzKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHBvaW50ZXIgPSBqc29ucG9pbnRlci5jb21waWxlKGlucHV0KTtcbiAgICAgICAgY29uc3QgcmVzID0gcG9pbnRlci5nZXQodGhpcy5vYmopO1xuICAgICAgICBpZiAodHlwZW9mIHJlcyA9PT0gXCJvYmplY3RcIiAmJiAhQXJyYXkuaXNBcnJheShyZXMpICYmIHJlcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHJlcylcbiAgICAgICAgICAgICAgICAubWFwKChpKSA9PiBpLnJlcGxhY2VBbGwoXCJ+XCIsIFwifjBcIikucmVwbGFjZUFsbChcIi9cIiwgXCJ+MVwiKSlcbiAgICAgICAgICAgICAgICAuam9pbihcIiwgXCIpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVmFsdWUgYXQgJHtpbnB1dH0gaXMgbm90IGEgZGljdGlvbmFyeSwgZ2V0IHRoZSB2YWx1ZSBkaXJlY3RseSBpbnN0ZWFkLmApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIHZhbHVlIGF0IGEgZ2l2ZW4gcGF0aCBpbiB0aGUgSlNPTiBvYmplY3QuXG4gICAgICogQHBhcmFtIGlucHV0IFRoZSBwYXRoIHRvIHRoZSB2YWx1ZSBpbiB0aGUgSlNPTiBvYmplY3QsIHByb3ZpZGVkIGFzIGEgc3RyaW5nIGluIEpTT04gcG9pbnRlciBzeW50YXguXG4gICAgICogQHJldHVybnMgVGhlIHZhbHVlIGF0IHRoZSBnaXZlbiBwYXRoIGluIHRoZSBKU09OIG9iamVjdCwgYXMgYSBzdHJpbmcuIElmIHRoZSB2YWx1ZSBpcyBhIGxhcmdlIGRpY3Rpb25hcnkgb3IgZXhjZWVkcyB0aGUgbWF4aW11bSBsZW5ndGgsIGEgbWVzc2FnZSBpcyByZXR1cm5lZCBpbnN0ZWFkLlxuICAgICAqL1xuICAgIGdldFZhbHVlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHBvaW50ZXIgPSBqc29ucG9pbnRlci5jb21waWxlKGlucHV0KTtcbiAgICAgICAgY29uc3QgcmVzID0gcG9pbnRlci5nZXQodGhpcy5vYmopO1xuICAgICAgICBpZiAocmVzID09PSBudWxsIHx8IHJlcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFZhbHVlIGF0ICR7aW5wdXR9IGlzIG51bGwgb3IgdW5kZWZpbmVkLmApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN0ciA9IHR5cGVvZiByZXMgPT09IFwib2JqZWN0XCIgPyBKU09OLnN0cmluZ2lmeShyZXMpIDogcmVzLnRvU3RyaW5nKCk7XG4gICAgICAgIGlmICh0eXBlb2YgcmVzID09PSBcIm9iamVjdFwiICYmXG4gICAgICAgICAgICAhQXJyYXkuaXNBcnJheShyZXMpICYmXG4gICAgICAgICAgICBzdHIubGVuZ3RoID4gdGhpcy5tYXhWYWx1ZUxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGBWYWx1ZSBpcyBhIGxhcmdlIGRpY3Rpb25hcnksIHNob3VsZCBleHBsb3JlIGl0cyBrZXlzIGRpcmVjdGx5LmA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0ci5sZW5ndGggPiB0aGlzLm1heFZhbHVlTGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gYCR7c3RyLnNsaWNlKDAsIHRoaXMubWF4VmFsdWVMZW5ndGgpfS4uLmA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG59XG4vKipcbiAqIEEgdG9vbCBpbiB0aGUgTGFuZ0NoYWluIGZyYW1ld29yayB0aGF0IGxpc3RzIGFsbCBrZXlzIGF0IGEgZ2l2ZW4gcGF0aFxuICogaW4gYSBKU09OIG9iamVjdC5cbiAqL1xuZXhwb3J0IGNsYXNzIEpzb25MaXN0S2V5c1Rvb2wgZXh0ZW5kcyBUb29sIHtcbiAgICBzdGF0aWMgbGNfbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiSnNvbkxpc3RLZXlzVG9vbFwiO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihmaWVsZHMpIHtcbiAgICAgICAgaWYgKCEoXCJqc29uU3BlY1wiIGluIGZpZWxkcykpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICAgICAgZmllbGRzID0geyBqc29uU3BlYzogZmllbGRzIH07XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIoZmllbGRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibmFtZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogXCJqc29uX2xpc3Rfa2V5c1wiXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJqc29uU3BlY1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJkZXNjcmlwdGlvblwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogYENhbiBiZSB1c2VkIHRvIGxpc3QgYWxsIGtleXMgYXQgYSBnaXZlbiBwYXRoLlxuICAgIEJlZm9yZSBjYWxsaW5nIHRoaXMgeW91IHNob3VsZCBiZSBTVVJFIHRoYXQgdGhlIHBhdGggdG8gdGhpcyBleGlzdHMuXG4gICAgVGhlIGlucHV0IGlzIGEgdGV4dCByZXByZXNlbnRhdGlvbiBvZiB0aGUgcGF0aCB0byB0aGUganNvbiBhcyBqc29uIHBvaW50ZXIgc3ludGF4IChlLmcuIC9rZXkxLzAva2V5MikuYFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5qc29uU3BlYyA9IGZpZWxkcy5qc29uU3BlYztcbiAgICB9XG4gICAgLyoqIEBpZ25vcmUgKi9cbiAgICBhc3luYyBfY2FsbChpbnB1dCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuanNvblNwZWMuZ2V0S2V5cyhpbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gYCR7ZXJyb3J9YDtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogQSB0b29sIGluIHRoZSBMYW5nQ2hhaW4gZnJhbWV3b3JrIHRoYXQgcmV0cmlldmVzIHRoZSB2YWx1ZSBhdCBhIGdpdmVuXG4gKiBwYXRoIGluIGEgSlNPTiBvYmplY3QuXG4gKi9cbmV4cG9ydCBjbGFzcyBKc29uR2V0VmFsdWVUb29sIGV4dGVuZHMgVG9vbCB7XG4gICAgc3RhdGljIGxjX25hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIkpzb25HZXRWYWx1ZVRvb2xcIjtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoanNvblNwZWMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwianNvblNwZWNcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IGpzb25TcGVjXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJuYW1lXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBcImpzb25fZ2V0X3ZhbHVlXCJcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImRlc2NyaXB0aW9uXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBgQ2FuIGJlIHVzZWQgdG8gc2VlIHZhbHVlIGluIHN0cmluZyBmb3JtYXQgYXQgYSBnaXZlbiBwYXRoLlxuICAgIEJlZm9yZSBjYWxsaW5nIHRoaXMgeW91IHNob3VsZCBiZSBTVVJFIHRoYXQgdGhlIHBhdGggdG8gdGhpcyBleGlzdHMuXG4gICAgVGhlIGlucHV0IGlzIGEgdGV4dCByZXByZXNlbnRhdGlvbiBvZiB0aGUgcGF0aCB0byB0aGUganNvbiBhcyBqc29uIHBvaW50ZXIgc3ludGF4IChlLmcuIC9rZXkxLzAva2V5MikuYFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqIEBpZ25vcmUgKi9cbiAgICBhc3luYyBfY2FsbChpbnB1dCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuanNvblNwZWMuZ2V0VmFsdWUoaW5wdXQpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIGAke2Vycm9yfWA7XG4gICAgICAgIH1cbiAgICB9XG59XG4iXSwibmFtZXMiOlsianNvbnBvaW50ZXIiLCJTZXJpYWxpemFibGUiLCJUb29sIiwiSnNvblNwZWMiLCJjb25zdHJ1Y3RvciIsIm9iaiIsIm1heF92YWx1ZV9sZW5ndGgiLCJhcmd1bWVudHMiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsInZhbHVlIiwibWF4VmFsdWVMZW5ndGgiLCJnZXRLZXlzIiwiaW5wdXQiLCJwb2ludGVyIiwiY29tcGlsZSIsInJlcyIsImdldCIsIkFycmF5IiwiaXNBcnJheSIsImtleXMiLCJtYXAiLCJpIiwicmVwbGFjZUFsbCIsImpvaW4iLCJFcnJvciIsImdldFZhbHVlIiwidW5kZWZpbmVkIiwic3RyIiwiSlNPTiIsInN0cmluZ2lmeSIsInRvU3RyaW5nIiwibGVuZ3RoIiwic2xpY2UiLCJKc29uTGlzdEtleXNUb29sIiwibGNfbmFtZSIsImZpZWxkcyIsImpzb25TcGVjIiwiX2NhbGwiLCJlcnJvciIsIkpzb25HZXRWYWx1ZVRvb2wiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/langchain/dist/tools/json.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/langchain/dist/tools/requests.js":
/*!*******************************************************!*\
  !*** ./node_modules/langchain/dist/tools/requests.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RequestsGetTool: () => (/* binding */ RequestsGetTool),\n/* harmony export */   RequestsPostTool: () => (/* binding */ RequestsPostTool)\n/* harmony export */ });\n/* harmony import */ var _langchain_core_tools__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @langchain/core/tools */ \"(rsc)/./node_modules/@langchain/core/tools.js\");\n\n/**\n * Class for making GET requests. Extends the Tool class and implements\n * the RequestTool interface. The input should be a URL string, and the\n * output will be the text response of the GET request.\n */ class RequestsGetTool extends _langchain_core_tools__WEBPACK_IMPORTED_MODULE_0__.Tool {\n    static lc_name() {\n        return \"RequestsGetTool\";\n    }\n    constructor(headers = {}, { maxOutputLength } = {}){\n        super(...arguments);\n        Object.defineProperty(this, \"headers\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: headers\n        });\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: \"requests_get\"\n        });\n        Object.defineProperty(this, \"maxOutputLength\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 2000\n        });\n        Object.defineProperty(this, \"description\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: `A portal to the internet. Use this when you need to get specific content from a website.\n  Input should be a url string (i.e. \"https://www.google.com\"). The output will be the text response of the GET request.`\n        });\n        this.maxOutputLength = maxOutputLength ?? this.maxOutputLength;\n    }\n    /** @ignore */ async _call(input) {\n        const res = await fetch(input, {\n            headers: this.headers\n        });\n        const text = await res.text();\n        return text.slice(0, this.maxOutputLength);\n    }\n}\n/**\n * Class for making POST requests. Extends the Tool class and implements\n * the RequestTool interface. The input should be a JSON string with two\n * keys: 'url' and 'data'. The output will be the text response of the\n * POST request.\n */ class RequestsPostTool extends _langchain_core_tools__WEBPACK_IMPORTED_MODULE_0__.Tool {\n    static lc_name() {\n        return \"RequestsPostTool\";\n    }\n    constructor(headers = {}, { maxOutputLength } = {}){\n        super(...arguments);\n        Object.defineProperty(this, \"headers\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: headers\n        });\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: \"requests_post\"\n        });\n        Object.defineProperty(this, \"maxOutputLength\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: Infinity\n        });\n        Object.defineProperty(this, \"description\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: `Use this when you want to POST to a website.\n  Input should be a json string with two keys: \"url\" and \"data\".\n  The value of \"url\" should be a string, and the value of \"data\" should be a dictionary of\n  key-value pairs you want to POST to the url as a JSON body.\n  Be careful to always use double quotes for strings in the json string\n  The output will be the text response of the POST request.`\n        });\n        this.maxOutputLength = maxOutputLength ?? this.maxOutputLength;\n    }\n    /** @ignore */ async _call(input) {\n        try {\n            const { url, data } = JSON.parse(input);\n            const res = await fetch(url, {\n                method: \"POST\",\n                headers: this.headers,\n                body: JSON.stringify(data)\n            });\n            const text = await res.text();\n            return text.slice(0, this.maxOutputLength);\n        } catch (error) {\n            return `${error}`;\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvdG9vbHMvcmVxdWVzdHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTZDO0FBQzdDOzs7O0NBSUMsR0FDTSxNQUFNQyx3QkFBd0JELHVEQUFJQTtJQUNyQyxPQUFPRSxVQUFVO1FBQ2IsT0FBTztJQUNYO0lBQ0FDLFlBQVlDLFVBQVUsQ0FBQyxDQUFDLEVBQUUsRUFBRUMsZUFBZSxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUU7UUFDaEQsS0FBSyxJQUFJQztRQUNUQyxPQUFPQyxjQUFjLENBQUMsSUFBSSxFQUFFLFdBQVc7WUFDbkNDLFlBQVk7WUFDWkMsY0FBYztZQUNkQyxVQUFVO1lBQ1ZDLE9BQU9SO1FBQ1g7UUFDQUcsT0FBT0MsY0FBYyxDQUFDLElBQUksRUFBRSxRQUFRO1lBQ2hDQyxZQUFZO1lBQ1pDLGNBQWM7WUFDZEMsVUFBVTtZQUNWQyxPQUFPO1FBQ1g7UUFDQUwsT0FBT0MsY0FBYyxDQUFDLElBQUksRUFBRSxtQkFBbUI7WUFDM0NDLFlBQVk7WUFDWkMsY0FBYztZQUNkQyxVQUFVO1lBQ1ZDLE9BQU87UUFDWDtRQUNBTCxPQUFPQyxjQUFjLENBQUMsSUFBSSxFQUFFLGVBQWU7WUFDdkNDLFlBQVk7WUFDWkMsY0FBYztZQUNkQyxVQUFVO1lBQ1ZDLE9BQU8sQ0FBQzt3SEFDb0csQ0FBQztRQUNqSDtRQUNBLElBQUksQ0FBQ1AsZUFBZSxHQUFHQSxtQkFBbUIsSUFBSSxDQUFDQSxlQUFlO0lBQ2xFO0lBQ0EsWUFBWSxHQUNaLE1BQU1RLE1BQU1DLEtBQUssRUFBRTtRQUNmLE1BQU1DLE1BQU0sTUFBTUMsTUFBTUYsT0FBTztZQUMzQlYsU0FBUyxJQUFJLENBQUNBLE9BQU87UUFDekI7UUFDQSxNQUFNYSxPQUFPLE1BQU1GLElBQUlFLElBQUk7UUFDM0IsT0FBT0EsS0FBS0MsS0FBSyxDQUFDLEdBQUcsSUFBSSxDQUFDYixlQUFlO0lBQzdDO0FBQ0o7QUFDQTs7Ozs7Q0FLQyxHQUNNLE1BQU1jLHlCQUF5Qm5CLHVEQUFJQTtJQUN0QyxPQUFPRSxVQUFVO1FBQ2IsT0FBTztJQUNYO0lBQ0FDLFlBQVlDLFVBQVUsQ0FBQyxDQUFDLEVBQUUsRUFBRUMsZUFBZSxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUU7UUFDaEQsS0FBSyxJQUFJQztRQUNUQyxPQUFPQyxjQUFjLENBQUMsSUFBSSxFQUFFLFdBQVc7WUFDbkNDLFlBQVk7WUFDWkMsY0FBYztZQUNkQyxVQUFVO1lBQ1ZDLE9BQU9SO1FBQ1g7UUFDQUcsT0FBT0MsY0FBYyxDQUFDLElBQUksRUFBRSxRQUFRO1lBQ2hDQyxZQUFZO1lBQ1pDLGNBQWM7WUFDZEMsVUFBVTtZQUNWQyxPQUFPO1FBQ1g7UUFDQUwsT0FBT0MsY0FBYyxDQUFDLElBQUksRUFBRSxtQkFBbUI7WUFDM0NDLFlBQVk7WUFDWkMsY0FBYztZQUNkQyxVQUFVO1lBQ1ZDLE9BQU9RO1FBQ1g7UUFDQWIsT0FBT0MsY0FBYyxDQUFDLElBQUksRUFBRSxlQUFlO1lBQ3ZDQyxZQUFZO1lBQ1pDLGNBQWM7WUFDZEMsVUFBVTtZQUNWQyxPQUFPLENBQUM7Ozs7OzJEQUt1QyxDQUFDO1FBQ3BEO1FBQ0EsSUFBSSxDQUFDUCxlQUFlLEdBQUdBLG1CQUFtQixJQUFJLENBQUNBLGVBQWU7SUFDbEU7SUFDQSxZQUFZLEdBQ1osTUFBTVEsTUFBTUMsS0FBSyxFQUFFO1FBQ2YsSUFBSTtZQUNBLE1BQU0sRUFBRU8sR0FBRyxFQUFFQyxJQUFJLEVBQUUsR0FBR0MsS0FBS0MsS0FBSyxDQUFDVjtZQUNqQyxNQUFNQyxNQUFNLE1BQU1DLE1BQU1LLEtBQUs7Z0JBQ3pCSSxRQUFRO2dCQUNSckIsU0FBUyxJQUFJLENBQUNBLE9BQU87Z0JBQ3JCc0IsTUFBTUgsS0FBS0ksU0FBUyxDQUFDTDtZQUN6QjtZQUNBLE1BQU1MLE9BQU8sTUFBTUYsSUFBSUUsSUFBSTtZQUMzQixPQUFPQSxLQUFLQyxLQUFLLENBQUMsR0FBRyxJQUFJLENBQUNiLGVBQWU7UUFDN0MsRUFDQSxPQUFPdUIsT0FBTztZQUNWLE9BQU8sQ0FBQyxFQUFFQSxNQUFNLENBQUM7UUFDckI7SUFDSjtBQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmV0dGVyLXRvZG8vLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvdG9vbHMvcmVxdWVzdHMuanM/MDM3YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBUb29sIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS90b29sc1wiO1xuLyoqXG4gKiBDbGFzcyBmb3IgbWFraW5nIEdFVCByZXF1ZXN0cy4gRXh0ZW5kcyB0aGUgVG9vbCBjbGFzcyBhbmQgaW1wbGVtZW50c1xuICogdGhlIFJlcXVlc3RUb29sIGludGVyZmFjZS4gVGhlIGlucHV0IHNob3VsZCBiZSBhIFVSTCBzdHJpbmcsIGFuZCB0aGVcbiAqIG91dHB1dCB3aWxsIGJlIHRoZSB0ZXh0IHJlc3BvbnNlIG9mIHRoZSBHRVQgcmVxdWVzdC5cbiAqL1xuZXhwb3J0IGNsYXNzIFJlcXVlc3RzR2V0VG9vbCBleHRlbmRzIFRvb2wge1xuICAgIHN0YXRpYyBsY19uYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJSZXF1ZXN0c0dldFRvb2xcIjtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoaGVhZGVycyA9IHt9LCB7IG1heE91dHB1dExlbmd0aCB9ID0ge30pIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiaGVhZGVyc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogaGVhZGVyc1xuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibmFtZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogXCJyZXF1ZXN0c19nZXRcIlxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibWF4T3V0cHV0TGVuZ3RoXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiAyMDAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJkZXNjcmlwdGlvblwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogYEEgcG9ydGFsIHRvIHRoZSBpbnRlcm5ldC4gVXNlIHRoaXMgd2hlbiB5b3UgbmVlZCB0byBnZXQgc3BlY2lmaWMgY29udGVudCBmcm9tIGEgd2Vic2l0ZS5cbiAgSW5wdXQgc2hvdWxkIGJlIGEgdXJsIHN0cmluZyAoaS5lLiBcImh0dHBzOi8vd3d3Lmdvb2dsZS5jb21cIikuIFRoZSBvdXRwdXQgd2lsbCBiZSB0aGUgdGV4dCByZXNwb25zZSBvZiB0aGUgR0VUIHJlcXVlc3QuYFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5tYXhPdXRwdXRMZW5ndGggPSBtYXhPdXRwdXRMZW5ndGggPz8gdGhpcy5tYXhPdXRwdXRMZW5ndGg7XG4gICAgfVxuICAgIC8qKiBAaWdub3JlICovXG4gICAgYXN5bmMgX2NhbGwoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goaW5wdXQsIHtcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHRleHQgPSBhd2FpdCByZXMudGV4dCgpO1xuICAgICAgICByZXR1cm4gdGV4dC5zbGljZSgwLCB0aGlzLm1heE91dHB1dExlbmd0aCk7XG4gICAgfVxufVxuLyoqXG4gKiBDbGFzcyBmb3IgbWFraW5nIFBPU1QgcmVxdWVzdHMuIEV4dGVuZHMgdGhlIFRvb2wgY2xhc3MgYW5kIGltcGxlbWVudHNcbiAqIHRoZSBSZXF1ZXN0VG9vbCBpbnRlcmZhY2UuIFRoZSBpbnB1dCBzaG91bGQgYmUgYSBKU09OIHN0cmluZyB3aXRoIHR3b1xuICoga2V5czogJ3VybCcgYW5kICdkYXRhJy4gVGhlIG91dHB1dCB3aWxsIGJlIHRoZSB0ZXh0IHJlc3BvbnNlIG9mIHRoZVxuICogUE9TVCByZXF1ZXN0LlxuICovXG5leHBvcnQgY2xhc3MgUmVxdWVzdHNQb3N0VG9vbCBleHRlbmRzIFRvb2wge1xuICAgIHN0YXRpYyBsY19uYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJSZXF1ZXN0c1Bvc3RUb29sXCI7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGhlYWRlcnMgPSB7fSwgeyBtYXhPdXRwdXRMZW5ndGggfSA9IHt9KSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImhlYWRlcnNcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IGhlYWRlcnNcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm5hbWVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFwicmVxdWVzdHNfcG9zdFwiXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtYXhPdXRwdXRMZW5ndGhcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IEluZmluaXR5XG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJkZXNjcmlwdGlvblwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogYFVzZSB0aGlzIHdoZW4geW91IHdhbnQgdG8gUE9TVCB0byBhIHdlYnNpdGUuXG4gIElucHV0IHNob3VsZCBiZSBhIGpzb24gc3RyaW5nIHdpdGggdHdvIGtleXM6IFwidXJsXCIgYW5kIFwiZGF0YVwiLlxuICBUaGUgdmFsdWUgb2YgXCJ1cmxcIiBzaG91bGQgYmUgYSBzdHJpbmcsIGFuZCB0aGUgdmFsdWUgb2YgXCJkYXRhXCIgc2hvdWxkIGJlIGEgZGljdGlvbmFyeSBvZlxuICBrZXktdmFsdWUgcGFpcnMgeW91IHdhbnQgdG8gUE9TVCB0byB0aGUgdXJsIGFzIGEgSlNPTiBib2R5LlxuICBCZSBjYXJlZnVsIHRvIGFsd2F5cyB1c2UgZG91YmxlIHF1b3RlcyBmb3Igc3RyaW5ncyBpbiB0aGUganNvbiBzdHJpbmdcbiAgVGhlIG91dHB1dCB3aWxsIGJlIHRoZSB0ZXh0IHJlc3BvbnNlIG9mIHRoZSBQT1NUIHJlcXVlc3QuYFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5tYXhPdXRwdXRMZW5ndGggPSBtYXhPdXRwdXRMZW5ndGggPz8gdGhpcy5tYXhPdXRwdXRMZW5ndGg7XG4gICAgfVxuICAgIC8qKiBAaWdub3JlICovXG4gICAgYXN5bmMgX2NhbGwoaW5wdXQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHsgdXJsLCBkYXRhIH0gPSBKU09OLnBhcnNlKGlucHV0KTtcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKHVybCwge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCB0ZXh0ID0gYXdhaXQgcmVzLnRleHQoKTtcbiAgICAgICAgICAgIHJldHVybiB0ZXh0LnNsaWNlKDAsIHRoaXMubWF4T3V0cHV0TGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiBgJHtlcnJvcn1gO1xuICAgICAgICB9XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbIlRvb2wiLCJSZXF1ZXN0c0dldFRvb2wiLCJsY19uYW1lIiwiY29uc3RydWN0b3IiLCJoZWFkZXJzIiwibWF4T3V0cHV0TGVuZ3RoIiwiYXJndW1lbnRzIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJ2YWx1ZSIsIl9jYWxsIiwiaW5wdXQiLCJyZXMiLCJmZXRjaCIsInRleHQiLCJzbGljZSIsIlJlcXVlc3RzUG9zdFRvb2wiLCJJbmZpbml0eSIsInVybCIsImRhdGEiLCJKU09OIiwicGFyc2UiLCJtZXRob2QiLCJib2R5Iiwic3RyaW5naWZ5IiwiZXJyb3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/langchain/dist/tools/requests.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/langchain/dist/tools/vectorstore.js":
/*!**********************************************************!*\
  !*** ./node_modules/langchain/dist/tools/vectorstore.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   VectorStoreQATool: () => (/* binding */ VectorStoreQATool)\n/* harmony export */ });\n/* harmony import */ var _langchain_core_tools__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @langchain/core/tools */ \"(rsc)/./node_modules/@langchain/core/tools.js\");\n/* harmony import */ var _chains_vector_db_qa_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../chains/vector_db_qa.js */ \"(rsc)/./node_modules/langchain/dist/chains/vector_db_qa.js\");\n\n\n/**\n * A tool for the VectorDBQA chain to interact with a Vector Store. It is\n * used to answer questions about a specific topic. The input to this tool\n * should be a fully formed question.\n */ class VectorStoreQATool extends _langchain_core_tools__WEBPACK_IMPORTED_MODULE_0__.Tool {\n    static lc_name() {\n        return \"VectorStoreQATool\";\n    }\n    constructor(name, description, fields){\n        super(...arguments);\n        Object.defineProperty(this, \"vectorStore\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"llm\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"description\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"chain\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.name = name;\n        this.description = description;\n        this.vectorStore = fields.vectorStore;\n        this.llm = fields.llm;\n        this.chain = _chains_vector_db_qa_js__WEBPACK_IMPORTED_MODULE_1__.VectorDBQAChain.fromLLM(this.llm, this.vectorStore);\n    }\n    /**\n     * Returns a string that describes what the tool does.\n     * @param name The name of the tool.\n     * @param description A description of what the tool does.\n     * @returns A string that describes what the tool does.\n     */ static getDescription(name, description) {\n        return `Useful for when you need to answer questions about ${name}. Whenever you need information about ${description} you should ALWAYS use this. Input should be a fully formed question.`;\n    }\n    /** @ignore */ async _call(input) {\n        return this.chain.run(input);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvdG9vbHMvdmVjdG9yc3RvcmUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTZDO0FBQ2U7QUFDNUQ7Ozs7Q0FJQyxHQUNNLE1BQU1FLDBCQUEwQkYsdURBQUlBO0lBQ3ZDLE9BQU9HLFVBQVU7UUFDYixPQUFPO0lBQ1g7SUFDQUMsWUFBWUMsSUFBSSxFQUFFQyxXQUFXLEVBQUVDLE1BQU0sQ0FBRTtRQUNuQyxLQUFLLElBQUlDO1FBQ1RDLE9BQU9DLGNBQWMsQ0FBQyxJQUFJLEVBQUUsZUFBZTtZQUN2Q0MsWUFBWTtZQUNaQyxjQUFjO1lBQ2RDLFVBQVU7WUFDVkMsT0FBTyxLQUFLO1FBQ2hCO1FBQ0FMLE9BQU9DLGNBQWMsQ0FBQyxJQUFJLEVBQUUsT0FBTztZQUMvQkMsWUFBWTtZQUNaQyxjQUFjO1lBQ2RDLFVBQVU7WUFDVkMsT0FBTyxLQUFLO1FBQ2hCO1FBQ0FMLE9BQU9DLGNBQWMsQ0FBQyxJQUFJLEVBQUUsUUFBUTtZQUNoQ0MsWUFBWTtZQUNaQyxjQUFjO1lBQ2RDLFVBQVU7WUFDVkMsT0FBTyxLQUFLO1FBQ2hCO1FBQ0FMLE9BQU9DLGNBQWMsQ0FBQyxJQUFJLEVBQUUsZUFBZTtZQUN2Q0MsWUFBWTtZQUNaQyxjQUFjO1lBQ2RDLFVBQVU7WUFDVkMsT0FBTyxLQUFLO1FBQ2hCO1FBQ0FMLE9BQU9DLGNBQWMsQ0FBQyxJQUFJLEVBQUUsU0FBUztZQUNqQ0MsWUFBWTtZQUNaQyxjQUFjO1lBQ2RDLFVBQVU7WUFDVkMsT0FBTyxLQUFLO1FBQ2hCO1FBQ0EsSUFBSSxDQUFDVCxJQUFJLEdBQUdBO1FBQ1osSUFBSSxDQUFDQyxXQUFXLEdBQUdBO1FBQ25CLElBQUksQ0FBQ1MsV0FBVyxHQUFHUixPQUFPUSxXQUFXO1FBQ3JDLElBQUksQ0FBQ0MsR0FBRyxHQUFHVCxPQUFPUyxHQUFHO1FBQ3JCLElBQUksQ0FBQ0MsS0FBSyxHQUFHaEIsb0VBQWVBLENBQUNpQixPQUFPLENBQUMsSUFBSSxDQUFDRixHQUFHLEVBQUUsSUFBSSxDQUFDRCxXQUFXO0lBQ25FO0lBQ0E7Ozs7O0tBS0MsR0FDRCxPQUFPSSxlQUFlZCxJQUFJLEVBQUVDLFdBQVcsRUFBRTtRQUNyQyxPQUFPLENBQUMsbURBQW1ELEVBQUVELEtBQUssc0NBQXNDLEVBQUVDLFlBQVkscUVBQXFFLENBQUM7SUFDaE07SUFDQSxZQUFZLEdBQ1osTUFBTWMsTUFBTUMsS0FBSyxFQUFFO1FBQ2YsT0FBTyxJQUFJLENBQUNKLEtBQUssQ0FBQ0ssR0FBRyxDQUFDRDtJQUMxQjtBQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmV0dGVyLXRvZG8vLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvdG9vbHMvdmVjdG9yc3RvcmUuanM/Y2Q3OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBUb29sIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS90b29sc1wiO1xuaW1wb3J0IHsgVmVjdG9yREJRQUNoYWluIH0gZnJvbSBcIi4uL2NoYWlucy92ZWN0b3JfZGJfcWEuanNcIjtcbi8qKlxuICogQSB0b29sIGZvciB0aGUgVmVjdG9yREJRQSBjaGFpbiB0byBpbnRlcmFjdCB3aXRoIGEgVmVjdG9yIFN0b3JlLiBJdCBpc1xuICogdXNlZCB0byBhbnN3ZXIgcXVlc3Rpb25zIGFib3V0IGEgc3BlY2lmaWMgdG9waWMuIFRoZSBpbnB1dCB0byB0aGlzIHRvb2xcbiAqIHNob3VsZCBiZSBhIGZ1bGx5IGZvcm1lZCBxdWVzdGlvbi5cbiAqL1xuZXhwb3J0IGNsYXNzIFZlY3RvclN0b3JlUUFUb29sIGV4dGVuZHMgVG9vbCB7XG4gICAgc3RhdGljIGxjX25hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIlZlY3RvclN0b3JlUUFUb29sXCI7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKG5hbWUsIGRlc2NyaXB0aW9uLCBmaWVsZHMpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidmVjdG9yU3RvcmVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGxtXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm5hbWVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZGVzY3JpcHRpb25cIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY2hhaW5cIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICAgICAgICB0aGlzLnZlY3RvclN0b3JlID0gZmllbGRzLnZlY3RvclN0b3JlO1xuICAgICAgICB0aGlzLmxsbSA9IGZpZWxkcy5sbG07XG4gICAgICAgIHRoaXMuY2hhaW4gPSBWZWN0b3JEQlFBQ2hhaW4uZnJvbUxMTSh0aGlzLmxsbSwgdGhpcy52ZWN0b3JTdG9yZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBzdHJpbmcgdGhhdCBkZXNjcmliZXMgd2hhdCB0aGUgdG9vbCBkb2VzLlxuICAgICAqIEBwYXJhbSBuYW1lIFRoZSBuYW1lIG9mIHRoZSB0b29sLlxuICAgICAqIEBwYXJhbSBkZXNjcmlwdGlvbiBBIGRlc2NyaXB0aW9uIG9mIHdoYXQgdGhlIHRvb2wgZG9lcy5cbiAgICAgKiBAcmV0dXJucyBBIHN0cmluZyB0aGF0IGRlc2NyaWJlcyB3aGF0IHRoZSB0b29sIGRvZXMuXG4gICAgICovXG4gICAgc3RhdGljIGdldERlc2NyaXB0aW9uKG5hbWUsIGRlc2NyaXB0aW9uKSB7XG4gICAgICAgIHJldHVybiBgVXNlZnVsIGZvciB3aGVuIHlvdSBuZWVkIHRvIGFuc3dlciBxdWVzdGlvbnMgYWJvdXQgJHtuYW1lfS4gV2hlbmV2ZXIgeW91IG5lZWQgaW5mb3JtYXRpb24gYWJvdXQgJHtkZXNjcmlwdGlvbn0geW91IHNob3VsZCBBTFdBWVMgdXNlIHRoaXMuIElucHV0IHNob3VsZCBiZSBhIGZ1bGx5IGZvcm1lZCBxdWVzdGlvbi5gO1xuICAgIH1cbiAgICAvKiogQGlnbm9yZSAqL1xuICAgIGFzeW5jIF9jYWxsKGlucHV0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNoYWluLnJ1bihpbnB1dCk7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbIlRvb2wiLCJWZWN0b3JEQlFBQ2hhaW4iLCJWZWN0b3JTdG9yZVFBVG9vbCIsImxjX25hbWUiLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJkZXNjcmlwdGlvbiIsImZpZWxkcyIsImFyZ3VtZW50cyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwidmFsdWUiLCJ2ZWN0b3JTdG9yZSIsImxsbSIsImNoYWluIiwiZnJvbUxMTSIsImdldERlc2NyaXB0aW9uIiwiX2NhbGwiLCJpbnB1dCIsInJ1biJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/langchain/dist/tools/vectorstore.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/langchain/dist/util/set.js":
/*!*************************************************!*\
  !*** ./node_modules/langchain/dist/util/set.js ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   difference: () => (/* binding */ difference),\n/* harmony export */   intersection: () => (/* binding */ intersection),\n/* harmony export */   union: () => (/* binding */ union)\n/* harmony export */ });\n/**\n * Source: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set#implementing_basic_set_operations\n */ /**\n * returns intersection of two sets\n */ function intersection(setA, setB) {\n    const _intersection = new Set();\n    for (const elem of setB){\n        if (setA.has(elem)) {\n            _intersection.add(elem);\n        }\n    }\n    return _intersection;\n}\n/**\n * returns union of two sets\n */ function union(setA, setB) {\n    const _union = new Set(setA);\n    for (const elem of setB){\n        _union.add(elem);\n    }\n    return _union;\n}\n/**\n * returns difference of two sets\n */ function difference(setA, setB) {\n    const _difference = new Set(setA);\n    for (const elem of setB){\n        _difference.delete(elem);\n    }\n    return _difference;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvdXRpbC9zZXQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7O0NBRUMsR0FDRDs7Q0FFQyxHQUNNLFNBQVNBLGFBQWFDLElBQUksRUFBRUMsSUFBSTtJQUNuQyxNQUFNQyxnQkFBZ0IsSUFBSUM7SUFDMUIsS0FBSyxNQUFNQyxRQUFRSCxLQUFNO1FBQ3JCLElBQUlELEtBQUtLLEdBQUcsQ0FBQ0QsT0FBTztZQUNoQkYsY0FBY0ksR0FBRyxDQUFDRjtRQUN0QjtJQUNKO0lBQ0EsT0FBT0Y7QUFDWDtBQUNBOztDQUVDLEdBQ00sU0FBU0ssTUFBTVAsSUFBSSxFQUFFQyxJQUFJO0lBQzVCLE1BQU1PLFNBQVMsSUFBSUwsSUFBSUg7SUFDdkIsS0FBSyxNQUFNSSxRQUFRSCxLQUFNO1FBQ3JCTyxPQUFPRixHQUFHLENBQUNGO0lBQ2Y7SUFDQSxPQUFPSTtBQUNYO0FBQ0E7O0NBRUMsR0FDTSxTQUFTQyxXQUFXVCxJQUFJLEVBQUVDLElBQUk7SUFDakMsTUFBTVMsY0FBYyxJQUFJUCxJQUFJSDtJQUM1QixLQUFLLE1BQU1JLFFBQVFILEtBQU07UUFDckJTLFlBQVlDLE1BQU0sQ0FBQ1A7SUFDdkI7SUFDQSxPQUFPTTtBQUNYIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmV0dGVyLXRvZG8vLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvdXRpbC9zZXQuanM/ZmQzOCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFNvdXJjZTogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvU2V0I2ltcGxlbWVudGluZ19iYXNpY19zZXRfb3BlcmF0aW9uc1xuICovXG4vKipcbiAqIHJldHVybnMgaW50ZXJzZWN0aW9uIG9mIHR3byBzZXRzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnRlcnNlY3Rpb24oc2V0QSwgc2V0Qikge1xuICAgIGNvbnN0IF9pbnRlcnNlY3Rpb24gPSBuZXcgU2V0KCk7XG4gICAgZm9yIChjb25zdCBlbGVtIG9mIHNldEIpIHtcbiAgICAgICAgaWYgKHNldEEuaGFzKGVsZW0pKSB7XG4gICAgICAgICAgICBfaW50ZXJzZWN0aW9uLmFkZChlbGVtKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gX2ludGVyc2VjdGlvbjtcbn1cbi8qKlxuICogcmV0dXJucyB1bmlvbiBvZiB0d28gc2V0c1xuICovXG5leHBvcnQgZnVuY3Rpb24gdW5pb24oc2V0QSwgc2V0Qikge1xuICAgIGNvbnN0IF91bmlvbiA9IG5ldyBTZXQoc2V0QSk7XG4gICAgZm9yIChjb25zdCBlbGVtIG9mIHNldEIpIHtcbiAgICAgICAgX3VuaW9uLmFkZChlbGVtKTtcbiAgICB9XG4gICAgcmV0dXJuIF91bmlvbjtcbn1cbi8qKlxuICogcmV0dXJucyBkaWZmZXJlbmNlIG9mIHR3byBzZXRzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkaWZmZXJlbmNlKHNldEEsIHNldEIpIHtcbiAgICBjb25zdCBfZGlmZmVyZW5jZSA9IG5ldyBTZXQoc2V0QSk7XG4gICAgZm9yIChjb25zdCBlbGVtIG9mIHNldEIpIHtcbiAgICAgICAgX2RpZmZlcmVuY2UuZGVsZXRlKGVsZW0pO1xuICAgIH1cbiAgICByZXR1cm4gX2RpZmZlcmVuY2U7XG59XG4iXSwibmFtZXMiOlsiaW50ZXJzZWN0aW9uIiwic2V0QSIsInNldEIiLCJfaW50ZXJzZWN0aW9uIiwiU2V0IiwiZWxlbSIsImhhcyIsImFkZCIsInVuaW9uIiwiX3VuaW9uIiwiZGlmZmVyZW5jZSIsIl9kaWZmZXJlbmNlIiwiZGVsZXRlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/langchain/dist/util/set.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/langchain/tools.js":
/*!*****************************************!*\
  !*** ./node_modules/langchain/tools.js ***!
  \*****************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChainTool: () => (/* reexport safe */ _dist_tools_index_js__WEBPACK_IMPORTED_MODULE_0__.ChainTool),\n/* harmony export */   DynamicStructuredTool: () => (/* reexport safe */ _dist_tools_index_js__WEBPACK_IMPORTED_MODULE_0__.DynamicStructuredTool),\n/* harmony export */   DynamicTool: () => (/* reexport safe */ _dist_tools_index_js__WEBPACK_IMPORTED_MODULE_0__.DynamicTool),\n/* harmony export */   JsonGetValueTool: () => (/* reexport safe */ _dist_tools_index_js__WEBPACK_IMPORTED_MODULE_0__.JsonGetValueTool),\n/* harmony export */   JsonListKeysTool: () => (/* reexport safe */ _dist_tools_index_js__WEBPACK_IMPORTED_MODULE_0__.JsonListKeysTool),\n/* harmony export */   JsonSpec: () => (/* reexport safe */ _dist_tools_index_js__WEBPACK_IMPORTED_MODULE_0__.JsonSpec),\n/* harmony export */   ReadFileTool: () => (/* reexport safe */ _dist_tools_index_js__WEBPACK_IMPORTED_MODULE_0__.ReadFileTool),\n/* harmony export */   RequestsGetTool: () => (/* reexport safe */ _dist_tools_index_js__WEBPACK_IMPORTED_MODULE_0__.RequestsGetTool),\n/* harmony export */   RequestsPostTool: () => (/* reexport safe */ _dist_tools_index_js__WEBPACK_IMPORTED_MODULE_0__.RequestsPostTool),\n/* harmony export */   StructuredTool: () => (/* reexport safe */ _dist_tools_index_js__WEBPACK_IMPORTED_MODULE_0__.StructuredTool),\n/* harmony export */   Tool: () => (/* reexport safe */ _dist_tools_index_js__WEBPACK_IMPORTED_MODULE_0__.Tool),\n/* harmony export */   VectorStoreQATool: () => (/* reexport safe */ _dist_tools_index_js__WEBPACK_IMPORTED_MODULE_0__.VectorStoreQATool),\n/* harmony export */   WriteFileTool: () => (/* reexport safe */ _dist_tools_index_js__WEBPACK_IMPORTED_MODULE_0__.WriteFileTool),\n/* harmony export */   formatToOpenAIFunction: () => (/* reexport safe */ _dist_tools_index_js__WEBPACK_IMPORTED_MODULE_0__.formatToOpenAIFunction),\n/* harmony export */   formatToOpenAITool: () => (/* reexport safe */ _dist_tools_index_js__WEBPACK_IMPORTED_MODULE_0__.formatToOpenAITool)\n/* harmony export */ });\n/* harmony import */ var _dist_tools_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dist/tools/index.js */ \"(rsc)/./node_modules/langchain/dist/tools/index.js\");\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL3Rvb2xzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBcUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iZXR0ZXItdG9kby8uL25vZGVfbW9kdWxlcy9sYW5nY2hhaW4vdG9vbHMuanM/NDJlOCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgKiBmcm9tICcuL2Rpc3QvdG9vbHMvaW5kZXguanMnIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/langchain/tools.js\n");

/***/ })

};
;